(()=>{var ir=Object.create;var _t=Object.defineProperty;var rr=Object.getOwnPropertyDescriptor;var ar=Object.getOwnPropertyNames;var nr=Object.getPrototypeOf,or=Object.prototype.hasOwnProperty;var kt=(a,t)=>()=>(t||a((t={exports:{}}).exports,t),t.exports);var sr=(a,t,i,e)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of ar(t))!or.call(a,r)&&r!==i&&_t(a,r,{get:()=>t[r],enumerable:!(e=rr(t,r))||e.enumerable});return a};var Te=(a,t,i)=>(i=a!=null?ir(nr(a)):{},sr(t||!a||!a.__esModule?_t(i,"default",{value:a,enumerable:!0}):i,a));var De=kt((Pn,Je)=>{"use strict";var ge=typeof Reflect=="object"?Reflect:null,At=ge&&typeof ge.apply=="function"?ge.apply:function(t,i,e){return Function.prototype.apply.call(t,i,e)},Le;ge&&typeof ge.ownKeys=="function"?Le=ge.ownKeys:Object.getOwnPropertySymbols?Le=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Le=function(t){return Object.getOwnPropertyNames(t)};function lr(a){console&&console.warn&&console.warn(a)}var St=Number.isNaN||function(t){return t!==t};function C(){C.init.call(this)}Je.exports=C;Je.exports.once=gr;C.EventEmitter=C;C.prototype._events=void 0;C.prototype._eventsCount=0;C.prototype._maxListeners=void 0;var Ct=10;function Ne(a){if(typeof a!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof a)}Object.defineProperty(C,"defaultMaxListeners",{enumerable:!0,get:function(){return Ct},set:function(a){if(typeof a!="number"||a<0||St(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+a+".");Ct=a}});C.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};C.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||St(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function zt(a){return a._maxListeners===void 0?C.defaultMaxListeners:a._maxListeners}C.prototype.getMaxListeners=function(){return zt(this)};C.prototype.emit=function(t){for(var i=[],e=1;e<arguments.length;e++)i.push(arguments[e]);var r=t==="error",n=this._events;if(n!==void 0)r=r&&n.error===void 0;else if(!r)return!1;if(r){var o;if(i.length>0&&(o=i[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var l=n[t];if(l===void 0)return!1;if(typeof l=="function")At(l,this,i);else for(var u=l.length,c=Gt(l,u),e=0;e<u;++e)At(c[e],this,i);return!0};function Rt(a,t,i,e){var r,n,o;if(Ne(i),n=a._events,n===void 0?(n=a._events=Object.create(null),a._eventsCount=0):(n.newListener!==void 0&&(a.emit("newListener",t,i.listener?i.listener:i),n=a._events),o=n[t]),o===void 0)o=n[t]=i,++a._eventsCount;else if(typeof o=="function"?o=n[t]=e?[i,o]:[o,i]:e?o.unshift(i):o.push(i),r=zt(a),r>0&&o.length>r&&!o.warned){o.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=a,s.type=t,s.count=o.length,lr(s)}return a}C.prototype.addListener=function(t,i){return Rt(this,t,i,!1)};C.prototype.on=C.prototype.addListener;C.prototype.prependListener=function(t,i){return Rt(this,t,i,!0)};function ur(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Lt(a,t,i){var e={fired:!1,wrapFn:void 0,target:a,type:t,listener:i},r=ur.bind(e);return r.listener=i,e.wrapFn=r,r}C.prototype.once=function(t,i){return Ne(i),this.on(t,Lt(this,t,i)),this};C.prototype.prependOnceListener=function(t,i){return Ne(i),this.prependListener(t,Lt(this,t,i)),this};C.prototype.removeListener=function(t,i){var e,r,n,o,s;if(Ne(i),r=this._events,r===void 0)return this;if(e=r[t],e===void 0)return this;if(e===i||e.listener===i)--this._eventsCount===0?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,e.listener||i));else if(typeof e!="function"){for(n=-1,o=e.length-1;o>=0;o--)if(e[o]===i||e[o].listener===i){s=e[o].listener,n=o;break}if(n<0)return this;n===0?e.shift():cr(e,n),e.length===1&&(r[t]=e[0]),r.removeListener!==void 0&&this.emit("removeListener",t,s||i)}return this};C.prototype.off=C.prototype.removeListener;C.prototype.removeAllListeners=function(t){var i,e,r;if(e=this._events,e===void 0)return this;if(e.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):e[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete e[t]),this;if(arguments.length===0){var n=Object.keys(e),o;for(r=0;r<n.length;++r)o=n[r],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(i=e[t],typeof i=="function")this.removeListener(t,i);else if(i!==void 0)for(r=i.length-1;r>=0;r--)this.removeListener(t,i[r]);return this};function Nt(a,t,i){var e=a._events;if(e===void 0)return[];var r=e[t];return r===void 0?[]:typeof r=="function"?i?[r.listener||r]:[r]:i?dr(r):Gt(r,r.length)}C.prototype.listeners=function(t){return Nt(this,t,!0)};C.prototype.rawListeners=function(t){return Nt(this,t,!1)};C.listenerCount=function(a,t){return typeof a.listenerCount=="function"?a.listenerCount(t):Dt.call(a,t)};C.prototype.listenerCount=Dt;function Dt(a){var t=this._events;if(t!==void 0){var i=t[a];if(typeof i=="function")return 1;if(i!==void 0)return i.length}return 0}C.prototype.eventNames=function(){return this._eventsCount>0?Le(this._events):[]};function Gt(a,t){for(var i=new Array(t),e=0;e<t;++e)i[e]=a[e];return i}function cr(a,t){for(;t+1<a.length;t++)a[t]=a[t+1];a.pop()}function dr(a){for(var t=new Array(a.length),i=0;i<t.length;++i)t[i]=a[i].listener||a[i];return t}function gr(a,t){return new Promise(function(i,e){function r(o){a.removeListener(t,n),e(o)}function n(){typeof a.removeListener=="function"&&a.removeListener("error",r),i([].slice.call(arguments))}Ft(a,t,n,{once:!0}),t!=="error"&&hr(a,r,{once:!0})})}function hr(a,t,i){typeof a.on=="function"&&Ft(a,"error",t,i)}function Ft(a,t,i,e){if(typeof a.on=="function")e.once?a.once(t,i):a.on(t,i);else if(typeof a.addEventListener=="function")a.addEventListener(t,function r(n){e.once&&a.removeEventListener(t,r),i(n)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof a)}});var mt=kt((Yn,qi)=>{qi.exports=function(t){return t!==null&&typeof t=="object"&&typeof t.addUndirectedEdgeWithKey=="function"&&typeof t.dropNode=="function"&&typeof t.multi=="boolean"}});var Ut=Te(De(),1);function yr(){let a=arguments[0];for(let t=1,i=arguments.length;t<i;t++)if(arguments[t])for(let e in arguments[t])a[e]=arguments[t][e];return a}var R=yr;typeof Object.assign=="function"&&(R=Object.assign);function B(a,t,i,e){let r=a._nodes.get(t),n=null;return r&&(e==="mixed"?n=r.out&&r.out[i]||r.undirected&&r.undirected[i]:e==="directed"?n=r.out&&r.out[i]:n=r.undirected&&r.undirected[i]),n}function D(a){return typeof a=="object"&&a!==null}function Ot(a){let t;for(t in a)return!1;return!0}function $(a,t,i){Object.defineProperty(a,t,{enumerable:!1,configurable:!1,writable:!0,value:i})}function V(a,t,i){let e={enumerable:!0,configurable:!0};typeof i=="function"?e.get=i:(e.value=i,e.writable=!1),Object.defineProperty(a,t,e)}function Pt(a){return!(!D(a)||a.attributes&&!Array.isArray(a.attributes))}function fr(){let a=Math.floor(Math.random()*256)&255;return()=>a++}function X(){let a=arguments,t=null,i=-1;return{[Symbol.iterator](){return this},next(){let e=null;do{if(t===null){if(i++,i>=a.length)return{done:!0};t=a[i][Symbol.iterator]()}if(e=t.next(),e.done){t=null;continue}break}while(!0);return e}}}function fe(){return{[Symbol.iterator](){return this},next(){return{done:!0}}}}var _e=class extends Error{constructor(t){super(),this.name="GraphError",this.message=t}},w=class a extends _e{constructor(t){super(t),this.name="InvalidArgumentsGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,a.prototype.constructor)}},b=class a extends _e{constructor(t){super(t),this.name="NotFoundGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,a.prototype.constructor)}},_=class a extends _e{constructor(t){super(t),this.name="UsageGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,a.prototype.constructor)}};function $t(a,t){this.key=a,this.attributes=t,this.clear()}$t.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.undirectedLoops=0,this.directedLoops=0,this.in={},this.out={},this.undirected={}};function Bt(a,t){this.key=a,this.attributes=t,this.clear()}Bt.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedLoops=0,this.in={},this.out={}};function Ht(a,t){this.key=a,this.attributes=t,this.clear()}Ht.prototype.clear=function(){this.undirectedDegree=0,this.undirectedLoops=0,this.undirected={}};function pe(a,t,i,e,r){this.key=t,this.attributes=r,this.undirected=a,this.source=i,this.target=e}pe.prototype.attach=function(){let a="out",t="in";this.undirected&&(a=t="undirected");let i=this.source.key,e=this.target.key;this.source[a][e]=this,!(this.undirected&&i===e)&&(this.target[t][i]=this)};pe.prototype.attachMulti=function(){let a="out",t="in",i=this.source.key,e=this.target.key;this.undirected&&(a=t="undirected");let r=this.source[a],n=r[e];if(typeof n>"u"){r[e]=this,this.undirected&&i===e||(this.target[t][i]=this);return}n.previous=this,this.next=n,r[e]=this,this.target[t][i]=this};pe.prototype.detach=function(){let a=this.source.key,t=this.target.key,i="out",e="in";this.undirected&&(i=e="undirected"),delete this.source[i][t],delete this.target[e][a]};pe.prototype.detachMulti=function(){let a=this.source.key,t=this.target.key,i="out",e="in";this.undirected&&(i=e="undirected"),this.previous===void 0?this.next===void 0?(delete this.source[i][t],delete this.target[e][a]):(this.next.previous=void 0,this.source[i][t]=this.next,this.target[e][a]=this.next):(this.previous.next=this.next,this.next!==void 0&&(this.next.previous=this.previous))};var Wt=0,jt=1,pr=2,Vt=3;function Q(a,t,i,e,r,n,o){let s,l,u,c;if(e=""+e,i===Wt){if(s=a._nodes.get(e),!s)throw new b(`Graph.${t}: could not find the "${e}" node in the graph.`);u=r,c=n}else if(i===Vt){if(r=""+r,l=a._edges.get(r),!l)throw new b(`Graph.${t}: could not find the "${r}" edge in the graph.`);let d=l.source.key,g=l.target.key;if(e===d)s=l.target;else if(e===g)s=l.source;else throw new b(`Graph.${t}: the "${e}" node is not attached to the "${r}" edge (${d}, ${g}).`);u=n,c=o}else{if(l=a._edges.get(e),!l)throw new b(`Graph.${t}: could not find the "${e}" edge in the graph.`);i===jt?s=l.source:s=l.target,u=r,c=n}return[s,u,c]}function br(a,t,i){a.prototype[t]=function(e,r,n){let[o,s]=Q(this,t,i,e,r,n);return o.attributes[s]}}function mr(a,t,i){a.prototype[t]=function(e,r){let[n]=Q(this,t,i,e,r);return n.attributes}}function vr(a,t,i){a.prototype[t]=function(e,r,n){let[o,s]=Q(this,t,i,e,r,n);return o.attributes.hasOwnProperty(s)}}function wr(a,t,i){a.prototype[t]=function(e,r,n,o){let[s,l,u]=Q(this,t,i,e,r,n,o);return s.attributes[l]=u,this.emit("nodeAttributesUpdated",{key:s.key,type:"set",attributes:s.attributes,name:l}),this}}function Er(a,t,i){a.prototype[t]=function(e,r,n,o){let[s,l,u]=Q(this,t,i,e,r,n,o);if(typeof u!="function")throw new w(`Graph.${t}: updater should be a function.`);let c=s.attributes,d=u(c[l]);return c[l]=d,this.emit("nodeAttributesUpdated",{key:s.key,type:"set",attributes:s.attributes,name:l}),this}}function Tr(a,t,i){a.prototype[t]=function(e,r,n){let[o,s]=Q(this,t,i,e,r,n);return delete o.attributes[s],this.emit("nodeAttributesUpdated",{key:o.key,type:"remove",attributes:o.attributes,name:s}),this}}function qr(a,t,i){a.prototype[t]=function(e,r,n){let[o,s]=Q(this,t,i,e,r,n);if(!D(s))throw new w(`Graph.${t}: provided attributes are not a plain object.`);return o.attributes=s,this.emit("nodeAttributesUpdated",{key:o.key,type:"replace",attributes:o.attributes}),this}}function xr(a,t,i){a.prototype[t]=function(e,r,n){let[o,s]=Q(this,t,i,e,r,n);if(!D(s))throw new w(`Graph.${t}: provided attributes are not a plain object.`);return R(o.attributes,s),this.emit("nodeAttributesUpdated",{key:o.key,type:"merge",attributes:o.attributes,data:s}),this}}function _r(a,t,i){a.prototype[t]=function(e,r,n){let[o,s]=Q(this,t,i,e,r,n);if(typeof s!="function")throw new w(`Graph.${t}: provided updater is not a function.`);return o.attributes=s(o.attributes),this.emit("nodeAttributesUpdated",{key:o.key,type:"update",attributes:o.attributes}),this}}var kr=[{name:a=>`get${a}Attribute`,attacher:br},{name:a=>`get${a}Attributes`,attacher:mr},{name:a=>`has${a}Attribute`,attacher:vr},{name:a=>`set${a}Attribute`,attacher:wr},{name:a=>`update${a}Attribute`,attacher:Er},{name:a=>`remove${a}Attribute`,attacher:Tr},{name:a=>`replace${a}Attributes`,attacher:qr},{name:a=>`merge${a}Attributes`,attacher:xr},{name:a=>`update${a}Attributes`,attacher:_r}];function Ar(a){kr.forEach(function({name:t,attacher:i}){i(a,t("Node"),Wt),i(a,t("Source"),jt),i(a,t("Target"),pr),i(a,t("Opposite"),Vt)})}function Cr(a,t,i){a.prototype[t]=function(e,r){let n;if(this.type!=="mixed"&&i!=="mixed"&&i!==this.type)throw new _(`Graph.${t}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new _(`Graph.${t}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);let o=""+e,s=""+r;if(r=arguments[2],n=B(this,o,s,i),!n)throw new b(`Graph.${t}: could not find an edge for the given path ("${o}" - "${s}").`)}else{if(i!=="mixed")throw new _(`Graph.${t}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(e=""+e,n=this._edges.get(e),!n)throw new b(`Graph.${t}: could not find the "${e}" edge in the graph.`)}return n.attributes[r]}}function Sr(a,t,i){a.prototype[t]=function(e){let r;if(this.type!=="mixed"&&i!=="mixed"&&i!==this.type)throw new _(`Graph.${t}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>1){if(this.multi)throw new _(`Graph.${t}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);let n=""+e,o=""+arguments[1];if(r=B(this,n,o,i),!r)throw new b(`Graph.${t}: could not find an edge for the given path ("${n}" - "${o}").`)}else{if(i!=="mixed")throw new _(`Graph.${t}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(e=""+e,r=this._edges.get(e),!r)throw new b(`Graph.${t}: could not find the "${e}" edge in the graph.`)}return r.attributes}}function zr(a,t,i){a.prototype[t]=function(e,r){let n;if(this.type!=="mixed"&&i!=="mixed"&&i!==this.type)throw new _(`Graph.${t}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new _(`Graph.${t}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);let o=""+e,s=""+r;if(r=arguments[2],n=B(this,o,s,i),!n)throw new b(`Graph.${t}: could not find an edge for the given path ("${o}" - "${s}").`)}else{if(i!=="mixed")throw new _(`Graph.${t}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(e=""+e,n=this._edges.get(e),!n)throw new b(`Graph.${t}: could not find the "${e}" edge in the graph.`)}return n.attributes.hasOwnProperty(r)}}function Rr(a,t,i){a.prototype[t]=function(e,r,n){let o;if(this.type!=="mixed"&&i!=="mixed"&&i!==this.type)throw new _(`Graph.${t}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>3){if(this.multi)throw new _(`Graph.${t}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);let s=""+e,l=""+r;if(r=arguments[2],n=arguments[3],o=B(this,s,l,i),!o)throw new b(`Graph.${t}: could not find an edge for the given path ("${s}" - "${l}").`)}else{if(i!=="mixed")throw new _(`Graph.${t}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(e=""+e,o=this._edges.get(e),!o)throw new b(`Graph.${t}: could not find the "${e}" edge in the graph.`)}return o.attributes[r]=n,this.emit("edgeAttributesUpdated",{key:o.key,type:"set",attributes:o.attributes,name:r}),this}}function Lr(a,t,i){a.prototype[t]=function(e,r,n){let o;if(this.type!=="mixed"&&i!=="mixed"&&i!==this.type)throw new _(`Graph.${t}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>3){if(this.multi)throw new _(`Graph.${t}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);let s=""+e,l=""+r;if(r=arguments[2],n=arguments[3],o=B(this,s,l,i),!o)throw new b(`Graph.${t}: could not find an edge for the given path ("${s}" - "${l}").`)}else{if(i!=="mixed")throw new _(`Graph.${t}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(e=""+e,o=this._edges.get(e),!o)throw new b(`Graph.${t}: could not find the "${e}" edge in the graph.`)}if(typeof n!="function")throw new w(`Graph.${t}: updater should be a function.`);return o.attributes[r]=n(o.attributes[r]),this.emit("edgeAttributesUpdated",{key:o.key,type:"set",attributes:o.attributes,name:r}),this}}function Nr(a,t,i){a.prototype[t]=function(e,r){let n;if(this.type!=="mixed"&&i!=="mixed"&&i!==this.type)throw new _(`Graph.${t}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new _(`Graph.${t}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);let o=""+e,s=""+r;if(r=arguments[2],n=B(this,o,s,i),!n)throw new b(`Graph.${t}: could not find an edge for the given path ("${o}" - "${s}").`)}else{if(i!=="mixed")throw new _(`Graph.${t}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(e=""+e,n=this._edges.get(e),!n)throw new b(`Graph.${t}: could not find the "${e}" edge in the graph.`)}return delete n.attributes[r],this.emit("edgeAttributesUpdated",{key:n.key,type:"remove",attributes:n.attributes,name:r}),this}}function Dr(a,t,i){a.prototype[t]=function(e,r){let n;if(this.type!=="mixed"&&i!=="mixed"&&i!==this.type)throw new _(`Graph.${t}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new _(`Graph.${t}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);let o=""+e,s=""+r;if(r=arguments[2],n=B(this,o,s,i),!n)throw new b(`Graph.${t}: could not find an edge for the given path ("${o}" - "${s}").`)}else{if(i!=="mixed")throw new _(`Graph.${t}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(e=""+e,n=this._edges.get(e),!n)throw new b(`Graph.${t}: could not find the "${e}" edge in the graph.`)}if(!D(r))throw new w(`Graph.${t}: provided attributes are not a plain object.`);return n.attributes=r,this.emit("edgeAttributesUpdated",{key:n.key,type:"replace",attributes:n.attributes}),this}}function Gr(a,t,i){a.prototype[t]=function(e,r){let n;if(this.type!=="mixed"&&i!=="mixed"&&i!==this.type)throw new _(`Graph.${t}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new _(`Graph.${t}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);let o=""+e,s=""+r;if(r=arguments[2],n=B(this,o,s,i),!n)throw new b(`Graph.${t}: could not find an edge for the given path ("${o}" - "${s}").`)}else{if(i!=="mixed")throw new _(`Graph.${t}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(e=""+e,n=this._edges.get(e),!n)throw new b(`Graph.${t}: could not find the "${e}" edge in the graph.`)}if(!D(r))throw new w(`Graph.${t}: provided attributes are not a plain object.`);return R(n.attributes,r),this.emit("edgeAttributesUpdated",{key:n.key,type:"merge",attributes:n.attributes,data:r}),this}}function Fr(a,t,i){a.prototype[t]=function(e,r){let n;if(this.type!=="mixed"&&i!=="mixed"&&i!==this.type)throw new _(`Graph.${t}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new _(`Graph.${t}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);let o=""+e,s=""+r;if(r=arguments[2],n=B(this,o,s,i),!n)throw new b(`Graph.${t}: could not find an edge for the given path ("${o}" - "${s}").`)}else{if(i!=="mixed")throw new _(`Graph.${t}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(e=""+e,n=this._edges.get(e),!n)throw new b(`Graph.${t}: could not find the "${e}" edge in the graph.`)}if(typeof r!="function")throw new w(`Graph.${t}: provided updater is not a function.`);return n.attributes=r(n.attributes),this.emit("edgeAttributesUpdated",{key:n.key,type:"update",attributes:n.attributes}),this}}var Pr=[{name:a=>`get${a}Attribute`,attacher:Cr},{name:a=>`get${a}Attributes`,attacher:Sr},{name:a=>`has${a}Attribute`,attacher:zr},{name:a=>`set${a}Attribute`,attacher:Rr},{name:a=>`update${a}Attribute`,attacher:Lr},{name:a=>`remove${a}Attribute`,attacher:Nr},{name:a=>`replace${a}Attributes`,attacher:Dr},{name:a=>`merge${a}Attributes`,attacher:Gr},{name:a=>`update${a}Attributes`,attacher:Fr}];function Ir(a){Pr.forEach(function({name:t,attacher:i}){i(a,t("Edge"),"mixed"),i(a,t("DirectedEdge"),"directed"),i(a,t("UndirectedEdge"),"undirected")})}var Mr=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function Ur(a,t,i,e){let r=!1;for(let n in t){if(n===e)continue;let o=t[n];if(r=i(o.key,o.attributes,o.source.key,o.target.key,o.source.attributes,o.target.attributes,o.undirected),a&&r)return o.key}}function Or(a,t,i,e){let r,n,o,s=!1;for(let l in t)if(l!==e){r=t[l];do{if(n=r.source,o=r.target,s=i(r.key,r.attributes,n.key,o.key,n.attributes,o.attributes,r.undirected),a&&s)return r.key;r=r.next}while(r!==void 0)}}function et(a,t){let i=Object.keys(a),e=i.length,r,n=0;return{[Symbol.iterator](){return this},next(){do if(r)r=r.next;else{if(n>=e)return{done:!0};let o=i[n++];if(o===t){r=void 0;continue}r=a[o]}while(!r);return{done:!1,value:{edge:r.key,attributes:r.attributes,source:r.source.key,target:r.target.key,sourceAttributes:r.source.attributes,targetAttributes:r.target.attributes,undirected:r.undirected}}}}}function $r(a,t,i,e){let r=t[i];if(!r)return;let n=r.source,o=r.target;if(e(r.key,r.attributes,n.key,o.key,n.attributes,o.attributes,r.undirected)&&a)return r.key}function Br(a,t,i,e){let r=t[i];if(!r)return;let n=!1;do{if(n=e(r.key,r.attributes,r.source.key,r.target.key,r.source.attributes,r.target.attributes,r.undirected),a&&n)return r.key;r=r.next}while(r!==void 0)}function tt(a,t){let i=a[t];if(i.next!==void 0)return{[Symbol.iterator](){return this},next(){if(!i)return{done:!0};let r={edge:i.key,attributes:i.attributes,source:i.source.key,target:i.target.key,sourceAttributes:i.source.attributes,targetAttributes:i.target.attributes,undirected:i.undirected};return i=i.next,{done:!1,value:r}}};let e=!1;return{[Symbol.iterator](){return this},next(){return e===!0?{done:!0}:(e=!0,{done:!1,value:{edge:i.key,attributes:i.attributes,source:i.source.key,target:i.target.key,sourceAttributes:i.source.attributes,targetAttributes:i.target.attributes,undirected:i.undirected}})}}}function Hr(a,t){if(a.size===0)return[];if(t==="mixed"||t===a.type)return Array.from(a._edges.keys());let i=t==="undirected"?a.undirectedSize:a.directedSize,e=new Array(i),r=t==="undirected",n=a._edges.values(),o=0,s,l;for(;s=n.next(),s.done!==!0;)l=s.value,l.undirected===r&&(e[o++]=l.key);return e}function Yt(a,t,i,e){if(t.size===0)return;let r=i!=="mixed"&&i!==t.type,n=i==="undirected",o,s,l=!1,u=t._edges.values();for(;o=u.next(),o.done!==!0;){if(s=o.value,r&&s.undirected!==n)continue;let{key:c,attributes:d,source:g,target:h}=s;if(l=e(c,d,g.key,h.key,g.attributes,h.attributes,s.undirected),a&&l)return c}}function Wr(a,t){if(a.size===0)return fe();let i=t!=="mixed"&&t!==a.type,e=t==="undirected",r=a._edges.values();return{[Symbol.iterator](){return this},next(){let n,o;for(;;){if(n=r.next(),n.done)return n;if(o=n.value,!(i&&o.undirected!==e))break}return{value:{edge:o.key,attributes:o.attributes,source:o.source.key,target:o.target.key,sourceAttributes:o.source.attributes,targetAttributes:o.target.attributes,undirected:o.undirected},done:!1}}}}function it(a,t,i,e,r,n){let o=t?Or:Ur,s;if(i!=="undirected"&&(e!=="out"&&(s=o(a,r.in,n),a&&s)||e!=="in"&&(s=o(a,r.out,n,e?void 0:r.key),a&&s))||i!=="directed"&&(s=o(a,r.undirected,n),a&&s))return s}function jr(a,t,i,e){let r=[];return it(!1,a,t,i,e,function(n){r.push(n)}),r}function Vr(a,t,i){let e=fe();return a!=="undirected"&&(t!=="out"&&typeof i.in<"u"&&(e=X(e,et(i.in))),t!=="in"&&typeof i.out<"u"&&(e=X(e,et(i.out,t?void 0:i.key)))),a!=="directed"&&typeof i.undirected<"u"&&(e=X(e,et(i.undirected))),e}function rt(a,t,i,e,r,n,o){let s=i?Br:$r,l;if(t!=="undirected"&&(typeof r.in<"u"&&e!=="out"&&(l=s(a,r.in,n,o),a&&l)||typeof r.out<"u"&&e!=="in"&&(e||r.key!==n)&&(l=s(a,r.out,n,o),a&&l))||t!=="directed"&&typeof r.undirected<"u"&&(l=s(a,r.undirected,n,o),a&&l))return l}function Yr(a,t,i,e,r){let n=[];return rt(!1,a,t,i,e,r,function(o){n.push(o)}),n}function Kr(a,t,i,e){let r=fe();return a!=="undirected"&&(typeof i.in<"u"&&t!=="out"&&e in i.in&&(r=X(r,tt(i.in,e))),typeof i.out<"u"&&t!=="in"&&e in i.out&&(t||i.key!==e)&&(r=X(r,tt(i.out,e)))),a!=="directed"&&typeof i.undirected<"u"&&e in i.undirected&&(r=X(r,tt(i.undirected,e))),r}function Zr(a,t){let{name:i,type:e,direction:r}=t;a.prototype[i]=function(n,o){if(e!=="mixed"&&this.type!=="mixed"&&e!==this.type)return[];if(!arguments.length)return Hr(this,e);if(arguments.length===1){n=""+n;let s=this._nodes.get(n);if(typeof s>"u")throw new b(`Graph.${i}: could not find the "${n}" node in the graph.`);return jr(this.multi,e==="mixed"?this.type:e,r,s)}if(arguments.length===2){n=""+n,o=""+o;let s=this._nodes.get(n);if(!s)throw new b(`Graph.${i}:  could not find the "${n}" source node in the graph.`);if(!this._nodes.has(o))throw new b(`Graph.${i}:  could not find the "${o}" target node in the graph.`);return Yr(e,this.multi,r,s,o)}throw new w(`Graph.${i}: too many arguments (expecting 0, 1 or 2 and got ${arguments.length}).`)}}function Xr(a,t){let{name:i,type:e,direction:r}=t,n="forEach"+i[0].toUpperCase()+i.slice(1,-1);a.prototype[n]=function(u,c,d){if(!(e!=="mixed"&&this.type!=="mixed"&&e!==this.type)){if(arguments.length===1)return d=u,Yt(!1,this,e,d);if(arguments.length===2){u=""+u,d=c;let g=this._nodes.get(u);if(typeof g>"u")throw new b(`Graph.${n}: could not find the "${u}" node in the graph.`);return it(!1,this.multi,e==="mixed"?this.type:e,r,g,d)}if(arguments.length===3){u=""+u,c=""+c;let g=this._nodes.get(u);if(!g)throw new b(`Graph.${n}:  could not find the "${u}" source node in the graph.`);if(!this._nodes.has(c))throw new b(`Graph.${n}:  could not find the "${c}" target node in the graph.`);return rt(!1,e,this.multi,r,g,c,d)}throw new w(`Graph.${n}: too many arguments (expecting 1, 2 or 3 and got ${arguments.length}).`)}};let o="map"+i[0].toUpperCase()+i.slice(1);a.prototype[o]=function(){let u=Array.prototype.slice.call(arguments),c=u.pop(),d;if(u.length===0){let g=0;e!=="directed"&&(g+=this.undirectedSize),e!=="undirected"&&(g+=this.directedSize),d=new Array(g);let h=0;u.push((f,p,m,T,v,E,x)=>{d[h++]=c(f,p,m,T,v,E,x)})}else d=[],u.push((g,h,f,p,m,T,v)=>{d.push(c(g,h,f,p,m,T,v))});return this[n].apply(this,u),d};let s="filter"+i[0].toUpperCase()+i.slice(1);a.prototype[s]=function(){let u=Array.prototype.slice.call(arguments),c=u.pop(),d=[];return u.push((g,h,f,p,m,T,v)=>{c(g,h,f,p,m,T,v)&&d.push(g)}),this[n].apply(this,u),d};let l="reduce"+i[0].toUpperCase()+i.slice(1);a.prototype[l]=function(){let u=Array.prototype.slice.call(arguments);if(u.length<2||u.length>4)throw new w(`Graph.${l}: invalid number of arguments (expecting 2, 3 or 4 and got ${u.length}).`);if(typeof u[u.length-1]=="function"&&typeof u[u.length-2]!="function")throw new w(`Graph.${l}: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.`);let c,d;u.length===2?(c=u[0],d=u[1],u=[]):u.length===3?(c=u[1],d=u[2],u=[u[0]]):u.length===4&&(c=u[2],d=u[3],u=[u[0],u[1]]);let g=d;return u.push((h,f,p,m,T,v,E)=>{g=c(g,h,f,p,m,T,v,E)}),this[n].apply(this,u),g}}function Qr(a,t){let{name:i,type:e,direction:r}=t,n="find"+i[0].toUpperCase()+i.slice(1,-1);a.prototype[n]=function(l,u,c){if(e!=="mixed"&&this.type!=="mixed"&&e!==this.type)return!1;if(arguments.length===1)return c=l,Yt(!0,this,e,c);if(arguments.length===2){l=""+l,c=u;let d=this._nodes.get(l);if(typeof d>"u")throw new b(`Graph.${n}: could not find the "${l}" node in the graph.`);return it(!0,this.multi,e==="mixed"?this.type:e,r,d,c)}if(arguments.length===3){l=""+l,u=""+u;let d=this._nodes.get(l);if(!d)throw new b(`Graph.${n}:  could not find the "${l}" source node in the graph.`);if(!this._nodes.has(u))throw new b(`Graph.${n}:  could not find the "${u}" target node in the graph.`);return rt(!0,e,this.multi,r,d,u,c)}throw new w(`Graph.${n}: too many arguments (expecting 1, 2 or 3 and got ${arguments.length}).`)};let o="some"+i[0].toUpperCase()+i.slice(1,-1);a.prototype[o]=function(){let l=Array.prototype.slice.call(arguments),u=l.pop();return l.push((d,g,h,f,p,m,T)=>u(d,g,h,f,p,m,T)),!!this[n].apply(this,l)};let s="every"+i[0].toUpperCase()+i.slice(1,-1);a.prototype[s]=function(){let l=Array.prototype.slice.call(arguments),u=l.pop();return l.push((d,g,h,f,p,m,T)=>!u(d,g,h,f,p,m,T)),!this[n].apply(this,l)}}function Jr(a,t){let{name:i,type:e,direction:r}=t,n=i.slice(0,-1)+"Entries";a.prototype[n]=function(o,s){if(e!=="mixed"&&this.type!=="mixed"&&e!==this.type)return fe();if(!arguments.length)return Wr(this,e);if(arguments.length===1){o=""+o;let l=this._nodes.get(o);if(!l)throw new b(`Graph.${n}: could not find the "${o}" node in the graph.`);return Vr(e,r,l)}if(arguments.length===2){o=""+o,s=""+s;let l=this._nodes.get(o);if(!l)throw new b(`Graph.${n}:  could not find the "${o}" source node in the graph.`);if(!this._nodes.has(s))throw new b(`Graph.${n}:  could not find the "${s}" target node in the graph.`);return Kr(e,r,l,s)}throw new w(`Graph.${n}: too many arguments (expecting 0, 1 or 2 and got ${arguments.length}).`)}}function ea(a){Mr.forEach(t=>{Zr(a,t),Xr(a,t),Qr(a,t),Jr(a,t)})}var ta=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function Ue(){this.A=null,this.B=null}Ue.prototype.wrap=function(a){this.A===null?this.A=a:this.B===null&&(this.B=a)};Ue.prototype.has=function(a){return this.A!==null&&a in this.A||this.B!==null&&a in this.B};function qe(a,t,i,e,r){for(let n in e){let o=e[n],s=o.source,l=o.target,u=s===i?l:s;if(t&&t.has(u.key))continue;let c=r(u.key,u.attributes);if(a&&c)return u.key}}function at(a,t,i,e,r){if(t!=="mixed"){if(t==="undirected")return qe(a,null,e,e.undirected,r);if(typeof i=="string")return qe(a,null,e,e[i],r)}let n=new Ue,o;if(t!=="undirected"){if(i!=="out"){if(o=qe(a,null,e,e.in,r),a&&o)return o;n.wrap(e.in)}if(i!=="in"){if(o=qe(a,n,e,e.out,r),a&&o)return o;n.wrap(e.out)}}if(t!=="directed"&&(o=qe(a,n,e,e.undirected,r),a&&o))return o}function ia(a,t,i){if(a!=="mixed"){if(a==="undirected")return Object.keys(i.undirected);if(typeof t=="string")return Object.keys(i[t])}let e=[];return at(!1,a,t,i,function(r){e.push(r)}),e}function xe(a,t,i){let e=Object.keys(i),r=e.length,n=0;return{[Symbol.iterator](){return this},next(){let o=null;do{if(n>=r)return a&&a.wrap(i),{done:!0};let s=i[e[n++]],l=s.source,u=s.target;if(o=l===t?u:l,a&&a.has(o.key)){o=null;continue}}while(o===null);return{done:!1,value:{neighbor:o.key,attributes:o.attributes}}}}}function ra(a,t,i){if(a!=="mixed"){if(a==="undirected")return xe(null,i,i.undirected);if(typeof t=="string")return xe(null,i,i[t])}let e=fe(),r=new Ue;return a!=="undirected"&&(t!=="out"&&(e=X(e,xe(r,i,i.in))),t!=="in"&&(e=X(e,xe(r,i,i.out)))),a!=="directed"&&(e=X(e,xe(r,i,i.undirected))),e}function aa(a,t){let{name:i,type:e,direction:r}=t;a.prototype[i]=function(n){if(e!=="mixed"&&this.type!=="mixed"&&e!==this.type)return[];n=""+n;let o=this._nodes.get(n);if(typeof o>"u")throw new b(`Graph.${i}: could not find the "${n}" node in the graph.`);return ia(e==="mixed"?this.type:e,r,o)}}function na(a,t){let{name:i,type:e,direction:r}=t,n="forEach"+i[0].toUpperCase()+i.slice(1,-1);a.prototype[n]=function(u,c){if(e!=="mixed"&&this.type!=="mixed"&&e!==this.type)return;u=""+u;let d=this._nodes.get(u);if(typeof d>"u")throw new b(`Graph.${n}: could not find the "${u}" node in the graph.`);at(!1,e==="mixed"?this.type:e,r,d,c)};let o="map"+i[0].toUpperCase()+i.slice(1);a.prototype[o]=function(u,c){let d=[];return this[n](u,(g,h)=>{d.push(c(g,h))}),d};let s="filter"+i[0].toUpperCase()+i.slice(1);a.prototype[s]=function(u,c){let d=[];return this[n](u,(g,h)=>{c(g,h)&&d.push(g)}),d};let l="reduce"+i[0].toUpperCase()+i.slice(1);a.prototype[l]=function(u,c,d){if(arguments.length<3)throw new w(`Graph.${l}: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.`);let g=d;return this[n](u,(h,f)=>{g=c(g,h,f)}),g}}function oa(a,t){let{name:i,type:e,direction:r}=t,n=i[0].toUpperCase()+i.slice(1,-1),o="find"+n;a.prototype[o]=function(u,c){if(e!=="mixed"&&this.type!=="mixed"&&e!==this.type)return;u=""+u;let d=this._nodes.get(u);if(typeof d>"u")throw new b(`Graph.${o}: could not find the "${u}" node in the graph.`);return at(!0,e==="mixed"?this.type:e,r,d,c)};let s="some"+n;a.prototype[s]=function(u,c){return!!this[o](u,c)};let l="every"+n;a.prototype[l]=function(u,c){return!this[o](u,(g,h)=>!c(g,h))}}function sa(a,t){let{name:i,type:e,direction:r}=t,n=i.slice(0,-1)+"Entries";a.prototype[n]=function(o){if(e!=="mixed"&&this.type!=="mixed"&&e!==this.type)return fe();o=""+o;let s=this._nodes.get(o);if(typeof s>"u")throw new b(`Graph.${n}: could not find the "${o}" node in the graph.`);return ra(e==="mixed"?this.type:e,r,s)}}function la(a){ta.forEach(t=>{aa(a,t),na(a,t),oa(a,t),sa(a,t)})}function Ge(a,t,i,e,r){let n=e._nodes.values(),o=e.type,s,l,u,c,d,g,h;for(;s=n.next(),s.done!==!0;){let f=!1;if(l=s.value,o!=="undirected"){c=l.out;for(u in c){d=c[u];do{if(g=d.target,f=!0,h=r(l.key,g.key,l.attributes,g.attributes,d.key,d.attributes,d.undirected),a&&h)return d;d=d.next}while(d)}}if(o!=="directed"){c=l.undirected;for(u in c)if(!(t&&l.key>u)){d=c[u];do{if(g=d.target,g.key!==u&&(g=d.source),f=!0,h=r(l.key,g.key,l.attributes,g.attributes,d.key,d.attributes,d.undirected),a&&h)return d;d=d.next}while(d)}}if(i&&!f&&(h=r(l.key,null,l.attributes,null,null,null,null),a&&h))return null}}function ua(a,t){let i={key:a};return Ot(t.attributes)||(i.attributes=R({},t.attributes)),i}function ca(a,t,i){let e={key:t,source:i.source.key,target:i.target.key};return Ot(i.attributes)||(e.attributes=R({},i.attributes)),a==="mixed"&&i.undirected&&(e.undirected=!0),e}function da(a){if(!D(a))throw new w('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if(!("key"in a))throw new w("Graph.import: serialized node is missing its key.");if("attributes"in a&&(!D(a.attributes)||a.attributes===null))throw new w("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.")}function ga(a){if(!D(a))throw new w('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if(!("source"in a))throw new w("Graph.import: serialized edge is missing its source.");if(!("target"in a))throw new w("Graph.import: serialized edge is missing its target.");if("attributes"in a&&(!D(a.attributes)||a.attributes===null))throw new w("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.");if("undirected"in a&&typeof a.undirected!="boolean")throw new w("Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.")}var ha=fr(),ya=new Set(["directed","undirected","mixed"]),It=new Set(["domain","_events","_eventsCount","_maxListeners"]),fa=[{name:a=>`${a}Edge`,generateKey:!0},{name:a=>`${a}DirectedEdge`,generateKey:!0,type:"directed"},{name:a=>`${a}UndirectedEdge`,generateKey:!0,type:"undirected"},{name:a=>`${a}EdgeWithKey`},{name:a=>`${a}DirectedEdgeWithKey`,type:"directed"},{name:a=>`${a}UndirectedEdgeWithKey`,type:"undirected"}],pa={allowSelfLoops:!0,multi:!1,type:"mixed"};function ba(a,t,i){if(i&&!D(i))throw new w(`Graph.addNode: invalid attributes. Expecting an object but got "${i}"`);if(t=""+t,i=i||{},a._nodes.has(t))throw new _(`Graph.addNode: the "${t}" node already exist in the graph.`);let e=new a.NodeDataClass(t,i);return a._nodes.set(t,e),a.emit("nodeAdded",{key:t,attributes:i}),e}function Mt(a,t,i){let e=new a.NodeDataClass(t,i);return a._nodes.set(t,e),a.emit("nodeAdded",{key:t,attributes:i}),e}function Kt(a,t,i,e,r,n,o,s){if(!e&&a.type==="undirected")throw new _(`Graph.${t}: you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead.`);if(e&&a.type==="directed")throw new _(`Graph.${t}: you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead.`);if(s&&!D(s))throw new w(`Graph.${t}: invalid attributes. Expecting an object but got "${s}"`);if(n=""+n,o=""+o,s=s||{},!a.allowSelfLoops&&n===o)throw new _(`Graph.${t}: source & target are the same ("${n}"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`);let l=a._nodes.get(n),u=a._nodes.get(o);if(!l)throw new b(`Graph.${t}: source node "${n}" not found.`);if(!u)throw new b(`Graph.${t}: target node "${o}" not found.`);let c={key:null,undirected:e,source:n,target:o,attributes:s};if(i)r=a._edgeKeyGenerator();else if(r=""+r,a._edges.has(r))throw new _(`Graph.${t}: the "${r}" edge already exists in the graph.`);if(!a.multi&&(e?typeof l.undirected[o]<"u":typeof l.out[o]<"u"))throw new _(`Graph.${t}: an edge linking "${n}" to "${o}" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option.`);let d=new pe(e,r,l,u,s);a._edges.set(r,d);let g=n===o;return e?(l.undirectedDegree++,u.undirectedDegree++,g&&(l.undirectedLoops++,a._undirectedSelfLoopCount++)):(l.outDegree++,u.inDegree++,g&&(l.directedLoops++,a._directedSelfLoopCount++)),a.multi?d.attachMulti():d.attach(),e?a._undirectedSize++:a._directedSize++,c.key=r,a.emit("edgeAdded",c),r}function ma(a,t,i,e,r,n,o,s,l){if(!e&&a.type==="undirected")throw new _(`Graph.${t}: you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead.`);if(e&&a.type==="directed")throw new _(`Graph.${t}: you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead.`);if(s){if(l){if(typeof s!="function")throw new w(`Graph.${t}: invalid updater function. Expecting a function but got "${s}"`)}else if(!D(s))throw new w(`Graph.${t}: invalid attributes. Expecting an object but got "${s}"`)}n=""+n,o=""+o;let u;if(l&&(u=s,s=void 0),!a.allowSelfLoops&&n===o)throw new _(`Graph.${t}: source & target are the same ("${n}"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`);let c=a._nodes.get(n),d=a._nodes.get(o),g,h;if(!i&&(g=a._edges.get(r),g)){if((g.source.key!==n||g.target.key!==o)&&(!e||g.source.key!==o||g.target.key!==n))throw new _(`Graph.${t}: inconsistency detected when attempting to merge the "${r}" edge with "${n}" source & "${o}" target vs. ("${g.source.key}", "${g.target.key}").`);h=g}if(!h&&!a.multi&&c&&(h=e?c.undirected[o]:c.out[o]),h){let v=[h.key,!1,!1,!1];if(l?!u:!s)return v;if(l){let E=h.attributes;h.attributes=u(E),a.emit("edgeAttributesUpdated",{type:"replace",key:h.key,attributes:h.attributes})}else R(h.attributes,s),a.emit("edgeAttributesUpdated",{type:"merge",key:h.key,attributes:h.attributes,data:s});return v}s=s||{},l&&u&&(s=u(s));let f={key:null,undirected:e,source:n,target:o,attributes:s};if(i)r=a._edgeKeyGenerator();else if(r=""+r,a._edges.has(r))throw new _(`Graph.${t}: the "${r}" edge already exists in the graph.`);let p=!1,m=!1;c||(c=Mt(a,n,{}),p=!0,n===o&&(d=c,m=!0)),d||(d=Mt(a,o,{}),m=!0),g=new pe(e,r,c,d,s),a._edges.set(r,g);let T=n===o;return e?(c.undirectedDegree++,d.undirectedDegree++,T&&(c.undirectedLoops++,a._undirectedSelfLoopCount++)):(c.outDegree++,d.inDegree++,T&&(c.directedLoops++,a._directedSelfLoopCount++)),a.multi?g.attachMulti():g.attach(),e?a._undirectedSize++:a._directedSize++,f.key=r,a.emit("edgeAdded",f),[r,!0,p,m]}function he(a,t){a._edges.delete(t.key);let{source:i,target:e,attributes:r}=t,n=t.undirected,o=i===e;n?(i.undirectedDegree--,e.undirectedDegree--,o&&(i.undirectedLoops--,a._undirectedSelfLoopCount--)):(i.outDegree--,e.inDegree--,o&&(i.directedLoops--,a._directedSelfLoopCount--)),a.multi?t.detachMulti():t.detach(),n?a._undirectedSize--:a._directedSize--,a.emit("edgeDropped",{key:t.key,attributes:r,source:i.key,target:e.key,undirected:n})}var S=class a extends Ut.EventEmitter{constructor(t){if(super(),t=R({},pa,t),typeof t.multi!="boolean")throw new w(`Graph.constructor: invalid 'multi' option. Expecting a boolean but got "${t.multi}".`);if(!ya.has(t.type))throw new w(`Graph.constructor: invalid 'type' option. Should be one of "mixed", "directed" or "undirected" but got "${t.type}".`);if(typeof t.allowSelfLoops!="boolean")throw new w(`Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got "${t.allowSelfLoops}".`);let i=t.type==="mixed"?$t:t.type==="directed"?Bt:Ht;$(this,"NodeDataClass",i);let e="geid_"+ha()+"_",r=0,n=()=>{let o;do o=e+r++;while(this._edges.has(o));return o};$(this,"_attributes",{}),$(this,"_nodes",new Map),$(this,"_edges",new Map),$(this,"_directedSize",0),$(this,"_undirectedSize",0),$(this,"_directedSelfLoopCount",0),$(this,"_undirectedSelfLoopCount",0),$(this,"_edgeKeyGenerator",n),$(this,"_options",t),It.forEach(o=>$(this,o,this[o])),V(this,"order",()=>this._nodes.size),V(this,"size",()=>this._edges.size),V(this,"directedSize",()=>this._directedSize),V(this,"undirectedSize",()=>this._undirectedSize),V(this,"selfLoopCount",()=>this._directedSelfLoopCount+this._undirectedSelfLoopCount),V(this,"directedSelfLoopCount",()=>this._directedSelfLoopCount),V(this,"undirectedSelfLoopCount",()=>this._undirectedSelfLoopCount),V(this,"multi",this._options.multi),V(this,"type",this._options.type),V(this,"allowSelfLoops",this._options.allowSelfLoops),V(this,"implementation",()=>"graphology")}_resetInstanceCounters(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0}hasNode(t){return this._nodes.has(""+t)}hasDirectedEdge(t,i){if(this.type==="undirected")return!1;if(arguments.length===1){let e=""+t,r=this._edges.get(e);return!!r&&!r.undirected}else if(arguments.length===2){t=""+t,i=""+i;let e=this._nodes.get(t);return e?e.out.hasOwnProperty(i):!1}throw new w(`Graph.hasDirectedEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}hasUndirectedEdge(t,i){if(this.type==="directed")return!1;if(arguments.length===1){let e=""+t,r=this._edges.get(e);return!!r&&r.undirected}else if(arguments.length===2){t=""+t,i=""+i;let e=this._nodes.get(t);return e?e.undirected.hasOwnProperty(i):!1}throw new w(`Graph.hasDirectedEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}hasEdge(t,i){if(arguments.length===1){let e=""+t;return this._edges.has(e)}else if(arguments.length===2){t=""+t,i=""+i;let e=this._nodes.get(t);return e?typeof e.out<"u"&&e.out.hasOwnProperty(i)||typeof e.undirected<"u"&&e.undirected.hasOwnProperty(i):!1}throw new w(`Graph.hasEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}directedEdge(t,i){if(this.type==="undirected")return;if(t=""+t,i=""+i,this.multi)throw new _("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");let e=this._nodes.get(t);if(!e)throw new b(`Graph.directedEdge: could not find the "${t}" source node in the graph.`);if(!this._nodes.has(i))throw new b(`Graph.directedEdge: could not find the "${i}" target node in the graph.`);let r=e.out&&e.out[i]||void 0;if(r)return r.key}undirectedEdge(t,i){if(this.type==="directed")return;if(t=""+t,i=""+i,this.multi)throw new _("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");let e=this._nodes.get(t);if(!e)throw new b(`Graph.undirectedEdge: could not find the "${t}" source node in the graph.`);if(!this._nodes.has(i))throw new b(`Graph.undirectedEdge: could not find the "${i}" target node in the graph.`);let r=e.undirected&&e.undirected[i]||void 0;if(r)return r.key}edge(t,i){if(this.multi)throw new _("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");t=""+t,i=""+i;let e=this._nodes.get(t);if(!e)throw new b(`Graph.edge: could not find the "${t}" source node in the graph.`);if(!this._nodes.has(i))throw new b(`Graph.edge: could not find the "${i}" target node in the graph.`);let r=e.out&&e.out[i]||e.undirected&&e.undirected[i]||void 0;if(r)return r.key}areDirectedNeighbors(t,i){t=""+t,i=""+i;let e=this._nodes.get(t);if(!e)throw new b(`Graph.areDirectedNeighbors: could not find the "${t}" node in the graph.`);return this.type==="undirected"?!1:i in e.in||i in e.out}areOutNeighbors(t,i){t=""+t,i=""+i;let e=this._nodes.get(t);if(!e)throw new b(`Graph.areOutNeighbors: could not find the "${t}" node in the graph.`);return this.type==="undirected"?!1:i in e.out}areInNeighbors(t,i){t=""+t,i=""+i;let e=this._nodes.get(t);if(!e)throw new b(`Graph.areInNeighbors: could not find the "${t}" node in the graph.`);return this.type==="undirected"?!1:i in e.in}areUndirectedNeighbors(t,i){t=""+t,i=""+i;let e=this._nodes.get(t);if(!e)throw new b(`Graph.areUndirectedNeighbors: could not find the "${t}" node in the graph.`);return this.type==="directed"?!1:i in e.undirected}areNeighbors(t,i){t=""+t,i=""+i;let e=this._nodes.get(t);if(!e)throw new b(`Graph.areNeighbors: could not find the "${t}" node in the graph.`);return this.type!=="undirected"&&(i in e.in||i in e.out)||this.type!=="directed"&&i in e.undirected}areInboundNeighbors(t,i){t=""+t,i=""+i;let e=this._nodes.get(t);if(!e)throw new b(`Graph.areInboundNeighbors: could not find the "${t}" node in the graph.`);return this.type!=="undirected"&&i in e.in||this.type!=="directed"&&i in e.undirected}areOutboundNeighbors(t,i){t=""+t,i=""+i;let e=this._nodes.get(t);if(!e)throw new b(`Graph.areOutboundNeighbors: could not find the "${t}" node in the graph.`);return this.type!=="undirected"&&i in e.out||this.type!=="directed"&&i in e.undirected}inDegree(t){t=""+t;let i=this._nodes.get(t);if(!i)throw new b(`Graph.inDegree: could not find the "${t}" node in the graph.`);return this.type==="undirected"?0:i.inDegree}outDegree(t){t=""+t;let i=this._nodes.get(t);if(!i)throw new b(`Graph.outDegree: could not find the "${t}" node in the graph.`);return this.type==="undirected"?0:i.outDegree}directedDegree(t){t=""+t;let i=this._nodes.get(t);if(!i)throw new b(`Graph.directedDegree: could not find the "${t}" node in the graph.`);return this.type==="undirected"?0:i.inDegree+i.outDegree}undirectedDegree(t){t=""+t;let i=this._nodes.get(t);if(!i)throw new b(`Graph.undirectedDegree: could not find the "${t}" node in the graph.`);return this.type==="directed"?0:i.undirectedDegree}inboundDegree(t){t=""+t;let i=this._nodes.get(t);if(!i)throw new b(`Graph.inboundDegree: could not find the "${t}" node in the graph.`);let e=0;return this.type!=="directed"&&(e+=i.undirectedDegree),this.type!=="undirected"&&(e+=i.inDegree),e}outboundDegree(t){t=""+t;let i=this._nodes.get(t);if(!i)throw new b(`Graph.outboundDegree: could not find the "${t}" node in the graph.`);let e=0;return this.type!=="directed"&&(e+=i.undirectedDegree),this.type!=="undirected"&&(e+=i.outDegree),e}degree(t){t=""+t;let i=this._nodes.get(t);if(!i)throw new b(`Graph.degree: could not find the "${t}" node in the graph.`);let e=0;return this.type!=="directed"&&(e+=i.undirectedDegree),this.type!=="undirected"&&(e+=i.inDegree+i.outDegree),e}inDegreeWithoutSelfLoops(t){t=""+t;let i=this._nodes.get(t);if(!i)throw new b(`Graph.inDegreeWithoutSelfLoops: could not find the "${t}" node in the graph.`);return this.type==="undirected"?0:i.inDegree-i.directedLoops}outDegreeWithoutSelfLoops(t){t=""+t;let i=this._nodes.get(t);if(!i)throw new b(`Graph.outDegreeWithoutSelfLoops: could not find the "${t}" node in the graph.`);return this.type==="undirected"?0:i.outDegree-i.directedLoops}directedDegreeWithoutSelfLoops(t){t=""+t;let i=this._nodes.get(t);if(!i)throw new b(`Graph.directedDegreeWithoutSelfLoops: could not find the "${t}" node in the graph.`);return this.type==="undirected"?0:i.inDegree+i.outDegree-i.directedLoops*2}undirectedDegreeWithoutSelfLoops(t){t=""+t;let i=this._nodes.get(t);if(!i)throw new b(`Graph.undirectedDegreeWithoutSelfLoops: could not find the "${t}" node in the graph.`);return this.type==="directed"?0:i.undirectedDegree-i.undirectedLoops*2}inboundDegreeWithoutSelfLoops(t){t=""+t;let i=this._nodes.get(t);if(!i)throw new b(`Graph.inboundDegreeWithoutSelfLoops: could not find the "${t}" node in the graph.`);let e=0,r=0;return this.type!=="directed"&&(e+=i.undirectedDegree,r+=i.undirectedLoops*2),this.type!=="undirected"&&(e+=i.inDegree,r+=i.directedLoops),e-r}outboundDegreeWithoutSelfLoops(t){t=""+t;let i=this._nodes.get(t);if(!i)throw new b(`Graph.outboundDegreeWithoutSelfLoops: could not find the "${t}" node in the graph.`);let e=0,r=0;return this.type!=="directed"&&(e+=i.undirectedDegree,r+=i.undirectedLoops*2),this.type!=="undirected"&&(e+=i.outDegree,r+=i.directedLoops),e-r}degreeWithoutSelfLoops(t){t=""+t;let i=this._nodes.get(t);if(!i)throw new b(`Graph.degreeWithoutSelfLoops: could not find the "${t}" node in the graph.`);let e=0,r=0;return this.type!=="directed"&&(e+=i.undirectedDegree,r+=i.undirectedLoops*2),this.type!=="undirected"&&(e+=i.inDegree+i.outDegree,r+=i.directedLoops*2),e-r}source(t){t=""+t;let i=this._edges.get(t);if(!i)throw new b(`Graph.source: could not find the "${t}" edge in the graph.`);return i.source.key}target(t){t=""+t;let i=this._edges.get(t);if(!i)throw new b(`Graph.target: could not find the "${t}" edge in the graph.`);return i.target.key}extremities(t){t=""+t;let i=this._edges.get(t);if(!i)throw new b(`Graph.extremities: could not find the "${t}" edge in the graph.`);return[i.source.key,i.target.key]}opposite(t,i){t=""+t,i=""+i;let e=this._edges.get(i);if(!e)throw new b(`Graph.opposite: could not find the "${i}" edge in the graph.`);let r=e.source.key,n=e.target.key;if(t===r)return n;if(t===n)return r;throw new b(`Graph.opposite: the "${t}" node is not attached to the "${i}" edge (${r}, ${n}).`)}hasExtremity(t,i){t=""+t,i=""+i;let e=this._edges.get(t);if(!e)throw new b(`Graph.hasExtremity: could not find the "${t}" edge in the graph.`);return e.source.key===i||e.target.key===i}isUndirected(t){t=""+t;let i=this._edges.get(t);if(!i)throw new b(`Graph.isUndirected: could not find the "${t}" edge in the graph.`);return i.undirected}isDirected(t){t=""+t;let i=this._edges.get(t);if(!i)throw new b(`Graph.isDirected: could not find the "${t}" edge in the graph.`);return!i.undirected}isSelfLoop(t){t=""+t;let i=this._edges.get(t);if(!i)throw new b(`Graph.isSelfLoop: could not find the "${t}" edge in the graph.`);return i.source===i.target}addNode(t,i){return ba(this,t,i).key}mergeNode(t,i){if(i&&!D(i))throw new w(`Graph.mergeNode: invalid attributes. Expecting an object but got "${i}"`);t=""+t,i=i||{};let e=this._nodes.get(t);return e?(i&&(R(e.attributes,i),this.emit("nodeAttributesUpdated",{type:"merge",key:t,attributes:e.attributes,data:i})),[t,!1]):(e=new this.NodeDataClass(t,i),this._nodes.set(t,e),this.emit("nodeAdded",{key:t,attributes:i}),[t,!0])}updateNode(t,i){if(i&&typeof i!="function")throw new w(`Graph.updateNode: invalid updater function. Expecting a function but got "${i}"`);t=""+t;let e=this._nodes.get(t);if(e){if(i){let n=e.attributes;e.attributes=i(n),this.emit("nodeAttributesUpdated",{type:"replace",key:t,attributes:e.attributes})}return[t,!1]}let r=i?i({}):{};return e=new this.NodeDataClass(t,r),this._nodes.set(t,e),this.emit("nodeAdded",{key:t,attributes:r}),[t,!0]}dropNode(t){t=""+t;let i=this._nodes.get(t);if(!i)throw new b(`Graph.dropNode: could not find the "${t}" node in the graph.`);let e;if(this.type!=="undirected"){for(let r in i.out){e=i.out[r];do he(this,e),e=e.next;while(e)}for(let r in i.in){e=i.in[r];do he(this,e),e=e.next;while(e)}}if(this.type!=="directed")for(let r in i.undirected){e=i.undirected[r];do he(this,e),e=e.next;while(e)}this._nodes.delete(t),this.emit("nodeDropped",{key:t,attributes:i.attributes})}dropEdge(t){let i;if(arguments.length>1){let e=""+arguments[0],r=""+arguments[1];if(i=B(this,e,r,this.type),!i)throw new b(`Graph.dropEdge: could not find the "${e}" -> "${r}" edge in the graph.`)}else if(t=""+t,i=this._edges.get(t),!i)throw new b(`Graph.dropEdge: could not find the "${t}" edge in the graph.`);return he(this,i),this}dropDirectedEdge(t,i){if(arguments.length<2)throw new _("Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new _("Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");t=""+t,i=""+i;let e=B(this,t,i,"directed");if(!e)throw new b(`Graph.dropDirectedEdge: could not find a "${t}" -> "${i}" edge in the graph.`);return he(this,e),this}dropUndirectedEdge(t,i){if(arguments.length<2)throw new _("Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new _("Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");let e=B(this,t,i,"undirected");if(!e)throw new b(`Graph.dropUndirectedEdge: could not find a "${t}" -> "${i}" edge in the graph.`);return he(this,e),this}clear(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit("cleared")}clearEdges(){let t=this._nodes.values(),i;for(;i=t.next(),i.done!==!0;)i.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit("edgesCleared")}getAttribute(t){return this._attributes[t]}getAttributes(){return this._attributes}hasAttribute(t){return this._attributes.hasOwnProperty(t)}setAttribute(t,i){return this._attributes[t]=i,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:t}),this}updateAttribute(t,i){if(typeof i!="function")throw new w("Graph.updateAttribute: updater should be a function.");let e=this._attributes[t];return this._attributes[t]=i(e),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:t}),this}removeAttribute(t){return delete this._attributes[t],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:t}),this}replaceAttributes(t){if(!D(t))throw new w("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=t,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this}mergeAttributes(t){if(!D(t))throw new w("Graph.mergeAttributes: provided attributes are not a plain object.");return R(this._attributes,t),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:t}),this}updateAttributes(t){if(typeof t!="function")throw new w("Graph.updateAttributes: provided updater is not a function.");return this._attributes=t(this._attributes),this.emit("attributesUpdated",{type:"update",attributes:this._attributes}),this}updateEachNodeAttributes(t,i){if(typeof t!="function")throw new w("Graph.updateEachNodeAttributes: expecting an updater function.");if(i&&!Pt(i))throw new w("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");let e=this._nodes.values(),r,n;for(;r=e.next(),r.done!==!0;)n=r.value,n.attributes=t(n.key,n.attributes);this.emit("eachNodeAttributesUpdated",{hints:i||null})}updateEachEdgeAttributes(t,i){if(typeof t!="function")throw new w("Graph.updateEachEdgeAttributes: expecting an updater function.");if(i&&!Pt(i))throw new w("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");let e=this._edges.values(),r,n,o,s;for(;r=e.next(),r.done!==!0;)n=r.value,o=n.source,s=n.target,n.attributes=t(n.key,n.attributes,o.key,s.key,o.attributes,s.attributes,n.undirected);this.emit("eachEdgeAttributesUpdated",{hints:i||null})}forEachAdjacencyEntry(t){if(typeof t!="function")throw new w("Graph.forEachAdjacencyEntry: expecting a callback.");Ge(!1,!1,!1,this,t)}forEachAdjacencyEntryWithOrphans(t){if(typeof t!="function")throw new w("Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.");Ge(!1,!1,!0,this,t)}forEachAssymetricAdjacencyEntry(t){if(typeof t!="function")throw new w("Graph.forEachAssymetricAdjacencyEntry: expecting a callback.");Ge(!1,!0,!1,this,t)}forEachAssymetricAdjacencyEntryWithOrphans(t){if(typeof t!="function")throw new w("Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.");Ge(!1,!0,!0,this,t)}nodes(){return Array.from(this._nodes.keys())}forEachNode(t){if(typeof t!="function")throw new w("Graph.forEachNode: expecting a callback.");let i=this._nodes.values(),e,r;for(;e=i.next(),e.done!==!0;)r=e.value,t(r.key,r.attributes)}findNode(t){if(typeof t!="function")throw new w("Graph.findNode: expecting a callback.");let i=this._nodes.values(),e,r;for(;e=i.next(),e.done!==!0;)if(r=e.value,t(r.key,r.attributes))return r.key}mapNodes(t){if(typeof t!="function")throw new w("Graph.mapNode: expecting a callback.");let i=this._nodes.values(),e,r,n=new Array(this.order),o=0;for(;e=i.next(),e.done!==!0;)r=e.value,n[o++]=t(r.key,r.attributes);return n}someNode(t){if(typeof t!="function")throw new w("Graph.someNode: expecting a callback.");let i=this._nodes.values(),e,r;for(;e=i.next(),e.done!==!0;)if(r=e.value,t(r.key,r.attributes))return!0;return!1}everyNode(t){if(typeof t!="function")throw new w("Graph.everyNode: expecting a callback.");let i=this._nodes.values(),e,r;for(;e=i.next(),e.done!==!0;)if(r=e.value,!t(r.key,r.attributes))return!1;return!0}filterNodes(t){if(typeof t!="function")throw new w("Graph.filterNodes: expecting a callback.");let i=this._nodes.values(),e,r,n=[];for(;e=i.next(),e.done!==!0;)r=e.value,t(r.key,r.attributes)&&n.push(r.key);return n}reduceNodes(t,i){if(typeof t!="function")throw new w("Graph.reduceNodes: expecting a callback.");if(arguments.length<2)throw new w("Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.");let e=i,r=this._nodes.values(),n,o;for(;n=r.next(),n.done!==!0;)o=n.value,e=t(e,o.key,o.attributes);return e}nodeEntries(){let t=this._nodes.values();return{[Symbol.iterator](){return this},next(){let i=t.next();if(i.done)return i;let e=i.value;return{value:{node:e.key,attributes:e.attributes},done:!1}}}}export(){let t=new Array(this._nodes.size),i=0;this._nodes.forEach((r,n)=>{t[i++]=ua(n,r)});let e=new Array(this._edges.size);return i=0,this._edges.forEach((r,n)=>{e[i++]=ca(this.type,n,r)}),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:t,edges:e}}import(t,i=!1){if(t instanceof a)return t.forEachNode((l,u)=>{i?this.mergeNode(l,u):this.addNode(l,u)}),t.forEachEdge((l,u,c,d,g,h,f)=>{i?f?this.mergeUndirectedEdgeWithKey(l,c,d,u):this.mergeDirectedEdgeWithKey(l,c,d,u):f?this.addUndirectedEdgeWithKey(l,c,d,u):this.addDirectedEdgeWithKey(l,c,d,u)}),this;if(!D(t))throw new w("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(t.attributes){if(!D(t.attributes))throw new w("Graph.import: invalid attributes. Expecting a plain object.");i?this.mergeAttributes(t.attributes):this.replaceAttributes(t.attributes)}let e,r,n,o,s;if(t.nodes){if(n=t.nodes,!Array.isArray(n))throw new w("Graph.import: invalid nodes. Expecting an array.");for(e=0,r=n.length;e<r;e++){o=n[e],da(o);let{key:l,attributes:u}=o;i?this.mergeNode(l,u):this.addNode(l,u)}}if(t.edges){let l=!1;if(this.type==="undirected"&&(l=!0),n=t.edges,!Array.isArray(n))throw new w("Graph.import: invalid edges. Expecting an array.");for(e=0,r=n.length;e<r;e++){s=n[e],ga(s);let{source:u,target:c,attributes:d,undirected:g=l}=s,h;"key"in s?(h=i?g?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:g?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey,h.call(this,s.key,u,c,d)):(h=i?g?this.mergeUndirectedEdge:this.mergeDirectedEdge:g?this.addUndirectedEdge:this.addDirectedEdge,h.call(this,u,c,d))}}return this}nullCopy(t){let i=new a(R({},this._options,t));return i.replaceAttributes(R({},this.getAttributes())),i}emptyCopy(t){let i=this.nullCopy(t);return this._nodes.forEach((e,r)=>{let n=R({},e.attributes);e=new i.NodeDataClass(r,n),i._nodes.set(r,e)}),i}copy(t){if(t=t||{},typeof t.type=="string"&&t.type!==this.type&&t.type!=="mixed")throw new _(`Graph.copy: cannot create an incompatible copy from "${this.type}" type to "${t.type}" because this would mean losing information about the current graph.`);if(typeof t.multi=="boolean"&&t.multi!==this.multi&&t.multi!==!0)throw new _("Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.");if(typeof t.allowSelfLoops=="boolean"&&t.allowSelfLoops!==this.allowSelfLoops&&t.allowSelfLoops!==!0)throw new _("Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.");let i=this.emptyCopy(t),e=this._edges.values(),r,n;for(;r=e.next(),r.done!==!0;)n=r.value,Kt(i,"copy",!1,n.undirected,n.key,n.source.key,n.target.key,R({},n.attributes));return i}toJSON(){return this.export()}toString(){return"[object Graph]"}inspect(){let t={};this._nodes.forEach((n,o)=>{t[o]=n.attributes});let i={},e={};this._edges.forEach((n,o)=>{let s=n.undirected?"--":"->",l="",u=n.source.key,c=n.target.key,d;n.undirected&&u>c&&(d=u,u=c,c=d);let g=`(${u})${s}(${c})`;o.startsWith("geid_")?this.multi&&(typeof e[g]>"u"?e[g]=0:e[g]++,l+=`${e[g]}. `):l+=`[${o}]: `,l+=g,i[l]=n.attributes});let r={};for(let n in this)this.hasOwnProperty(n)&&!It.has(n)&&typeof this[n]!="function"&&typeof n!="symbol"&&(r[n]=this[n]);return r.attributes=this._attributes,r.nodes=t,r.edges=i,$(r,"constructor",this.constructor),r}};typeof Symbol<"u"&&(S.prototype[Symbol.for("nodejs.util.inspect.custom")]=S.prototype.inspect);fa.forEach(a=>{["add","merge","update"].forEach(t=>{let i=a.name(t),e=t==="add"?Kt:ma;a.generateKey?S.prototype[i]=function(r,n,o){return e(this,i,!0,(a.type||this.type)==="undirected",null,r,n,o,t==="update")}:S.prototype[i]=function(r,n,o,s){return e(this,i,!1,(a.type||this.type)==="undirected",r,n,o,s,t==="update")}})});Ar(S);Ir(S);ea(S);la(S);var Fe=class extends S{constructor(t){let i=R({type:"directed"},t);if("multi"in i&&i.multi!==!1)throw new w("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(i.type!=="directed")throw new w('DirectedGraph.from: inconsistent "'+i.type+'" type in given options!');super(i)}},Pe=class extends S{constructor(t){let i=R({type:"undirected"},t);if("multi"in i&&i.multi!==!1)throw new w("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(i.type!=="undirected")throw new w('UndirectedGraph.from: inconsistent "'+i.type+'" type in given options!');super(i)}},ye=class extends S{constructor(t){let i=R({multi:!0},t);if("multi"in i&&i.multi!==!0)throw new w("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");super(i)}},Ie=class extends S{constructor(t){let i=R({type:"directed",multi:!0},t);if("multi"in i&&i.multi!==!0)throw new w("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(i.type!=="directed")throw new w('MultiDirectedGraph.from: inconsistent "'+i.type+'" type in given options!');super(i)}},Me=class extends S{constructor(t){let i=R({type:"undirected",multi:!0},t);if("multi"in i&&i.multi!==!0)throw new w("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(i.type!=="undirected")throw new w('MultiUndirectedGraph.from: inconsistent "'+i.type+'" type in given options!');super(i)}};function be(a){a.from=function(t,i){let e=R({},t.options,i),r=new a(e);return r.import(t),r}}be(S);be(Fe);be(Pe);be(ye);be(Ie);be(Me);S.Graph=S;S.DirectedGraph=Fe;S.UndirectedGraph=Pe;S.MultiGraph=ye;S.MultiDirectedGraph=Ie;S.MultiUndirectedGraph=Me;S.InvalidArgumentsGraphError=w;S.NotFoundGraphError=b;S.UsageGraphError=_;function va(a,t){if(typeof a!="object"||!a)return a;var i=a[Symbol.toPrimitive];if(i!==void 0){var e=i.call(a,t||"default");if(typeof e!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(a)}function ue(a){var t=va(a,"string");return typeof t=="symbol"?t:t+""}function L(a,t){if(!(a instanceof t))throw new TypeError("Cannot call a class as a function")}function Zt(a,t){for(var i=0;i<t.length;i++){var e=t[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(a,ue(e.key),e)}}function N(a,t,i){return t&&Zt(a.prototype,t),i&&Zt(a,i),Object.defineProperty(a,"prototype",{writable:!1}),a}function le(a){return le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},le(a)}function Xt(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xt=function(){return!!a})()}function wa(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function Ea(a,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wa(a)}function G(a,t,i){return t=le(t),Ea(a,Xt()?Reflect.construct(t,i||[],le(a).constructor):t.apply(a,i))}function nt(a,t){return nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,e){return i.__proto__=e,i},nt(a,t)}function F(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(t&&t.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),t&&nt(a,t)}function Ta(a){if(Array.isArray(a))return a}function qa(a,t){var i=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(i!=null){var e,r,n,o,s=[],l=!0,u=!1;try{if(n=(i=i.call(a)).next,t===0){if(Object(i)!==i)return;l=!1}else for(;!(l=(e=n.call(i)).done)&&(s.push(e.value),s.length!==t);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&i.return!=null&&(o=i.return(),Object(o)!==o))return}finally{if(u)throw r}}return s}}function Oe(a,t){(t==null||t>a.length)&&(t=a.length);for(var i=0,e=Array(t);i<t;i++)e[i]=a[i];return e}function ut(a,t){if(a){if(typeof a=="string")return Oe(a,t);var i={}.toString.call(a).slice(8,-1);return i==="Object"&&a.constructor&&(i=a.constructor.name),i==="Map"||i==="Set"?Array.from(a):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Oe(a,t):void 0}}function xa(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ae(a,t){return Ta(a)||qa(a,t)||ut(a,t)||xa()}var ot={black:"#000000",silver:"#C0C0C0",gray:"#808080",grey:"#808080",white:"#FFFFFF",maroon:"#800000",red:"#FF0000",purple:"#800080",fuchsia:"#FF00FF",green:"#008000",lime:"#00FF00",olive:"#808000",yellow:"#FFFF00",navy:"#000080",blue:"#0000FF",teal:"#008080",aqua:"#00FFFF",darkblue:"#00008B",mediumblue:"#0000CD",darkgreen:"#006400",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",springgreen:"#00FF7F",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",rebeccapurple:"#663399",mediumaquamarine:"#66CDAA",dimgray:"#696969",dimgrey:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",slategrey:"#708090",lightslategray:"#778899",lightslategrey:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370DB",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",palevioletred:"#DB7093",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",lightyellow:"#FFFFE0",ivory:"#FFFFF0"};var Qt=new Int8Array(4),st=new Int32Array(Qt.buffer,0,1),_a=new Float32Array(Qt.buffer,0,1),ka=/^\s*rgba?\s*\(/,Aa=/^\s*rgba?\s*\(\s*([0-9]*)\s*,\s*([0-9]*)\s*,\s*([0-9]*)(?:\s*,\s*(.*)?)?\)\s*$/;function Ca(a){var t=0,i=0,e=0,r=1;if(a[0]==="#")a.length===4?(t=parseInt(a.charAt(1)+a.charAt(1),16),i=parseInt(a.charAt(2)+a.charAt(2),16),e=parseInt(a.charAt(3)+a.charAt(3),16)):(t=parseInt(a.charAt(1)+a.charAt(2),16),i=parseInt(a.charAt(3)+a.charAt(4),16),e=parseInt(a.charAt(5)+a.charAt(6),16)),a.length===9&&(r=parseInt(a.charAt(7)+a.charAt(8),16)/255);else if(ka.test(a)){var n=a.match(Aa);n&&(t=+n[1],i=+n[2],e=+n[3],n[4]&&(r=+n[4]))}return{r:t,g:i,b:e,a:r}}var me={};for(ke in ot)me[ke]=ve(ot[ke]),me[ot[ke]]=me[ke];var ke;function Jt(a,t,i,e,r){return st[0]=e<<24|i<<16|t<<8|a,r&&(st[0]=st[0]&4278190079),_a[0]}function ve(a){if(a=a.toLowerCase(),typeof me[a]<"u")return me[a];var t=Ca(a),i=t.r,e=t.g,r=t.b,n=t.a;n=n*255|0;var o=Jt(i,e,r,n,!0);return me[a]=o,o}var lt={};function ct(a){if(typeof lt[a]<"u")return lt[a];var t=(a&16711680)>>>16,i=(a&65280)>>>8,e=a&255,r=255,n=Jt(t,i,e,r,!0);return lt[a]=n,n}function dt(a,t,i,e){return i+(t<<8)+(a<<16)}function gt(a,t,i,e,r,n){var o=Math.floor(i/n*r),s=Math.floor(a.drawingBufferHeight/n-e/n*r),l=new Uint8Array(4);a.bindFramebuffer(a.FRAMEBUFFER,t),a.readPixels(o,s,1,1,a.RGBA,a.UNSIGNED_BYTE,l);var u=ae(l,4),c=u[0],d=u[1],g=u[2],h=u[3];return[c,d,g,h]}function y(a,t,i){return(t=ue(t))in a?Object.defineProperty(a,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[t]=i,a}function ei(a,t){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(a);t&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(a,r).enumerable})),i.push.apply(i,e)}return i}function q(a){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?ei(Object(i),!0).forEach(function(e){y(a,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):ei(Object(i)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(i,e))})}return a}function Sa(a,t){for(;!{}.hasOwnProperty.call(a,t)&&(a=le(a))!==null;);return a}function ft(){return ft=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(a,t,i){var e=Sa(a,t);if(e){var r=Object.getOwnPropertyDescriptor(e,t);return r.get?r.get.call(arguments.length<3?a:i):r.value}},ft.apply(null,arguments)}function si(a,t,i,e){var r=ft(le(1&e?a.prototype:a),t,i);return 2&e&&typeof r=="function"?function(n){return r.apply(i,n)}:r}function za(a){return a.normalized?1:a.size}function ht(a){var t=0;return a.forEach(function(i){return t+=za(i)}),t}function li(a,t,i){var e=a==="VERTEX"?t.VERTEX_SHADER:t.FRAGMENT_SHADER,r=t.createShader(e);if(r===null)throw new Error("loadShader: error while creating the shader");t.shaderSource(r,i),t.compileShader(r);var n=t.getShaderParameter(r,t.COMPILE_STATUS);if(!n){var o=t.getShaderInfoLog(r);throw t.deleteShader(r),new Error(`loadShader: error while compiling the shader:
`.concat(o,`
`).concat(i))}return r}function Ra(a,t){return li("VERTEX",a,t)}function La(a,t){return li("FRAGMENT",a,t)}function Na(a,t){var i=a.createProgram();if(i===null)throw new Error("loadProgram: error while creating the program.");var e,r;for(e=0,r=t.length;e<r;e++)a.attachShader(i,t[e]);a.linkProgram(i);var n=a.getProgramParameter(i,a.LINK_STATUS);if(!n)throw a.deleteProgram(i),new Error("loadProgram: error while linking the program.");return i}function ti(a){var t=a.gl,i=a.buffer,e=a.program,r=a.vertexShader,n=a.fragmentShader;t.deleteShader(r),t.deleteShader(n),t.deleteProgram(e),t.deleteBuffer(i)}var ii=`#define PICKING_MODE
`,Da=y(y(y(y(y(y(y(y({},WebGL2RenderingContext.BOOL,1),WebGL2RenderingContext.BYTE,1),WebGL2RenderingContext.UNSIGNED_BYTE,1),WebGL2RenderingContext.SHORT,2),WebGL2RenderingContext.UNSIGNED_SHORT,2),WebGL2RenderingContext.INT,4),WebGL2RenderingContext.UNSIGNED_INT,4),WebGL2RenderingContext.FLOAT,4);var ui=function(){function a(t,i,e){L(this,a),y(this,"array",new Float32Array),y(this,"constantArray",new Float32Array),y(this,"capacity",0),y(this,"verticesCount",0);var r=this.getDefinition();if(this.VERTICES=r.VERTICES,this.VERTEX_SHADER_SOURCE=r.VERTEX_SHADER_SOURCE,this.FRAGMENT_SHADER_SOURCE=r.FRAGMENT_SHADER_SOURCE,this.UNIFORMS=r.UNIFORMS,this.ATTRIBUTES=r.ATTRIBUTES,this.METHOD=r.METHOD,this.CONSTANT_ATTRIBUTES="CONSTANT_ATTRIBUTES"in r?r.CONSTANT_ATTRIBUTES:[],this.CONSTANT_DATA="CONSTANT_DATA"in r?r.CONSTANT_DATA:[],this.isInstanced="CONSTANT_ATTRIBUTES"in r,this.ATTRIBUTES_ITEMS_COUNT=ht(this.ATTRIBUTES),this.STRIDE=this.VERTICES*this.ATTRIBUTES_ITEMS_COUNT,this.renderer=e,this.normalProgram=this.getProgramInfo("normal",t,r.VERTEX_SHADER_SOURCE,r.FRAGMENT_SHADER_SOURCE,null),this.pickProgram=i?this.getProgramInfo("pick",t,ii+r.VERTEX_SHADER_SOURCE,ii+r.FRAGMENT_SHADER_SOURCE,i):null,this.isInstanced){var n=ht(this.CONSTANT_ATTRIBUTES);if(this.CONSTANT_DATA.length!==this.VERTICES)throw new Error("Program: error while getting constant data (expected ".concat(this.VERTICES," items, received ").concat(this.CONSTANT_DATA.length," instead)"));this.constantArray=new Float32Array(this.CONSTANT_DATA.length*n);for(var o=0;o<this.CONSTANT_DATA.length;o++){var s=this.CONSTANT_DATA[o];if(s.length!==n)throw new Error("Program: error while getting constant data (one vector has ".concat(s.length," items instead of ").concat(n,")"));for(var l=0;l<s.length;l++)this.constantArray[o*n+l]=s[l]}this.STRIDE=this.ATTRIBUTES_ITEMS_COUNT}}return N(a,[{key:"kill",value:function(){ti(this.normalProgram),this.pickProgram&&(ti(this.pickProgram),this.pickProgram=null)}},{key:"getProgramInfo",value:function(i,e,r,n,o){var s=this.getDefinition(),l=e.createBuffer();if(l===null)throw new Error("Program: error while creating the WebGL buffer.");var u=Ra(e,r),c=La(e,n),d=Na(e,[u,c]),g={};s.UNIFORMS.forEach(function(p){var m=e.getUniformLocation(d,p);m&&(g[p]=m)});var h={};s.ATTRIBUTES.forEach(function(p){h[p.name]=e.getAttribLocation(d,p.name)});var f;if("CONSTANT_ATTRIBUTES"in s&&(s.CONSTANT_ATTRIBUTES.forEach(function(p){h[p.name]=e.getAttribLocation(d,p.name)}),f=e.createBuffer(),f===null))throw new Error("Program: error while creating the WebGL constant buffer.");return{name:i,program:d,gl:e,frameBuffer:o,buffer:l,constantBuffer:f||{},uniformLocations:g,attributeLocations:h,isPicking:i==="pick",vertexShader:u,fragmentShader:c}}},{key:"bindProgram",value:function(i){var e=this,r=0,n=i.gl,o=i.buffer;this.isInstanced?(n.bindBuffer(n.ARRAY_BUFFER,i.constantBuffer),r=0,this.CONSTANT_ATTRIBUTES.forEach(function(s){return r+=e.bindAttribute(s,i,r,!1)}),n.bufferData(n.ARRAY_BUFFER,this.constantArray,n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,i.buffer),r=0,this.ATTRIBUTES.forEach(function(s){return r+=e.bindAttribute(s,i,r,!0)}),n.bufferData(n.ARRAY_BUFFER,this.array,n.DYNAMIC_DRAW)):(n.bindBuffer(n.ARRAY_BUFFER,o),r=0,this.ATTRIBUTES.forEach(function(s){return r+=e.bindAttribute(s,i,r)}),n.bufferData(n.ARRAY_BUFFER,this.array,n.DYNAMIC_DRAW)),n.bindBuffer(n.ARRAY_BUFFER,null)}},{key:"unbindProgram",value:function(i){var e=this;this.isInstanced?(this.CONSTANT_ATTRIBUTES.forEach(function(r){return e.unbindAttribute(r,i,!1)}),this.ATTRIBUTES.forEach(function(r){return e.unbindAttribute(r,i,!0)})):this.ATTRIBUTES.forEach(function(r){return e.unbindAttribute(r,i)})}},{key:"bindAttribute",value:function(i,e,r,n){var o=Da[i.type];if(typeof o!="number")throw new Error('Program.bind: yet unsupported attribute type "'.concat(i.type,'"'));var s=e.attributeLocations[i.name],l=e.gl;if(s!==-1){l.enableVertexAttribArray(s);var u=this.isInstanced?(n?this.ATTRIBUTES_ITEMS_COUNT:ht(this.CONSTANT_ATTRIBUTES))*Float32Array.BYTES_PER_ELEMENT:this.ATTRIBUTES_ITEMS_COUNT*Float32Array.BYTES_PER_ELEMENT;if(l.vertexAttribPointer(s,i.size,i.type,i.normalized||!1,u,r),this.isInstanced&&n)if(l instanceof WebGL2RenderingContext)l.vertexAttribDivisor(s,1);else{var c=l.getExtension("ANGLE_instanced_arrays");c&&c.vertexAttribDivisorANGLE(s,1)}}return i.size*o}},{key:"unbindAttribute",value:function(i,e,r){var n=e.attributeLocations[i.name],o=e.gl;if(n!==-1&&(o.disableVertexAttribArray(n),this.isInstanced&&r))if(o instanceof WebGL2RenderingContext)o.vertexAttribDivisor(n,0);else{var s=o.getExtension("ANGLE_instanced_arrays");s&&s.vertexAttribDivisorANGLE(n,0)}}},{key:"reallocate",value:function(i){i!==this.capacity&&(this.capacity=i,this.verticesCount=this.VERTICES*i,this.array=new Float32Array(this.isInstanced?this.capacity*this.ATTRIBUTES_ITEMS_COUNT:this.verticesCount*this.ATTRIBUTES_ITEMS_COUNT))}},{key:"hasNothingToRender",value:function(){return this.verticesCount===0}},{key:"renderProgram",value:function(i,e){var r=e.gl,n=e.program;r.enable(r.BLEND),r.useProgram(n),this.setUniforms(i,e),this.drawWebGL(this.METHOD,e)}},{key:"render",value:function(i){this.hasNothingToRender()||(this.pickProgram&&(this.pickProgram.gl.viewport(0,0,i.width*i.pixelRatio/i.downSizingRatio,i.height*i.pixelRatio/i.downSizingRatio),this.bindProgram(this.pickProgram),this.renderProgram(q(q({},i),{},{pixelRatio:i.pixelRatio/i.downSizingRatio}),this.pickProgram),this.unbindProgram(this.pickProgram)),this.normalProgram.gl.viewport(0,0,i.width*i.pixelRatio,i.height*i.pixelRatio),this.bindProgram(this.normalProgram),this.renderProgram(i,this.normalProgram),this.unbindProgram(this.normalProgram))}},{key:"drawWebGL",value:function(i,e){var r=e.gl,n=e.frameBuffer;if(r.bindFramebuffer(r.FRAMEBUFFER,n),!this.isInstanced)r.drawArrays(i,0,this.verticesCount);else if(r instanceof WebGL2RenderingContext)r.drawArraysInstanced(i,0,this.VERTICES,this.capacity);else{var o=r.getExtension("ANGLE_instanced_arrays");o&&o.drawArraysInstancedANGLE(i,0,this.VERTICES,this.capacity)}}}])}();var Ga=function(a){function t(){return L(this,t),G(this,t,arguments)}return F(t,a),N(t,[{key:"kill",value:function(){si(t,"kill",this,3)([])}},{key:"process",value:function(e,r,n){var o=r*this.STRIDE;if(n.hidden){for(var s=o+this.STRIDE;o<s;o++)this.array[o]=0;return}return this.processVisibleItem(ct(e),o,n)}}])}(ui);var pt=function(a){function t(){var i;L(this,t);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return i=G(this,t,[].concat(r)),y(i,"drawLabel",void 0),i}return F(t,a),N(t,[{key:"kill",value:function(){si(t,"kill",this,3)([])}},{key:"process",value:function(e,r,n,o,s){var l=r*this.STRIDE;if(s.hidden||n.hidden||o.hidden){for(var u=l+this.STRIDE;l<u;l++)this.array[l]=0;return}return this.processVisibleItem(ct(e),l,n,o,s)}}])}(ui);function Fa(a,t){return function(){function i(e,r,n){L(this,i),y(this,"drawLabel",t),this.programs=a.map(function(o){return new o(e,r,n)})}return N(i,[{key:"reallocate",value:function(r){this.programs.forEach(function(n){return n.reallocate(r)})}},{key:"process",value:function(r,n,o,s,l){this.programs.forEach(function(u){return u.process(r,n,o,s,l)})}},{key:"render",value:function(r){this.programs.forEach(function(n){return n.render(r)})}},{key:"kill",value:function(){this.programs.forEach(function(r){return r.kill()})}}])}()}function ci(a,t,i,e,r){var n=r.edgeLabelSize,o=r.edgeLabelFont,s=r.edgeLabelWeight,l=r.edgeLabelColor.attribute?t[r.edgeLabelColor.attribute]||r.edgeLabelColor.color||"#000":r.edgeLabelColor.color,u=t.label;if(u){a.fillStyle=l,a.font="".concat(s," ").concat(n,"px ").concat(o);var c=i.size,d=e.size,g=i.x,h=i.y,f=e.x,p=e.y,m=(g+f)/2,T=(h+p)/2,v=f-g,E=p-h,x=Math.sqrt(v*v+E*E);if(!(x<c+d)){g+=v*c/x,h+=E*c/x,f-=v*d/x,p-=E*d/x,m=(g+f)/2,T=(h+p)/2,v=f-g,E=p-h,x=Math.sqrt(v*v+E*E);var z=a.measureText(u).width;if(z>x){var A="\u2026";for(u=u+A,z=a.measureText(u).width;z>x&&u.length>1;)u=u.slice(0,-2)+A,z=a.measureText(u).width;if(u.length<4)return}var k;v>0?E>0?k=Math.acos(v/x):k=Math.asin(E/x):E>0?k=Math.acos(v/x)+Math.PI:k=Math.asin(v/x)+Math.PI/2,a.save(),a.translate(m,T),a.rotate(k),a.fillText(u,-z/2,t.size/2+n),a.restore()}}}function bt(a,t,i){if(t.label){var e=i.labelSize,r=i.labelFont,n=i.labelWeight,o=i.labelColor.attribute?t[i.labelColor.attribute]||i.labelColor.color||"#000":i.labelColor.color;a.fillStyle=o,a.font="".concat(n," ").concat(e,"px ").concat(r),a.fillText(t.label,t.x+t.size+3,t.y+e/3)}}function di(a,t,i){var e=i.labelSize,r=i.labelFont,n=i.labelWeight;a.font="".concat(n," ").concat(e,"px ").concat(r),a.fillStyle="#FFF",a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=8,a.shadowColor="#000";var o=2;if(typeof t.label=="string"){var s=a.measureText(t.label).width,l=Math.round(s+5),u=Math.round(e+2*o),c=Math.max(t.size,e/2)+o,d=Math.asin(u/2/c),g=Math.sqrt(Math.abs(Math.pow(c,2)-Math.pow(u/2,2)));a.beginPath(),a.moveTo(t.x+g,t.y+u/2),a.lineTo(t.x+c+l,t.y+u/2),a.lineTo(t.x+c+l,t.y-u/2),a.lineTo(t.x+g,t.y-u/2),a.arc(t.x,t.y,c,d,-d),a.closePath(),a.fill()}else a.beginPath(),a.arc(t.x,t.y,t.size+o,0,Math.PI*2),a.closePath(),a.fill();a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0,bt(a,t,i)}var Pa=`
precision highp float;

varying vec4 v_color;
varying vec2 v_diffVector;
varying float v_radius;

uniform float u_correctionRatio;

const vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);

void main(void) {
  float border = u_correctionRatio * 2.0;
  float dist = length(v_diffVector) - v_radius + border;

  // No antialiasing for picking mode:
  #ifdef PICKING_MODE
  if (dist > border)
    gl_FragColor = transparent;
  else
    gl_FragColor = v_color;

  #else
  float t = 0.0;
  if (dist > border)
    t = 1.0;
  else if (dist > 0.0)
    t = dist / border;

  gl_FragColor = mix(v_color, transparent, t);
  #endif
}
`,Ia=Pa,Ma=`
attribute vec4 a_id;
attribute vec4 a_color;
attribute vec2 a_position;
attribute float a_size;
attribute float a_angle;

uniform mat3 u_matrix;
uniform float u_sizeRatio;
uniform float u_correctionRatio;

varying vec4 v_color;
varying vec2 v_diffVector;
varying float v_radius;
varying float v_border;

const float bias = 255.0 / 254.0;

void main() {
  float size = a_size * u_correctionRatio / u_sizeRatio * 4.0;
  vec2 diffVector = size * vec2(cos(a_angle), sin(a_angle));
  vec2 position = a_position + diffVector;
  gl_Position = vec4(
    (u_matrix * vec3(position, 1)).xy,
    0,
    1
  );

  v_diffVector = diffVector;
  v_radius = size / 2.0;

  #ifdef PICKING_MODE
  // For picking mode, we use the ID as the color:
  v_color = a_id;
  #else
  // For normal mode, we use the color:
  v_color = a_color;
  #endif

  v_color.a *= bias;
}
`,Ua=Ma,gi=WebGLRenderingContext,ri=gi.UNSIGNED_BYTE,yt=gi.FLOAT,Oa=["u_sizeRatio","u_correctionRatio","u_matrix"],Ce=function(a){function t(){return L(this,t),G(this,t,arguments)}return F(t,a),N(t,[{key:"getDefinition",value:function(){return{VERTICES:3,VERTEX_SHADER_SOURCE:Ua,FRAGMENT_SHADER_SOURCE:Ia,METHOD:WebGLRenderingContext.TRIANGLES,UNIFORMS:Oa,ATTRIBUTES:[{name:"a_position",size:2,type:yt},{name:"a_size",size:1,type:yt},{name:"a_color",size:4,type:ri,normalized:!0},{name:"a_id",size:4,type:ri,normalized:!0}],CONSTANT_ATTRIBUTES:[{name:"a_angle",size:1,type:yt}],CONSTANT_DATA:[[t.ANGLE_1],[t.ANGLE_2],[t.ANGLE_3]]}}},{key:"processVisibleItem",value:function(e,r,n){var o=this.array,s=ve(n.color);o[r++]=n.x,o[r++]=n.y,o[r++]=n.size,o[r++]=s,o[r++]=e}},{key:"setUniforms",value:function(e,r){var n=r.gl,o=r.uniformLocations,s=o.u_sizeRatio,l=o.u_correctionRatio,u=o.u_matrix;n.uniform1f(l,e.correctionRatio),n.uniform1f(s,e.sizeRatio),n.uniformMatrix3fv(u,!1,e.matrix)}}])}(Ga);y(Ce,"ANGLE_1",0);y(Ce,"ANGLE_2",2*Math.PI/3);y(Ce,"ANGLE_3",4*Math.PI/3);var $a=`
precision mediump float;

varying vec4 v_color;

void main(void) {
  gl_FragColor = v_color;
}
`,Ba=$a,Ha=`
attribute vec2 a_position;
attribute vec2 a_normal;
attribute float a_radius;
attribute vec3 a_barycentric;

#ifdef PICKING_MODE
attribute vec4 a_id;
#else
attribute vec4 a_color;
#endif

uniform mat3 u_matrix;
uniform float u_sizeRatio;
uniform float u_correctionRatio;
uniform float u_minEdgeThickness;
uniform float u_lengthToThicknessRatio;
uniform float u_widenessToThicknessRatio;

varying vec4 v_color;

const float bias = 255.0 / 254.0;

void main() {
  float minThickness = u_minEdgeThickness;

  float normalLength = length(a_normal);
  vec2 unitNormal = a_normal / normalLength;

  // These first computations are taken from edge.vert.glsl and
  // edge.clamped.vert.glsl. Please read it to get better comments on what's
  // happening:
  float pixelsThickness = max(normalLength / u_sizeRatio, minThickness);
  float webGLThickness = pixelsThickness * u_correctionRatio;
  float webGLNodeRadius = a_radius * 2.0 * u_correctionRatio / u_sizeRatio;
  float webGLArrowHeadLength = webGLThickness * u_lengthToThicknessRatio * 2.0;
  float webGLArrowHeadThickness = webGLThickness * u_widenessToThicknessRatio;

  float da = a_barycentric.x;
  float db = a_barycentric.y;
  float dc = a_barycentric.z;

  vec2 delta = vec2(
      da * (webGLNodeRadius * unitNormal.y)
    + db * ((webGLNodeRadius + webGLArrowHeadLength) * unitNormal.y + webGLArrowHeadThickness * unitNormal.x)
    + dc * ((webGLNodeRadius + webGLArrowHeadLength) * unitNormal.y - webGLArrowHeadThickness * unitNormal.x),

      da * (-webGLNodeRadius * unitNormal.x)
    + db * (-(webGLNodeRadius + webGLArrowHeadLength) * unitNormal.x + webGLArrowHeadThickness * unitNormal.y)
    + dc * (-(webGLNodeRadius + webGLArrowHeadLength) * unitNormal.x - webGLArrowHeadThickness * unitNormal.y)
  );

  vec2 position = (u_matrix * vec3(a_position + delta, 1)).xy;

  gl_Position = vec4(position, 0, 1);

  #ifdef PICKING_MODE
  // For picking mode, we use the ID as the color:
  v_color = a_id;
  #else
  // For normal mode, we use the color:
  v_color = a_color;
  #endif

  v_color.a *= bias;
}
`,Wa=Ha,hi=WebGLRenderingContext,ai=hi.UNSIGNED_BYTE,$e=hi.FLOAT,ja=["u_matrix","u_sizeRatio","u_correctionRatio","u_minEdgeThickness","u_lengthToThicknessRatio","u_widenessToThicknessRatio"],yi={extremity:"target",lengthToThicknessRatio:2.5,widenessToThicknessRatio:2};function fi(a){var t=q(q({},yi),a||{});return function(i){function e(){return L(this,e),G(this,e,arguments)}return F(e,i),N(e,[{key:"getDefinition",value:function(){return{VERTICES:3,VERTEX_SHADER_SOURCE:Wa,FRAGMENT_SHADER_SOURCE:Ba,METHOD:WebGLRenderingContext.TRIANGLES,UNIFORMS:ja,ATTRIBUTES:[{name:"a_position",size:2,type:$e},{name:"a_normal",size:2,type:$e},{name:"a_radius",size:1,type:$e},{name:"a_color",size:4,type:ai,normalized:!0},{name:"a_id",size:4,type:ai,normalized:!0}],CONSTANT_ATTRIBUTES:[{name:"a_barycentric",size:3,type:$e}],CONSTANT_DATA:[[1,0,0],[0,1,0],[0,0,1]]}}},{key:"processVisibleItem",value:function(n,o,s,l,u){if(t.extremity==="source"){var c=[l,s];s=c[0],l=c[1]}var d=u.size||1,g=l.size||1,h=s.x,f=s.y,p=l.x,m=l.y,T=ve(u.color),v=p-h,E=m-f,x=v*v+E*E,z=0,A=0;x&&(x=1/Math.sqrt(x),z=-E*x*d,A=v*x*d);var k=this.array;k[o++]=p,k[o++]=m,k[o++]=-z,k[o++]=-A,k[o++]=g,k[o++]=T,k[o++]=n}},{key:"setUniforms",value:function(n,o){var s=o.gl,l=o.uniformLocations,u=l.u_matrix,c=l.u_sizeRatio,d=l.u_correctionRatio,g=l.u_minEdgeThickness,h=l.u_lengthToThicknessRatio,f=l.u_widenessToThicknessRatio;s.uniformMatrix3fv(u,!1,n.matrix),s.uniform1f(c,n.sizeRatio),s.uniform1f(d,n.correctionRatio),s.uniform1f(g,n.minEdgeThickness),s.uniform1f(h,t.lengthToThicknessRatio),s.uniform1f(f,t.widenessToThicknessRatio)}}])}(pt)}var Bn=fi();var Va=`
precision mediump float;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_thickness;
varying float v_feather;

const vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);

void main(void) {
  // We only handle antialiasing for normal mode:
  #ifdef PICKING_MODE
  gl_FragColor = v_color;
  #else
  float dist = length(v_normal) * v_thickness;

  float t = smoothstep(
    v_thickness - v_feather,
    v_thickness,
    dist
  );

  gl_FragColor = mix(v_color, transparent, t);
  #endif
}
`,pi=Va,Ya=`
attribute vec4 a_id;
attribute vec4 a_color;
attribute vec2 a_normal;
attribute float a_normalCoef;
attribute vec2 a_positionStart;
attribute vec2 a_positionEnd;
attribute float a_positionCoef;
attribute float a_radius;
attribute float a_radiusCoef;

uniform mat3 u_matrix;
uniform float u_zoomRatio;
uniform float u_sizeRatio;
uniform float u_pixelRatio;
uniform float u_correctionRatio;
uniform float u_minEdgeThickness;
uniform float u_lengthToThicknessRatio;
uniform float u_feather;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_thickness;
varying float v_feather;

const float bias = 255.0 / 254.0;

void main() {
  float minThickness = u_minEdgeThickness;

  float radius = a_radius * a_radiusCoef;
  vec2 normal = a_normal * a_normalCoef;
  vec2 position = a_positionStart * (1.0 - a_positionCoef) + a_positionEnd * a_positionCoef;

  float normalLength = length(normal);
  vec2 unitNormal = normal / normalLength;

  // These first computations are taken from edge.vert.glsl. Please read it to
  // get better comments on what's happening:
  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);
  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;

  // Here, we move the point to leave space for the arrow head:
  float direction = sign(radius);
  float webGLNodeRadius = direction * radius * 2.0 * u_correctionRatio / u_sizeRatio;
  float webGLArrowHeadLength = webGLThickness * u_lengthToThicknessRatio * 2.0;

  vec2 compensationVector = vec2(-direction * unitNormal.y, direction * unitNormal.x) * (webGLNodeRadius + webGLArrowHeadLength);

  // Here is the proper position of the vertex
  gl_Position = vec4((u_matrix * vec3(position + unitNormal * webGLThickness + compensationVector, 1)).xy, 0, 1);

  v_thickness = webGLThickness / u_zoomRatio;

  v_normal = unitNormal;

  v_feather = u_feather * u_correctionRatio / u_zoomRatio / u_pixelRatio * 2.0;

  #ifdef PICKING_MODE
  // For picking mode, we use the ID as the color:
  v_color = a_id;
  #else
  // For normal mode, we use the color:
  v_color = a_color;
  #endif

  v_color.a *= bias;
}
`,Ka=Ya,bi=WebGLRenderingContext,ni=bi.UNSIGNED_BYTE,ce=bi.FLOAT,Za=["u_matrix","u_zoomRatio","u_sizeRatio","u_correctionRatio","u_pixelRatio","u_feather","u_minEdgeThickness","u_lengthToThicknessRatio"],Xa={lengthToThicknessRatio:yi.lengthToThicknessRatio};function mi(a){var t=q(q({},Xa),a||{});return function(i){function e(){return L(this,e),G(this,e,arguments)}return F(e,i),N(e,[{key:"getDefinition",value:function(){return{VERTICES:6,VERTEX_SHADER_SOURCE:Ka,FRAGMENT_SHADER_SOURCE:pi,METHOD:WebGLRenderingContext.TRIANGLES,UNIFORMS:Za,ATTRIBUTES:[{name:"a_positionStart",size:2,type:ce},{name:"a_positionEnd",size:2,type:ce},{name:"a_normal",size:2,type:ce},{name:"a_color",size:4,type:ni,normalized:!0},{name:"a_id",size:4,type:ni,normalized:!0},{name:"a_radius",size:1,type:ce}],CONSTANT_ATTRIBUTES:[{name:"a_positionCoef",size:1,type:ce},{name:"a_normalCoef",size:1,type:ce},{name:"a_radiusCoef",size:1,type:ce}],CONSTANT_DATA:[[0,1,0],[0,-1,0],[1,1,1],[1,1,1],[0,-1,0],[1,-1,-1]]}}},{key:"processVisibleItem",value:function(n,o,s,l,u){var c=u.size||1,d=s.x,g=s.y,h=l.x,f=l.y,p=ve(u.color),m=h-d,T=f-g,v=l.size||1,E=m*m+T*T,x=0,z=0;E&&(E=1/Math.sqrt(E),x=-T*E*c,z=m*E*c);var A=this.array;A[o++]=d,A[o++]=g,A[o++]=h,A[o++]=f,A[o++]=x,A[o++]=z,A[o++]=p,A[o++]=n,A[o++]=v}},{key:"setUniforms",value:function(n,o){var s=o.gl,l=o.uniformLocations,u=l.u_matrix,c=l.u_zoomRatio,d=l.u_feather,g=l.u_pixelRatio,h=l.u_correctionRatio,f=l.u_sizeRatio,p=l.u_minEdgeThickness,m=l.u_lengthToThicknessRatio;s.uniformMatrix3fv(u,!1,n.matrix),s.uniform1f(c,n.zoomRatio),s.uniform1f(f,n.sizeRatio),s.uniform1f(h,n.correctionRatio),s.uniform1f(g,n.pixelRatio),s.uniform1f(d,n.antiAliasingFeather),s.uniform1f(p,n.minEdgeThickness),s.uniform1f(m,t.lengthToThicknessRatio)}}])}(pt)}var Hn=mi();function Qa(a){return Fa([mi(a),fi(a)])}var Ja=Qa(),vi=Ja,en=`
attribute vec4 a_id;
attribute vec4 a_color;
attribute vec2 a_normal;
attribute float a_normalCoef;
attribute vec2 a_positionStart;
attribute vec2 a_positionEnd;
attribute float a_positionCoef;

uniform mat3 u_matrix;
uniform float u_sizeRatio;
uniform float u_zoomRatio;
uniform float u_pixelRatio;
uniform float u_correctionRatio;
uniform float u_minEdgeThickness;
uniform float u_feather;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_thickness;
varying float v_feather;

const float bias = 255.0 / 254.0;

void main() {
  float minThickness = u_minEdgeThickness;

  vec2 normal = a_normal * a_normalCoef;
  vec2 position = a_positionStart * (1.0 - a_positionCoef) + a_positionEnd * a_positionCoef;

  float normalLength = length(normal);
  vec2 unitNormal = normal / normalLength;

  // We require edges to be at least "minThickness" pixels thick *on screen*
  // (so we need to compensate the size ratio):
  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);

  // Then, we need to retrieve the normalized thickness of the edge in the WebGL
  // referential (in a ([0, 1], [0, 1]) space), using our "magic" correction
  // ratio:
  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;

  // Here is the proper position of the vertex
  gl_Position = vec4((u_matrix * vec3(position + unitNormal * webGLThickness, 1)).xy, 0, 1);

  // For the fragment shader though, we need a thickness that takes the "magic"
  // correction ratio into account (as in webGLThickness), but so that the
  // antialiasing effect does not depend on the zoom level. So here's yet
  // another thickness version:
  v_thickness = webGLThickness / u_zoomRatio;

  v_normal = unitNormal;

  v_feather = u_feather * u_correctionRatio / u_zoomRatio / u_pixelRatio * 2.0;

  #ifdef PICKING_MODE
  // For picking mode, we use the ID as the color:
  v_color = a_id;
  #else
  // For normal mode, we use the color:
  v_color = a_color;
  #endif

  v_color.a *= bias;
}
`,tn=en,wi=WebGLRenderingContext,oi=wi.UNSIGNED_BYTE,Ae=wi.FLOAT,rn=["u_matrix","u_zoomRatio","u_sizeRatio","u_correctionRatio","u_pixelRatio","u_feather","u_minEdgeThickness"],Ei=function(a){function t(){return L(this,t),G(this,t,arguments)}return F(t,a),N(t,[{key:"getDefinition",value:function(){return{VERTICES:6,VERTEX_SHADER_SOURCE:tn,FRAGMENT_SHADER_SOURCE:pi,METHOD:WebGLRenderingContext.TRIANGLES,UNIFORMS:rn,ATTRIBUTES:[{name:"a_positionStart",size:2,type:Ae},{name:"a_positionEnd",size:2,type:Ae},{name:"a_normal",size:2,type:Ae},{name:"a_color",size:4,type:oi,normalized:!0},{name:"a_id",size:4,type:oi,normalized:!0}],CONSTANT_ATTRIBUTES:[{name:"a_positionCoef",size:1,type:Ae},{name:"a_normalCoef",size:1,type:Ae}],CONSTANT_DATA:[[0,1],[0,-1],[1,1],[1,1],[0,-1],[1,-1]]}}},{key:"processVisibleItem",value:function(e,r,n,o,s){var l=s.size||1,u=n.x,c=n.y,d=o.x,g=o.y,h=ve(s.color),f=d-u,p=g-c,m=f*f+p*p,T=0,v=0;m&&(m=1/Math.sqrt(m),T=-p*m*l,v=f*m*l);var E=this.array;E[r++]=u,E[r++]=c,E[r++]=d,E[r++]=g,E[r++]=T,E[r++]=v,E[r++]=h,E[r++]=e}},{key:"setUniforms",value:function(e,r){var n=r.gl,o=r.uniformLocations,s=o.u_matrix,l=o.u_zoomRatio,u=o.u_feather,c=o.u_pixelRatio,d=o.u_correctionRatio,g=o.u_sizeRatio,h=o.u_minEdgeThickness;n.uniformMatrix3fv(s,!1,e.matrix),n.uniform1f(l,e.zoomRatio),n.uniform1f(g,e.sizeRatio),n.uniform1f(d,e.correctionRatio),n.uniform1f(c,e.pixelRatio),n.uniform1f(u,e.antiAliasingFeather),n.uniform1f(h,e.minEdgeThickness)}}])}(pt);var Ti=Te(De()),Be=function(a){function t(){var i;return L(this,t),i=G(this,t),i.rawEmitter=i,i}return F(t,a),N(t)}(Ti.EventEmitter);var ki=Te(mt());var an=function(t){return t},nn=function(t){return t*t},on=function(t){return t*(2-t)},sn=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},ln=function(t){return t*t*t},un=function(t){return--t*t*t+1},cn=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},Ai={linear:an,quadraticIn:nn,quadraticOut:on,quadraticInOut:sn,cubicIn:ln,cubicOut:un,cubicInOut:cn},Ci={easing:"quadraticInOut",duration:150};function H(){return Float32Array.of(1,0,0,0,1,0,0,0,1)}function He(a,t,i){return a[0]=t,a[4]=typeof i=="number"?i:t,a}function xi(a,t){var i=Math.sin(t),e=Math.cos(t);return a[0]=e,a[1]=i,a[3]=-i,a[4]=e,a}function _i(a,t,i){return a[6]=t,a[7]=i,a}function ne(a,t){var i=a[0],e=a[1],r=a[2],n=a[3],o=a[4],s=a[5],l=a[6],u=a[7],c=a[8],d=t[0],g=t[1],h=t[2],f=t[3],p=t[4],m=t[5],T=t[6],v=t[7],E=t[8];return a[0]=d*i+g*n+h*l,a[1]=d*e+g*o+h*u,a[2]=d*r+g*s+h*c,a[3]=f*i+p*n+m*l,a[4]=f*e+p*o+m*u,a[5]=f*r+p*s+m*c,a[6]=T*i+v*n+E*l,a[7]=T*e+v*o+E*u,a[8]=T*r+v*s+E*c,a}function We(a,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,e=a[0],r=a[1],n=a[3],o=a[4],s=a[6],l=a[7],u=t.x,c=t.y;return{x:u*e+c*n+s*i,y:u*r+c*o+l*i}}function dn(a,t){var i=a.height/a.width,e=t.height/t.width;return i<1&&e>1||i>1&&e<1?1:Math.min(Math.max(e,1/e),Math.max(1/i,i))}function we(a,t,i,e,r){var n=a.angle,o=a.ratio,s=a.x,l=a.y,u=t.width,c=t.height,d=H(),g=Math.min(u,c)-2*e,h=dn(t,i);return r?(ne(d,_i(H(),s,l)),ne(d,He(H(),o)),ne(d,xi(H(),n)),ne(d,He(H(),u/g/2/h,c/g/2/h))):(ne(d,He(H(),2*(g/u)*h,2*(g/c)*h)),ne(d,xi(H(),-n)),ne(d,He(H(),1/o)),ne(d,_i(H(),-s,-l))),d}function Si(a,t,i){var e=We(a,{x:Math.cos(t.angle),y:Math.sin(t.angle)},0),r=e.x,n=e.y;return 1/Math.sqrt(Math.pow(r,2)+Math.pow(n,2))/i.width}function zi(a){if(!a.order)return{x:[0,1],y:[0,1]};var t=1/0,i=-1/0,e=1/0,r=-1/0;return a.forEachNode(function(n,o){var s=o.x,l=o.y;s<t&&(t=s),s>i&&(i=s),l<e&&(e=l),l>r&&(r=l)}),{x:[t,i],y:[e,r]}}function Ri(a){if(!(0,ki.default)(a))throw new Error("Sigma: invalid graph instance.");a.forEachNode(function(t,i){if(!Number.isFinite(i.x)||!Number.isFinite(i.y))throw new Error("Sigma: Coordinates of node ".concat(t," are invalid. A node must have a numeric 'x' and 'y' attribute."))})}function Li(a,t,i){var e=document.createElement(a);if(t)for(var r in t)e.style[r]=t[r];if(i)for(var n in i)e.setAttribute(n,i[n]);return e}function vt(){return typeof window.devicePixelRatio<"u"?window.devicePixelRatio:1}function wt(a,t,i){return i.sort(function(e,r){var n=t(e)||0,o=t(r)||0;return n<o?-1:n>o?1:0})}function Et(a){var t=ae(a.x,2),i=t[0],e=t[1],r=ae(a.y,2),n=r[0],o=r[1],s=Math.max(e-i,o-n),l=(e+i)/2,u=(o+n)/2;(s===0||Math.abs(s)===1/0||isNaN(s))&&(s=1),isNaN(l)&&(l=0),isNaN(u)&&(u=0);var c=function(g){return{x:.5+(g.x-l)/s,y:.5+(g.y-u)/s}};return c.applyTo=function(d){d.x=.5+(d.x-l)/s,d.y=.5+(d.y-u)/s},c.inverse=function(d){return{x:l+s*(d.x-.5),y:u+s*(d.y-.5)}},c.ratio=s,c}function je(a){"@babel/helpers - typeof";return je=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},je(a)}function Tt(a,t){var i=t.size;if(i!==0){var e=a.length;a.length+=i;var r=0;t.forEach(function(n){a[e+r]=n,r++})}}function Ve(a){a=a||{};for(var t=0,i=arguments.length<=1?0:arguments.length-1;t<i;t++){var e=t+1<1||arguments.length<=t+1?void 0:arguments[t+1];e&&Object.assign(a,e)}return a}var Ee={hideEdgesOnMove:!1,hideLabelsOnMove:!1,renderLabels:!0,renderEdgeLabels:!1,enableEdgeEvents:!1,defaultNodeColor:"#999",defaultNodeType:"circle",defaultEdgeColor:"#ccc",defaultEdgeType:"line",labelFont:"Arial",labelSize:14,labelWeight:"normal",labelColor:{color:"#000"},edgeLabelFont:"Arial",edgeLabelSize:14,edgeLabelWeight:"normal",edgeLabelColor:{attribute:"color"},stagePadding:30,defaultDrawEdgeLabel:ci,defaultDrawNodeLabel:bt,defaultDrawNodeHover:di,minEdgeThickness:1.7,antiAliasingFeather:1,dragTimeout:100,draggedEventsTolerance:3,inertiaDuration:200,inertiaRatio:3,zoomDuration:250,zoomingRatio:1.7,doubleClickTimeout:300,doubleClickZoomingRatio:2.2,doubleClickZoomingDuration:200,tapMoveTolerance:10,zoomToSizeRatioFunction:Math.sqrt,itemSizesReference:"screen",autoRescale:!0,autoCenter:!0,labelDensity:1,labelGridCellSize:100,labelRenderedSizeThreshold:6,nodeReducer:null,edgeReducer:null,zIndex:!1,minCameraRatio:null,maxCameraRatio:null,enableCameraZooming:!0,enableCameraPanning:!0,enableCameraRotation:!0,cameraPanBoundaries:null,allowInvalidContainer:!1,nodeProgramClasses:{},nodeHoverProgramClasses:{},edgeProgramClasses:{}},gn={circle:Ce},hn={arrow:vi,line:Ei};function Ye(a){if(typeof a.labelDensity!="number"||a.labelDensity<0)throw new Error("Settings: invalid `labelDensity`. Expecting a positive number.");var t=a.minCameraRatio,i=a.maxCameraRatio;if(typeof t=="number"&&typeof i=="number"&&i<t)throw new Error("Settings: invalid camera ratio boundaries. Expecting `maxCameraRatio` to be greater than `minCameraRatio`.")}function Ni(a){var t=Ve({},Ee,a);return t.nodeProgramClasses=Ve({},gn,t.nodeProgramClasses),t.edgeProgramClasses=Ve({},hn,t.edgeProgramClasses),t}var lo=Te(De()),uo=Te(mt()),Ke=1.5,Di=function(a){function t(){var i;return L(this,t),i=G(this,t),y(i,"x",.5),y(i,"y",.5),y(i,"angle",0),y(i,"ratio",1),y(i,"minRatio",null),y(i,"maxRatio",null),y(i,"enabledZooming",!0),y(i,"enabledPanning",!0),y(i,"enabledRotation",!0),y(i,"clean",null),y(i,"nextFrame",null),y(i,"previousState",null),y(i,"enabled",!0),i.previousState=i.getState(),i}return F(t,a),N(t,[{key:"enable",value:function(){return this.enabled=!0,this}},{key:"disable",value:function(){return this.enabled=!1,this}},{key:"getState",value:function(){return{x:this.x,y:this.y,angle:this.angle,ratio:this.ratio}}},{key:"hasState",value:function(e){return this.x===e.x&&this.y===e.y&&this.ratio===e.ratio&&this.angle===e.angle}},{key:"getPreviousState",value:function(){var e=this.previousState;return e?{x:e.x,y:e.y,angle:e.angle,ratio:e.ratio}:null}},{key:"getBoundedRatio",value:function(e){var r=e;return typeof this.minRatio=="number"&&(r=Math.max(r,this.minRatio)),typeof this.maxRatio=="number"&&(r=Math.min(r,this.maxRatio)),r}},{key:"validateState",value:function(e){var r={};return this.enabledPanning&&typeof e.x=="number"&&(r.x=e.x),this.enabledPanning&&typeof e.y=="number"&&(r.y=e.y),this.enabledZooming&&typeof e.ratio=="number"&&(r.ratio=this.getBoundedRatio(e.ratio)),this.enabledRotation&&typeof e.angle=="number"&&(r.angle=e.angle),this.clean?this.clean(q(q({},this.getState()),r)):r}},{key:"isAnimated",value:function(){return!!this.nextFrame}},{key:"setState",value:function(e){if(!this.enabled)return this;this.previousState=this.getState();var r=this.validateState(e);return typeof r.x=="number"&&(this.x=r.x),typeof r.y=="number"&&(this.y=r.y),typeof r.ratio=="number"&&(this.ratio=r.ratio),typeof r.angle=="number"&&(this.angle=r.angle),this.hasState(this.previousState)||this.emit("updated",this.getState()),this}},{key:"updateState",value:function(e){return this.setState(e(this.getState())),this}},{key:"animate",value:function(e){var r=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;if(!o)return new Promise(function(h){return r.animate(e,n,h)});if(this.enabled){var s=q(q({},Ci),n),l=this.validateState(e),u=typeof s.easing=="function"?s.easing:Ai[s.easing],c=Date.now(),d=this.getState(),g=function(){var f=(Date.now()-c)/s.duration;if(f>=1){r.nextFrame=null,r.setState(l),r.animationCallback&&(r.animationCallback.call(null),r.animationCallback=void 0);return}var p=u(f),m={};typeof l.x=="number"&&(m.x=d.x+(l.x-d.x)*p),typeof l.y=="number"&&(m.y=d.y+(l.y-d.y)*p),r.enabledRotation&&typeof l.angle=="number"&&(m.angle=d.angle+(l.angle-d.angle)*p),typeof l.ratio=="number"&&(m.ratio=d.ratio+(l.ratio-d.ratio)*p),r.setState(m),r.nextFrame=requestAnimationFrame(g)};this.nextFrame?(cancelAnimationFrame(this.nextFrame),this.animationCallback&&this.animationCallback.call(null),this.nextFrame=requestAnimationFrame(g)):g(),this.animationCallback=o}}},{key:"animatedZoom",value:function(e){return e?typeof e=="number"?this.animate({ratio:this.ratio/e}):this.animate({ratio:this.ratio/(e.factor||Ke)},e):this.animate({ratio:this.ratio/Ke})}},{key:"animatedUnzoom",value:function(e){return e?typeof e=="number"?this.animate({ratio:this.ratio*e}):this.animate({ratio:this.ratio*(e.factor||Ke)},e):this.animate({ratio:this.ratio*Ke})}},{key:"animatedReset",value:function(e){return this.animate({x:.5,y:.5,ratio:1,angle:0},e)}},{key:"copy",value:function(){return t.from(this.getState())}}],[{key:"from",value:function(e){var r=new t;return r.setState(e)}}])}(Be);function Y(a,t){var i=t.getBoundingClientRect();return{x:a.clientX-i.left,y:a.clientY-i.top}}function J(a,t){var i=q(q({},Y(a,t)),{},{sigmaDefaultPrevented:!1,preventSigmaDefault:function(){i.sigmaDefaultPrevented=!0},original:a});return i}function Se(a){var t="x"in a?a:q(q({},a.touches[0]||a.previousTouches[0]),{},{original:a.original,sigmaDefaultPrevented:a.sigmaDefaultPrevented,preventSigmaDefault:function(){a.sigmaDefaultPrevented=!0,t.sigmaDefaultPrevented=!0}});return t}function yn(a,t){return q(q({},J(a,t)),{},{delta:Ui(a)})}var fn=2;function Ze(a){for(var t=[],i=0,e=Math.min(a.length,fn);i<e;i++)t.push(a[i]);return t}function ze(a,t,i){var e={touches:Ze(a.touches).map(function(r){return Y(r,i)}),previousTouches:t.map(function(r){return Y(r,i)}),sigmaDefaultPrevented:!1,preventSigmaDefault:function(){e.sigmaDefaultPrevented=!0},original:a};return e}function Ui(a){if(typeof a.deltaY<"u")return a.deltaY*-3/360;if(typeof a.detail<"u")return a.detail/-9;throw new Error("Captor: could not extract delta from event.")}var Oi=function(a){function t(i,e){var r;return L(this,t),r=G(this,t),r.container=i,r.renderer=e,r}return F(t,a),N(t)}(Be),pn=["doubleClickTimeout","doubleClickZoomingDuration","doubleClickZoomingRatio","dragTimeout","draggedEventsTolerance","inertiaDuration","inertiaRatio","zoomDuration","zoomingRatio"],bn=pn.reduce(function(a,t){return q(q({},a),{},y({},t,Ee[t]))},{}),mn=function(a){function t(i,e){var r;return L(this,t),r=G(this,t,[i,e]),y(r,"enabled",!0),y(r,"draggedEvents",0),y(r,"downStartTime",null),y(r,"lastMouseX",null),y(r,"lastMouseY",null),y(r,"isMouseDown",!1),y(r,"isMoving",!1),y(r,"movingTimeout",null),y(r,"startCameraState",null),y(r,"clicks",0),y(r,"doubleClickTimeout",null),y(r,"currentWheelDirection",0),y(r,"settings",bn),r.handleClick=r.handleClick.bind(r),r.handleRightClick=r.handleRightClick.bind(r),r.handleDown=r.handleDown.bind(r),r.handleUp=r.handleUp.bind(r),r.handleMove=r.handleMove.bind(r),r.handleWheel=r.handleWheel.bind(r),r.handleLeave=r.handleLeave.bind(r),r.handleEnter=r.handleEnter.bind(r),i.addEventListener("click",r.handleClick,{capture:!1}),i.addEventListener("contextmenu",r.handleRightClick,{capture:!1}),i.addEventListener("mousedown",r.handleDown,{capture:!1}),i.addEventListener("wheel",r.handleWheel,{capture:!1}),i.addEventListener("mouseleave",r.handleLeave,{capture:!1}),i.addEventListener("mouseenter",r.handleEnter,{capture:!1}),document.addEventListener("mousemove",r.handleMove,{capture:!1}),document.addEventListener("mouseup",r.handleUp,{capture:!1}),r}return F(t,a),N(t,[{key:"kill",value:function(){var e=this.container;e.removeEventListener("click",this.handleClick),e.removeEventListener("contextmenu",this.handleRightClick),e.removeEventListener("mousedown",this.handleDown),e.removeEventListener("wheel",this.handleWheel),e.removeEventListener("mouseleave",this.handleLeave),e.removeEventListener("mouseenter",this.handleEnter),document.removeEventListener("mousemove",this.handleMove),document.removeEventListener("mouseup",this.handleUp)}},{key:"handleClick",value:function(e){var r=this;if(this.enabled){if(this.clicks++,this.clicks===2)return this.clicks=0,typeof this.doubleClickTimeout=="number"&&(clearTimeout(this.doubleClickTimeout),this.doubleClickTimeout=null),this.handleDoubleClick(e);setTimeout(function(){r.clicks=0,r.doubleClickTimeout=null},this.settings.doubleClickTimeout),this.draggedEvents<this.settings.draggedEventsTolerance&&this.emit("click",J(e,this.container))}}},{key:"handleRightClick",value:function(e){this.enabled&&this.emit("rightClick",J(e,this.container))}},{key:"handleDoubleClick",value:function(e){if(this.enabled){e.preventDefault(),e.stopPropagation();var r=J(e,this.container);if(this.emit("doubleClick",r),!r.sigmaDefaultPrevented){var n=this.renderer.getCamera(),o=n.getBoundedRatio(n.getState().ratio/this.settings.doubleClickZoomingRatio);n.animate(this.renderer.getViewportZoomedState(Y(e,this.container),o),{easing:"quadraticInOut",duration:this.settings.doubleClickZoomingDuration})}}}},{key:"handleDown",value:function(e){if(this.enabled){if(e.button===0){this.startCameraState=this.renderer.getCamera().getState();var r=Y(e,this.container),n=r.x,o=r.y;this.lastMouseX=n,this.lastMouseY=o,this.draggedEvents=0,this.downStartTime=Date.now(),this.isMouseDown=!0}this.emit("mousedown",J(e,this.container))}}},{key:"handleUp",value:function(e){var r=this;if(!(!this.enabled||!this.isMouseDown)){var n=this.renderer.getCamera();this.isMouseDown=!1,typeof this.movingTimeout=="number"&&(clearTimeout(this.movingTimeout),this.movingTimeout=null);var o=Y(e,this.container),s=o.x,l=o.y,u=n.getState(),c=n.getPreviousState()||{x:0,y:0};this.isMoving?n.animate({x:u.x+this.settings.inertiaRatio*(u.x-c.x),y:u.y+this.settings.inertiaRatio*(u.y-c.y)},{duration:this.settings.inertiaDuration,easing:"quadraticOut"}):(this.lastMouseX!==s||this.lastMouseY!==l)&&n.setState({x:u.x,y:u.y}),this.isMoving=!1,setTimeout(function(){var d=r.draggedEvents>0;r.draggedEvents=0,d&&r.renderer.getSetting("hideEdgesOnMove")&&r.renderer.refresh()},0),this.emit("mouseup",J(e,this.container))}}},{key:"handleMove",value:function(e){var r=this;if(this.enabled){var n=J(e,this.container);if(this.emit("mousemovebody",n),(e.target===this.container||e.composedPath()[0]===this.container)&&this.emit("mousemove",n),!n.sigmaDefaultPrevented&&this.isMouseDown){this.isMoving=!0,this.draggedEvents++,typeof this.movingTimeout=="number"&&clearTimeout(this.movingTimeout),this.movingTimeout=window.setTimeout(function(){r.movingTimeout=null,r.isMoving=!1},this.settings.dragTimeout);var o=this.renderer.getCamera(),s=Y(e,this.container),l=s.x,u=s.y,c=this.renderer.viewportToFramedGraph({x:this.lastMouseX,y:this.lastMouseY}),d=this.renderer.viewportToFramedGraph({x:l,y:u}),g=c.x-d.x,h=c.y-d.y,f=o.getState(),p=f.x+g,m=f.y+h;o.setState({x:p,y:m}),this.lastMouseX=l,this.lastMouseY=u,e.preventDefault(),e.stopPropagation()}}}},{key:"handleLeave",value:function(e){this.emit("mouseleave",J(e,this.container))}},{key:"handleEnter",value:function(e){this.emit("mouseenter",J(e,this.container))}},{key:"handleWheel",value:function(e){var r=this,n=this.renderer.getCamera();if(!(!this.enabled||!n.enabledZooming)){var o=Ui(e);if(o){var s=yn(e,this.container);if(this.emit("wheel",s),s.sigmaDefaultPrevented){e.preventDefault(),e.stopPropagation();return}var l=n.getState().ratio,u=o>0?1/this.settings.zoomingRatio:this.settings.zoomingRatio,c=n.getBoundedRatio(l*u),d=o>0?1:-1,g=Date.now();l!==c&&(e.preventDefault(),e.stopPropagation(),!(this.currentWheelDirection===d&&this.lastWheelTriggerTime&&g-this.lastWheelTriggerTime<this.settings.zoomDuration/5)&&(n.animate(this.renderer.getViewportZoomedState(Y(e,this.container),c),{easing:"quadraticOut",duration:this.settings.zoomDuration},function(){r.currentWheelDirection=0}),this.currentWheelDirection=d,this.lastWheelTriggerTime=g))}}}},{key:"setSettings",value:function(e){this.settings=e}}])}(Oi),vn=["dragTimeout","inertiaDuration","inertiaRatio","doubleClickTimeout","doubleClickZoomingRatio","doubleClickZoomingDuration","tapMoveTolerance"],wn=vn.reduce(function(a,t){return q(q({},a),{},y({},t,Ee[t]))},{}),En=function(a){function t(i,e){var r;return L(this,t),r=G(this,t,[i,e]),y(r,"enabled",!0),y(r,"isMoving",!1),y(r,"hasMoved",!1),y(r,"touchMode",0),y(r,"startTouchesPositions",[]),y(r,"lastTouches",[]),y(r,"lastTap",null),y(r,"settings",wn),r.handleStart=r.handleStart.bind(r),r.handleLeave=r.handleLeave.bind(r),r.handleMove=r.handleMove.bind(r),i.addEventListener("touchstart",r.handleStart,{capture:!1}),i.addEventListener("touchcancel",r.handleLeave,{capture:!1}),document.addEventListener("touchend",r.handleLeave,{capture:!1,passive:!1}),document.addEventListener("touchmove",r.handleMove,{capture:!1,passive:!1}),r}return F(t,a),N(t,[{key:"kill",value:function(){var e=this.container;e.removeEventListener("touchstart",this.handleStart),e.removeEventListener("touchcancel",this.handleLeave),document.removeEventListener("touchend",this.handleLeave),document.removeEventListener("touchmove",this.handleMove)}},{key:"getDimensions",value:function(){return{width:this.container.offsetWidth,height:this.container.offsetHeight}}},{key:"handleStart",value:function(e){var r=this;if(this.enabled){e.preventDefault();var n=Ze(e.touches);if(this.touchMode=n.length,this.startCameraState=this.renderer.getCamera().getState(),this.startTouchesPositions=n.map(function(h){return Y(h,r.container)}),this.touchMode===2){var o=ae(this.startTouchesPositions,2),s=o[0],l=s.x,u=s.y,c=o[1],d=c.x,g=c.y;this.startTouchesAngle=Math.atan2(g-u,d-l),this.startTouchesDistance=Math.sqrt(Math.pow(d-l,2)+Math.pow(g-u,2))}this.emit("touchdown",ze(e,this.lastTouches,this.container)),this.lastTouches=n,this.lastTouchesPositions=this.startTouchesPositions}}},{key:"handleLeave",value:function(e){if(!(!this.enabled||!this.startTouchesPositions.length)){switch(e.cancelable&&e.preventDefault(),this.movingTimeout&&(this.isMoving=!1,clearTimeout(this.movingTimeout)),this.touchMode){case 2:if(e.touches.length===1){this.handleStart(e),e.preventDefault();break}case 1:if(this.isMoving){var r=this.renderer.getCamera(),n=r.getState(),o=r.getPreviousState()||{x:0,y:0};r.animate({x:n.x+this.settings.inertiaRatio*(n.x-o.x),y:n.y+this.settings.inertiaRatio*(n.y-o.y)},{duration:this.settings.inertiaDuration,easing:"quadraticOut"})}this.hasMoved=!1,this.isMoving=!1,this.touchMode=0;break}if(this.emit("touchup",ze(e,this.lastTouches,this.container)),!e.touches.length){var s=Y(this.lastTouches[0],this.container),l=this.startTouchesPositions[0],u=Math.pow(s.x-l.x,2)+Math.pow(s.y-l.y,2);if(!e.touches.length&&u<Math.pow(this.settings.tapMoveTolerance,2))if(this.lastTap&&Date.now()-this.lastTap.time<this.settings.doubleClickTimeout){var c=ze(e,this.lastTouches,this.container);if(this.emit("doubletap",c),this.lastTap=null,!c.sigmaDefaultPrevented){var d=this.renderer.getCamera(),g=d.getBoundedRatio(d.getState().ratio/this.settings.doubleClickZoomingRatio);d.animate(this.renderer.getViewportZoomedState(s,g),{easing:"quadraticInOut",duration:this.settings.doubleClickZoomingDuration})}}else{var h=ze(e,this.lastTouches,this.container);this.emit("tap",h),this.lastTap={time:Date.now(),position:h.touches[0]||h.previousTouches[0]}}}this.lastTouches=Ze(e.touches),this.startTouchesPositions=[]}}},{key:"handleMove",value:function(e){var r=this;if(!(!this.enabled||!this.startTouchesPositions.length)){e.preventDefault();var n=Ze(e.touches),o=n.map(function(re){return Y(re,r.container)}),s=this.lastTouches;this.lastTouches=n,this.lastTouchesPositions=o;var l=ze(e,s,this.container);if(this.emit("touchmove",l),!l.sigmaDefaultPrevented&&(this.hasMoved||(this.hasMoved=o.some(function(re,Xe){var K=r.startTouchesPositions[Xe];return K&&(re.x!==K.x||re.y!==K.y)})),!!this.hasMoved)){this.isMoving=!0,this.movingTimeout&&clearTimeout(this.movingTimeout),this.movingTimeout=window.setTimeout(function(){r.isMoving=!1},this.settings.dragTimeout);var u=this.renderer.getCamera(),c=this.startCameraState,d=this.renderer.getSetting("stagePadding");switch(this.touchMode){case 1:{var g=this.renderer.viewportToFramedGraph((this.startTouchesPositions||[])[0]),h=g.x,f=g.y,p=this.renderer.viewportToFramedGraph(o[0]),m=p.x,T=p.y;u.setState({x:c.x+h-m,y:c.y+f-T});break}case 2:{var v={x:.5,y:.5,angle:0,ratio:1},E=o[0],x=E.x,z=E.y,A=o[1],k=A.x,W=A.y,U=Math.atan2(W-z,k-x)-this.startTouchesAngle,P=Math.hypot(W-z,k-x)/this.startTouchesDistance,O=u.getBoundedRatio(c.ratio/P);v.ratio=O,v.angle=c.angle+U;var I=this.getDimensions(),oe=this.renderer.viewportToFramedGraph((this.startTouchesPositions||[])[0],{cameraState:c}),M=Math.min(I.width,I.height)-2*d,j=M/I.width,te=M/I.height,Re=O/M,de=x-M/2/j,se=z-M/2/te,ie=[de*Math.cos(-v.angle)-se*Math.sin(-v.angle),se*Math.cos(-v.angle)+de*Math.sin(-v.angle)];de=ie[0],se=ie[1],v.x=oe.x-de*Re,v.y=oe.y+se*Re,u.setState(v);break}}}}}},{key:"setSettings",value:function(e){this.settings=e}}])}(Oi);function Tn(a){if(Array.isArray(a))return Oe(a)}function qn(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function xn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gi(a){return Tn(a)||qn(a)||ut(a)||xn()}function _n(a,t){if(a==null)return{};var i={};for(var e in a)if({}.hasOwnProperty.call(a,e)){if(t.includes(e))continue;i[e]=a[e]}return i}function qt(a,t){if(a==null)return{};var i,e,r=_n(a,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);for(e=0;e<n.length;e++)i=n[e],t.includes(i)||{}.propertyIsEnumerable.call(a,i)&&(r[i]=a[i])}return r}var Fi=function(){function a(t,i){L(this,a),this.key=t,this.size=i}return N(a,null,[{key:"compare",value:function(i,e){return i.size>e.size?-1:i.size<e.size||i.key>e.key?1:-1}}])}(),Pi=function(){function a(){L(this,a),y(this,"width",0),y(this,"height",0),y(this,"cellSize",0),y(this,"columns",0),y(this,"rows",0),y(this,"cells",{})}return N(a,[{key:"resizeAndClear",value:function(i,e){this.width=i.width,this.height=i.height,this.cellSize=e,this.columns=Math.ceil(i.width/e),this.rows=Math.ceil(i.height/e),this.cells={}}},{key:"getIndex",value:function(i){var e=Math.floor(i.x/this.cellSize),r=Math.floor(i.y/this.cellSize);return r*this.columns+e}},{key:"add",value:function(i,e,r){var n=new Fi(i,e),o=this.getIndex(r),s=this.cells[o];s||(s=[],this.cells[o]=s),s.push(n)}},{key:"organize",value:function(){for(var i in this.cells){var e=this.cells[i];e.sort(Fi.compare)}}},{key:"getLabelsToDisplay",value:function(i,e){var r=this.cellSize*this.cellSize,n=r/i/i,o=n*e/r,s=Math.ceil(o),l=[];for(var u in this.cells)for(var c=this.cells[u],d=0;d<Math.min(s,c.length);d++)l.push(c[d].key);return l}}])}();function kn(a){var t=a.graph,i=a.hoveredNode,e=a.highlightedNodes,r=a.displayedNodeLabels,n=[];return t.forEachEdge(function(o,s,l,u){(l===i||u===i||e.has(l)||e.has(u)||r.has(l)&&r.has(u))&&n.push(o)}),n}var Ii=150,Mi=50,ee=Object.prototype.hasOwnProperty;function An(a,t,i){if(!ee.call(i,"x")||!ee.call(i,"y"))throw new Error('Sigma: could not find a valid position (x, y) for node "'.concat(t,'". All your nodes must have a number "x" and "y". Maybe your forgot to apply a layout or your "nodeReducer" is not returning the correct data?'));return i.color||(i.color=a.defaultNodeColor),!i.label&&i.label!==""&&(i.label=null),i.label!==void 0&&i.label!==null?i.label=""+i.label:i.label=null,i.size||(i.size=2),ee.call(i,"hidden")||(i.hidden=!1),ee.call(i,"highlighted")||(i.highlighted=!1),ee.call(i,"forceLabel")||(i.forceLabel=!1),(!i.type||i.type==="")&&(i.type=a.defaultNodeType),i.zIndex||(i.zIndex=0),i}function Cn(a,t,i){return i.color||(i.color=a.defaultEdgeColor),i.label||(i.label=""),i.size||(i.size=.5),ee.call(i,"hidden")||(i.hidden=!1),ee.call(i,"forceLabel")||(i.forceLabel=!1),(!i.type||i.type==="")&&(i.type=a.defaultEdgeType),i.zIndex||(i.zIndex=0),i}var $i=function(a){function t(i,e){var r,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(L(this,t),r=G(this,t),y(r,"elements",{}),y(r,"canvasContexts",{}),y(r,"webGLContexts",{}),y(r,"pickingLayers",new Set),y(r,"textures",{}),y(r,"frameBuffers",{}),y(r,"activeListeners",{}),y(r,"labelGrid",new Pi),y(r,"nodeDataCache",{}),y(r,"edgeDataCache",{}),y(r,"nodeProgramIndex",{}),y(r,"edgeProgramIndex",{}),y(r,"nodesWithForcedLabels",new Set),y(r,"edgesWithForcedLabels",new Set),y(r,"nodeExtent",{x:[0,1],y:[0,1]}),y(r,"nodeZExtent",[1/0,-1/0]),y(r,"edgeZExtent",[1/0,-1/0]),y(r,"matrix",H()),y(r,"invMatrix",H()),y(r,"correctionRatio",1),y(r,"customBBox",null),y(r,"normalizationFunction",Et({x:[0,1],y:[0,1]})),y(r,"graphToViewportRatio",1),y(r,"itemIDsIndex",{}),y(r,"nodeIndices",{}),y(r,"edgeIndices",{}),y(r,"width",0),y(r,"height",0),y(r,"pixelRatio",vt()),y(r,"pickingDownSizingRatio",2*r.pixelRatio),y(r,"displayedNodeLabels",new Set),y(r,"displayedEdgeLabels",new Set),y(r,"highlightedNodes",new Set),y(r,"hoveredNode",null),y(r,"hoveredEdge",null),y(r,"renderFrame",null),y(r,"renderHighlightedNodesFrame",null),y(r,"needToProcess",!1),y(r,"checkEdgesEventsFrame",null),y(r,"nodePrograms",{}),y(r,"nodeHoverPrograms",{}),y(r,"edgePrograms",{}),r.settings=Ni(n),Ye(r.settings),Ri(i),!(e instanceof HTMLElement))throw new Error("Sigma: container should be an html element.");r.graph=i,r.container=e,r.createWebGLContext("edges",{picking:n.enableEdgeEvents}),r.createCanvasContext("edgeLabels"),r.createWebGLContext("nodes",{picking:!0}),r.createCanvasContext("labels"),r.createCanvasContext("hovers"),r.createWebGLContext("hoverNodes"),r.createCanvasContext("mouse",{style:{touchAction:"none",userSelect:"none"}}),r.resize();for(var o in r.settings.nodeProgramClasses)r.registerNodeProgram(o,r.settings.nodeProgramClasses[o],r.settings.nodeHoverProgramClasses[o]);for(var s in r.settings.edgeProgramClasses)r.registerEdgeProgram(s,r.settings.edgeProgramClasses[s]);return r.camera=new Di,r.bindCameraHandlers(),r.mouseCaptor=new mn(r.elements.mouse,r),r.mouseCaptor.setSettings(r.settings),r.touchCaptor=new En(r.elements.mouse,r),r.touchCaptor.setSettings(r.settings),r.bindEventHandlers(),r.bindGraphHandlers(),r.handleSettingsUpdate(),r.refresh(),r}return F(t,a),N(t,[{key:"registerNodeProgram",value:function(e,r,n){return this.nodePrograms[e]&&this.nodePrograms[e].kill(),this.nodeHoverPrograms[e]&&this.nodeHoverPrograms[e].kill(),this.nodePrograms[e]=new r(this.webGLContexts.nodes,this.frameBuffers.nodes,this),this.nodeHoverPrograms[e]=new(n||r)(this.webGLContexts.hoverNodes,null,this),this}},{key:"registerEdgeProgram",value:function(e,r){return this.edgePrograms[e]&&this.edgePrograms[e].kill(),this.edgePrograms[e]=new r(this.webGLContexts.edges,this.frameBuffers.edges,this),this}},{key:"unregisterNodeProgram",value:function(e){if(this.nodePrograms[e]){var r=this.nodePrograms,n=r[e],o=qt(r,[e].map(ue));n.kill(),this.nodePrograms=o}if(this.nodeHoverPrograms[e]){var s=this.nodeHoverPrograms,l=s[e],u=qt(s,[e].map(ue));l.kill(),this.nodePrograms=u}return this}},{key:"unregisterEdgeProgram",value:function(e){if(this.edgePrograms[e]){var r=this.edgePrograms,n=r[e],o=qt(r,[e].map(ue));n.kill(),this.edgePrograms=o}return this}},{key:"resetWebGLTexture",value:function(e){var r=this.webGLContexts[e],n=this.frameBuffers[e],o=this.textures[e];o&&r.deleteTexture(o);var s=r.createTexture();return r.bindFramebuffer(r.FRAMEBUFFER,n),r.bindTexture(r.TEXTURE_2D,s),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,this.width,this.height,0,r.RGBA,r.UNSIGNED_BYTE,null),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,s,0),this.textures[e]=s,this}},{key:"bindCameraHandlers",value:function(){var e=this;return this.activeListeners.camera=function(){e.scheduleRender()},this.camera.on("updated",this.activeListeners.camera),this}},{key:"unbindCameraHandlers",value:function(){return this.camera.removeListener("updated",this.activeListeners.camera),this}},{key:"getNodeAtPosition",value:function(e){var r=e.x,n=e.y,o=gt(this.webGLContexts.nodes,this.frameBuffers.nodes,r,n,this.pixelRatio,this.pickingDownSizingRatio),s=dt.apply(void 0,Gi(o)),l=this.itemIDsIndex[s];return l&&l.type==="node"?l.id:null}},{key:"bindEventHandlers",value:function(){var e=this;this.activeListeners.handleResize=function(){e.scheduleRefresh()},window.addEventListener("resize",this.activeListeners.handleResize),this.activeListeners.handleMove=function(n){var o=Se(n),s={event:o,preventSigmaDefault:function(){o.preventSigmaDefault()}},l=e.getNodeAtPosition(o);if(l&&e.hoveredNode!==l&&!e.nodeDataCache[l].hidden){e.hoveredNode&&e.emit("leaveNode",q(q({},s),{},{node:e.hoveredNode})),e.hoveredNode=l,e.emit("enterNode",q(q({},s),{},{node:l})),e.scheduleHighlightedNodesRender();return}if(e.hoveredNode&&e.getNodeAtPosition(o)!==e.hoveredNode){var u=e.hoveredNode;e.hoveredNode=null,e.emit("leaveNode",q(q({},s),{},{node:u})),e.scheduleHighlightedNodesRender();return}if(e.settings.enableEdgeEvents){var c=e.hoveredNode?null:e.getEdgeAtPoint(s.event.x,s.event.y);c!==e.hoveredEdge&&(e.hoveredEdge&&e.emit("leaveEdge",q(q({},s),{},{edge:e.hoveredEdge})),c&&e.emit("enterEdge",q(q({},s),{},{edge:c})),e.hoveredEdge=c)}},this.activeListeners.handleMoveBody=function(n){var o=Se(n);e.emit("moveBody",{event:o,preventSigmaDefault:function(){o.preventSigmaDefault()}})},this.activeListeners.handleLeave=function(n){var o=Se(n),s={event:o,preventSigmaDefault:function(){o.preventSigmaDefault()}};e.hoveredNode&&(e.emit("leaveNode",q(q({},s),{},{node:e.hoveredNode})),e.scheduleHighlightedNodesRender()),e.settings.enableEdgeEvents&&e.hoveredEdge&&(e.emit("leaveEdge",q(q({},s),{},{edge:e.hoveredEdge})),e.scheduleHighlightedNodesRender()),e.emit("leaveStage",q({},s))},this.activeListeners.handleEnter=function(n){var o=Se(n),s={event:o,preventSigmaDefault:function(){o.preventSigmaDefault()}};e.emit("enterStage",q({},s))};var r=function(o){return function(s){var l=Se(s),u={event:l,preventSigmaDefault:function(){l.preventSigmaDefault()}},c=e.getNodeAtPosition(l);if(c)return e.emit("".concat(o,"Node"),q(q({},u),{},{node:c}));if(e.settings.enableEdgeEvents){var d=e.getEdgeAtPoint(l.x,l.y);if(d)return e.emit("".concat(o,"Edge"),q(q({},u),{},{edge:d}))}return e.emit("".concat(o,"Stage"),u)}};return this.activeListeners.handleClick=r("click"),this.activeListeners.handleRightClick=r("rightClick"),this.activeListeners.handleDoubleClick=r("doubleClick"),this.activeListeners.handleWheel=r("wheel"),this.activeListeners.handleDown=r("down"),this.activeListeners.handleUp=r("up"),this.mouseCaptor.on("mousemove",this.activeListeners.handleMove),this.mouseCaptor.on("mousemovebody",this.activeListeners.handleMoveBody),this.mouseCaptor.on("click",this.activeListeners.handleClick),this.mouseCaptor.on("rightClick",this.activeListeners.handleRightClick),this.mouseCaptor.on("doubleClick",this.activeListeners.handleDoubleClick),this.mouseCaptor.on("wheel",this.activeListeners.handleWheel),this.mouseCaptor.on("mousedown",this.activeListeners.handleDown),this.mouseCaptor.on("mouseup",this.activeListeners.handleUp),this.mouseCaptor.on("mouseleave",this.activeListeners.handleLeave),this.mouseCaptor.on("mouseenter",this.activeListeners.handleEnter),this.touchCaptor.on("touchdown",this.activeListeners.handleDown),this.touchCaptor.on("touchdown",this.activeListeners.handleMove),this.touchCaptor.on("touchup",this.activeListeners.handleUp),this.touchCaptor.on("touchmove",this.activeListeners.handleMove),this.touchCaptor.on("tap",this.activeListeners.handleClick),this.touchCaptor.on("doubletap",this.activeListeners.handleDoubleClick),this.touchCaptor.on("touchmove",this.activeListeners.handleMoveBody),this}},{key:"bindGraphHandlers",value:function(){var e=this,r=this.graph,n=new Set(["x","y","zIndex","type"]);return this.activeListeners.eachNodeAttributesUpdatedGraphUpdate=function(o){var s,l=(s=o.hints)===null||s===void 0?void 0:s.attributes;e.graph.forEachNode(function(c){return e.updateNode(c)});var u=!l||l.some(function(c){return n.has(c)});e.refresh({partialGraph:{nodes:r.nodes()},skipIndexation:!u,schedule:!0})},this.activeListeners.eachEdgeAttributesUpdatedGraphUpdate=function(o){var s,l=(s=o.hints)===null||s===void 0?void 0:s.attributes;e.graph.forEachEdge(function(c){return e.updateEdge(c)});var u=l&&["zIndex","type"].some(function(c){return l?.includes(c)});e.refresh({partialGraph:{edges:r.edges()},skipIndexation:!u,schedule:!0})},this.activeListeners.addNodeGraphUpdate=function(o){var s=o.key;e.addNode(s),e.refresh({partialGraph:{nodes:[s]},skipIndexation:!1,schedule:!0})},this.activeListeners.updateNodeGraphUpdate=function(o){var s=o.key;e.refresh({partialGraph:{nodes:[s]},skipIndexation:!1,schedule:!0})},this.activeListeners.dropNodeGraphUpdate=function(o){var s=o.key;e.removeNode(s),e.refresh({schedule:!0})},this.activeListeners.addEdgeGraphUpdate=function(o){var s=o.key;e.addEdge(s),e.refresh({partialGraph:{edges:[s]},schedule:!0})},this.activeListeners.updateEdgeGraphUpdate=function(o){var s=o.key;e.refresh({partialGraph:{edges:[s]},skipIndexation:!1,schedule:!0})},this.activeListeners.dropEdgeGraphUpdate=function(o){var s=o.key;e.removeEdge(s),e.refresh({schedule:!0})},this.activeListeners.clearEdgesGraphUpdate=function(){e.clearEdgeState(),e.clearEdgeIndices(),e.refresh({schedule:!0})},this.activeListeners.clearGraphUpdate=function(){e.clearEdgeState(),e.clearNodeState(),e.clearEdgeIndices(),e.clearNodeIndices(),e.refresh({schedule:!0})},r.on("nodeAdded",this.activeListeners.addNodeGraphUpdate),r.on("nodeDropped",this.activeListeners.dropNodeGraphUpdate),r.on("nodeAttributesUpdated",this.activeListeners.updateNodeGraphUpdate),r.on("eachNodeAttributesUpdated",this.activeListeners.eachNodeAttributesUpdatedGraphUpdate),r.on("edgeAdded",this.activeListeners.addEdgeGraphUpdate),r.on("edgeDropped",this.activeListeners.dropEdgeGraphUpdate),r.on("edgeAttributesUpdated",this.activeListeners.updateEdgeGraphUpdate),r.on("eachEdgeAttributesUpdated",this.activeListeners.eachEdgeAttributesUpdatedGraphUpdate),r.on("edgesCleared",this.activeListeners.clearEdgesGraphUpdate),r.on("cleared",this.activeListeners.clearGraphUpdate),this}},{key:"unbindGraphHandlers",value:function(){var e=this.graph;e.removeListener("nodeAdded",this.activeListeners.addNodeGraphUpdate),e.removeListener("nodeDropped",this.activeListeners.dropNodeGraphUpdate),e.removeListener("nodeAttributesUpdated",this.activeListeners.updateNodeGraphUpdate),e.removeListener("eachNodeAttributesUpdated",this.activeListeners.eachNodeAttributesUpdatedGraphUpdate),e.removeListener("edgeAdded",this.activeListeners.addEdgeGraphUpdate),e.removeListener("edgeDropped",this.activeListeners.dropEdgeGraphUpdate),e.removeListener("edgeAttributesUpdated",this.activeListeners.updateEdgeGraphUpdate),e.removeListener("eachEdgeAttributesUpdated",this.activeListeners.eachEdgeAttributesUpdatedGraphUpdate),e.removeListener("edgesCleared",this.activeListeners.clearEdgesGraphUpdate),e.removeListener("cleared",this.activeListeners.clearGraphUpdate)}},{key:"getEdgeAtPoint",value:function(e,r){var n=gt(this.webGLContexts.edges,this.frameBuffers.edges,e,r,this.pixelRatio,this.pickingDownSizingRatio),o=dt.apply(void 0,Gi(n)),s=this.itemIDsIndex[o];return s&&s.type==="edge"?s.id:null}},{key:"process",value:function(){var e=this;this.emit("beforeProcess");var r=this.graph,n=this.settings,o=this.getDimensions();if(this.nodeExtent=zi(this.graph),!this.settings.autoRescale){var s=o.width,l=o.height,u=this.nodeExtent,c=u.x,d=u.y;this.nodeExtent={x:[(c[0]+c[1])/2-s/2,(c[0]+c[1])/2+s/2],y:[(d[0]+d[1])/2-l/2,(d[0]+d[1])/2+l/2]}}this.normalizationFunction=Et(this.customBBox||this.nodeExtent);var g=new Di,h=we(g.getState(),o,this.getGraphDimensions(),this.getStagePadding());this.labelGrid.resizeAndClear(o,n.labelGridCellSize);for(var f={},p={},m={},T={},v=1,E=r.nodes(),x=0,z=E.length;x<z;x++){var A=E[x],k=this.nodeDataCache[A],W=r.getNodeAttributes(A);k.x=W.x,k.y=W.y,this.normalizationFunction.applyTo(k),typeof k.label=="string"&&!k.hidden&&this.labelGrid.add(A,k.size,this.framedGraphToViewport(k,{matrix:h})),f[k.type]=(f[k.type]||0)+1}this.labelGrid.organize();for(var U in this.nodePrograms){if(!ee.call(this.nodePrograms,U))throw new Error('Sigma: could not find a suitable program for node type "'.concat(U,'"!'));this.nodePrograms[U].reallocate(f[U]||0),f[U]=0}this.settings.zIndex&&this.nodeZExtent[0]!==this.nodeZExtent[1]&&(E=wt(this.nodeZExtent,function(Qe){return e.nodeDataCache[Qe].zIndex},E));for(var P=0,O=E.length;P<O;P++){var I=E[P];p[I]=v,T[p[I]]={type:"node",id:I},v++;var oe=this.nodeDataCache[I];this.addNodeToProgram(I,p[I],f[oe.type]++)}for(var M={},j=r.edges(),te=0,Re=j.length;te<Re;te++){var de=j[te],se=this.edgeDataCache[de];M[se.type]=(M[se.type]||0)+1}this.settings.zIndex&&this.edgeZExtent[0]!==this.edgeZExtent[1]&&(j=wt(this.edgeZExtent,function(Qe){return e.edgeDataCache[Qe].zIndex},j));for(var ie in this.edgePrograms){if(!ee.call(this.edgePrograms,ie))throw new Error('Sigma: could not find a suitable program for edge type "'.concat(ie,'"!'));this.edgePrograms[ie].reallocate(M[ie]||0),M[ie]=0}for(var re=0,Xe=j.length;re<Xe;re++){var K=j[re];m[K]=v,T[m[K]]={type:"edge",id:K},v++;var tr=this.edgeDataCache[K];this.addEdgeToProgram(K,m[K],M[tr.type]++)}return this.itemIDsIndex=T,this.nodeIndices=p,this.edgeIndices=m,this.emit("afterProcess"),this}},{key:"handleSettingsUpdate",value:function(e){var r=this,n=this.settings;if(this.camera.minRatio=n.minCameraRatio,this.camera.maxRatio=n.maxCameraRatio,this.camera.enabledZooming=n.enableCameraZooming,this.camera.enabledPanning=n.enableCameraPanning,this.camera.enabledRotation=n.enableCameraRotation,n.cameraPanBoundaries?this.camera.clean=function(c){return r.cleanCameraState(c,n.cameraPanBoundaries&&je(n.cameraPanBoundaries)==="object"?n.cameraPanBoundaries:{})}:this.camera.clean=null,this.camera.setState(this.camera.validateState(this.camera.getState())),e){if(e.edgeProgramClasses!==n.edgeProgramClasses){for(var o in n.edgeProgramClasses)n.edgeProgramClasses[o]!==e.edgeProgramClasses[o]&&this.registerEdgeProgram(o,n.edgeProgramClasses[o]);for(var s in e.edgeProgramClasses)n.edgeProgramClasses[s]||this.unregisterEdgeProgram(s)}if(e.nodeProgramClasses!==n.nodeProgramClasses||e.nodeHoverProgramClasses!==n.nodeHoverProgramClasses){for(var l in n.nodeProgramClasses)(n.nodeProgramClasses[l]!==e.nodeProgramClasses[l]||n.nodeHoverProgramClasses[l]!==e.nodeHoverProgramClasses[l])&&this.registerNodeProgram(l,n.nodeProgramClasses[l],n.nodeHoverProgramClasses[l]);for(var u in e.nodeProgramClasses)n.nodeProgramClasses[u]||this.unregisterNodeProgram(u)}}return this.mouseCaptor.setSettings(this.settings),this.touchCaptor.setSettings(this.settings),this}},{key:"cleanCameraState",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.tolerance,o=n===void 0?0:n,s=r.boundaries,l=q({},e),u=s||this.nodeExtent,c=ae(u.x,2),d=c[0],g=c[1],h=ae(u.y,2),f=h[0],p=h[1],m=[this.graphToViewport({x:d,y:f},{cameraState:e}),this.graphToViewport({x:g,y:f},{cameraState:e}),this.graphToViewport({x:d,y:p},{cameraState:e}),this.graphToViewport({x:g,y:p},{cameraState:e})],T=1/0,v=-1/0,E=1/0,x=-1/0;m.forEach(function(M){var j=M.x,te=M.y;T=Math.min(T,j),v=Math.max(v,j),E=Math.min(E,te),x=Math.max(x,te)});var z=v-T,A=x-E,k=this.getDimensions(),W=k.width,U=k.height,P=0,O=0;if(z>=W?v<W-o?P=v-(W-o):T>o&&(P=T-o):v>W+o?P=v-(W+o):T<-o&&(P=T+o),A>=U?x<U-o?O=x-(U-o):E>o&&(O=E-o):x>U+o?O=x-(U+o):E<-o&&(O=E+o),P||O){var I=this.viewportToFramedGraph({x:0,y:0},{cameraState:e}),oe=this.viewportToFramedGraph({x:P,y:O},{cameraState:e});P=oe.x-I.x,O=oe.y-I.y,l.x+=P,l.y+=O}return l}},{key:"renderLabels",value:function(){if(!this.settings.renderLabels)return this;var e=this.camera.getState(),r=this.labelGrid.getLabelsToDisplay(e.ratio,this.settings.labelDensity);Tt(r,this.nodesWithForcedLabels),this.displayedNodeLabels=new Set;for(var n=this.canvasContexts.labels,o=0,s=r.length;o<s;o++){var l=r[o],u=this.nodeDataCache[l];if(!this.displayedNodeLabels.has(l)&&!u.hidden){var c=this.framedGraphToViewport(u),d=c.x,g=c.y,h=this.scaleSize(u.size);if(!(!u.forceLabel&&h<this.settings.labelRenderedSizeThreshold)&&!(d<-Ii||d>this.width+Ii||g<-Mi||g>this.height+Mi)){this.displayedNodeLabels.add(l);var f=this.settings.defaultDrawNodeLabel,p=this.nodePrograms[u.type],m=p?.drawLabel||f;m(n,q(q({key:l},u),{},{size:h,x:d,y:g}),this.settings)}}}return this}},{key:"renderEdgeLabels",value:function(){if(!this.settings.renderEdgeLabels)return this;var e=this.canvasContexts.edgeLabels;e.clearRect(0,0,this.width,this.height);var r=kn({graph:this.graph,hoveredNode:this.hoveredNode,displayedNodeLabels:this.displayedNodeLabels,highlightedNodes:this.highlightedNodes});Tt(r,this.edgesWithForcedLabels);for(var n=new Set,o=0,s=r.length;o<s;o++){var l=r[o],u=this.graph.extremities(l),c=this.nodeDataCache[u[0]],d=this.nodeDataCache[u[1]],g=this.edgeDataCache[l];if(!n.has(l)&&!(g.hidden||c.hidden||d.hidden)){var h=this.settings.defaultDrawEdgeLabel,f=this.edgePrograms[g.type],p=f?.drawLabel||h;p(e,q(q({key:l},g),{},{size:this.scaleSize(g.size)}),q(q(q({key:u[0]},c),this.framedGraphToViewport(c)),{},{size:this.scaleSize(c.size)}),q(q(q({key:u[1]},d),this.framedGraphToViewport(d)),{},{size:this.scaleSize(d.size)}),this.settings),n.add(l)}}return this.displayedEdgeLabels=n,this}},{key:"renderHighlightedNodes",value:function(){var e=this,r=this.canvasContexts.hovers;r.clearRect(0,0,this.width,this.height);var n=function(h){var f=e.nodeDataCache[h],p=e.framedGraphToViewport(f),m=p.x,T=p.y,v=e.scaleSize(f.size),E=e.settings.defaultDrawNodeHover,x=e.nodePrograms[f.type],z=x?.drawHover||E;z(r,q(q({key:h},f),{},{size:v,x:m,y:T}),e.settings)},o=[];this.hoveredNode&&!this.nodeDataCache[this.hoveredNode].hidden&&o.push(this.hoveredNode),this.highlightedNodes.forEach(function(g){g!==e.hoveredNode&&o.push(g)}),o.forEach(function(g){return n(g)});var s={};o.forEach(function(g){var h=e.nodeDataCache[g].type;s[h]=(s[h]||0)+1});for(var l in this.nodeHoverPrograms)this.nodeHoverPrograms[l].reallocate(s[l]||0),s[l]=0;o.forEach(function(g){var h=e.nodeDataCache[g];e.nodeHoverPrograms[h.type].process(0,s[h.type]++,h)}),this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT);var u=this.getRenderParams();for(var c in this.nodeHoverPrograms){var d=this.nodeHoverPrograms[c];d.render(u)}}},{key:"scheduleHighlightedNodesRender",value:function(){var e=this;this.renderHighlightedNodesFrame||this.renderFrame||(this.renderHighlightedNodesFrame=requestAnimationFrame(function(){e.renderHighlightedNodesFrame=null,e.renderHighlightedNodes(),e.renderEdgeLabels()}))}},{key:"render",value:function(){var e=this;this.emit("beforeRender");var r=function(){return e.emit("afterRender"),e};if(this.renderFrame&&(cancelAnimationFrame(this.renderFrame),this.renderFrame=null),this.resize(),this.needToProcess&&this.process(),this.needToProcess=!1,this.clear(),this.pickingLayers.forEach(function(m){return e.resetWebGLTexture(m)}),!this.graph.order)return r();var n=this.mouseCaptor,o=this.camera.isAnimated()||n.isMoving||n.draggedEvents||n.currentWheelDirection,s=this.camera.getState(),l=this.getDimensions(),u=this.getGraphDimensions(),c=this.getStagePadding();this.matrix=we(s,l,u,c),this.invMatrix=we(s,l,u,c,!0),this.correctionRatio=Si(this.matrix,s,l),this.graphToViewportRatio=this.getGraphToViewportRatio();var d=this.getRenderParams();for(var g in this.nodePrograms){var h=this.nodePrograms[g];h.render(d)}if(!this.settings.hideEdgesOnMove||!o)for(var f in this.edgePrograms){var p=this.edgePrograms[f];p.render(d)}return this.settings.hideLabelsOnMove&&o||(this.renderLabels(),this.renderEdgeLabels(),this.renderHighlightedNodes()),r()}},{key:"addNode",value:function(e){var r=Object.assign({},this.graph.getNodeAttributes(e));this.settings.nodeReducer&&(r=this.settings.nodeReducer(e,r));var n=An(this.settings,e,r);this.nodeDataCache[e]=n,this.nodesWithForcedLabels.delete(e),n.forceLabel&&!n.hidden&&this.nodesWithForcedLabels.add(e),this.highlightedNodes.delete(e),n.highlighted&&!n.hidden&&this.highlightedNodes.add(e),this.settings.zIndex&&(n.zIndex<this.nodeZExtent[0]&&(this.nodeZExtent[0]=n.zIndex),n.zIndex>this.nodeZExtent[1]&&(this.nodeZExtent[1]=n.zIndex))}},{key:"updateNode",value:function(e){this.addNode(e);var r=this.nodeDataCache[e];this.normalizationFunction.applyTo(r)}},{key:"removeNode",value:function(e){delete this.nodeDataCache[e],delete this.nodeProgramIndex[e],this.highlightedNodes.delete(e),this.hoveredNode===e&&(this.hoveredNode=null),this.nodesWithForcedLabels.delete(e)}},{key:"addEdge",value:function(e){var r=Object.assign({},this.graph.getEdgeAttributes(e));this.settings.edgeReducer&&(r=this.settings.edgeReducer(e,r));var n=Cn(this.settings,e,r);this.edgeDataCache[e]=n,this.edgesWithForcedLabels.delete(e),n.forceLabel&&!n.hidden&&this.edgesWithForcedLabels.add(e),this.settings.zIndex&&(n.zIndex<this.edgeZExtent[0]&&(this.edgeZExtent[0]=n.zIndex),n.zIndex>this.edgeZExtent[1]&&(this.edgeZExtent[1]=n.zIndex))}},{key:"updateEdge",value:function(e){this.addEdge(e)}},{key:"removeEdge",value:function(e){delete this.edgeDataCache[e],delete this.edgeProgramIndex[e],this.hoveredEdge===e&&(this.hoveredEdge=null),this.edgesWithForcedLabels.delete(e)}},{key:"clearNodeIndices",value:function(){this.labelGrid=new Pi,this.nodeExtent={x:[0,1],y:[0,1]},this.nodeDataCache={},this.edgeProgramIndex={},this.nodesWithForcedLabels=new Set,this.nodeZExtent=[1/0,-1/0]}},{key:"clearEdgeIndices",value:function(){this.edgeDataCache={},this.edgeProgramIndex={},this.edgesWithForcedLabels=new Set,this.edgeZExtent=[1/0,-1/0]}},{key:"clearIndices",value:function(){this.clearEdgeIndices(),this.clearNodeIndices()}},{key:"clearNodeState",value:function(){this.displayedNodeLabels=new Set,this.highlightedNodes=new Set,this.hoveredNode=null}},{key:"clearEdgeState",value:function(){this.displayedEdgeLabels=new Set,this.highlightedNodes=new Set,this.hoveredEdge=null}},{key:"clearState",value:function(){this.clearEdgeState(),this.clearNodeState()}},{key:"addNodeToProgram",value:function(e,r,n){var o=this.nodeDataCache[e],s=this.nodePrograms[o.type];if(!s)throw new Error('Sigma: could not find a suitable program for node type "'.concat(o.type,'"!'));s.process(r,n,o),this.nodeProgramIndex[e]=n}},{key:"addEdgeToProgram",value:function(e,r,n){var o=this.edgeDataCache[e],s=this.edgePrograms[o.type];if(!s)throw new Error('Sigma: could not find a suitable program for edge type "'.concat(o.type,'"!'));var l=this.graph.extremities(e),u=this.nodeDataCache[l[0]],c=this.nodeDataCache[l[1]];s.process(r,n,u,c,o),this.edgeProgramIndex[e]=n}},{key:"getRenderParams",value:function(){return{matrix:this.matrix,invMatrix:this.invMatrix,width:this.width,height:this.height,pixelRatio:this.pixelRatio,zoomRatio:this.camera.ratio,cameraAngle:this.camera.angle,sizeRatio:1/this.scaleSize(),correctionRatio:this.correctionRatio,downSizingRatio:this.pickingDownSizingRatio,minEdgeThickness:this.settings.minEdgeThickness,antiAliasingFeather:this.settings.antiAliasingFeather}}},{key:"getStagePadding",value:function(){var e=this.settings,r=e.stagePadding,n=e.autoRescale;return n&&r||0}},{key:"createLayer",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.elements[e])throw new Error('Sigma: a layer named "'.concat(e,'" already exists'));var o=Li(r,{position:"absolute"},{class:"sigma-".concat(e)});return n.style&&Object.assign(o.style,n.style),this.elements[e]=o,"beforeLayer"in n&&n.beforeLayer?this.elements[n.beforeLayer].before(o):"afterLayer"in n&&n.afterLayer?this.elements[n.afterLayer].after(o):this.container.appendChild(o),o}},{key:"createCanvas",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.createLayer(e,"canvas",r)}},{key:"createCanvasContext",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.createCanvas(e,r),o={preserveDrawingBuffer:!1,antialias:!1};return this.canvasContexts[e]=n.getContext("2d",o),this}},{key:"createWebGLContext",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r?.canvas||this.createCanvas(e,r);r.hidden&&n.remove();var o=q({preserveDrawingBuffer:!1,antialias:!1},r),s;s=n.getContext("webgl2",o),s||(s=n.getContext("webgl",o)),s||(s=n.getContext("experimental-webgl",o));var l=s;if(this.webGLContexts[e]=l,l.blendFunc(l.ONE,l.ONE_MINUS_SRC_ALPHA),r.picking){this.pickingLayers.add(e);var u=l.createFramebuffer();if(!u)throw new Error("Sigma: cannot create a new frame buffer for layer ".concat(e));this.frameBuffers[e]=u}return l}},{key:"killLayer",value:function(e){var r=this.elements[e];if(!r)throw new Error("Sigma: cannot kill layer ".concat(e,", which does not exist"));if(this.webGLContexts[e]){var n,o=this.webGLContexts[e];(n=o.getExtension("WEBGL_lose_context"))===null||n===void 0||n.loseContext(),delete this.webGLContexts[e]}else this.canvasContexts[e]&&delete this.canvasContexts[e];return r.remove(),delete this.elements[e],this}},{key:"getCamera",value:function(){return this.camera}},{key:"setCamera",value:function(e){this.unbindCameraHandlers(),this.camera=e,this.bindCameraHandlers()}},{key:"getContainer",value:function(){return this.container}},{key:"getGraph",value:function(){return this.graph}},{key:"setGraph",value:function(e){e!==this.graph&&(this.hoveredNode&&!e.hasNode(this.hoveredNode)&&(this.hoveredNode=null),this.hoveredEdge&&!e.hasEdge(this.hoveredEdge)&&(this.hoveredEdge=null),this.unbindGraphHandlers(),this.checkEdgesEventsFrame!==null&&(cancelAnimationFrame(this.checkEdgesEventsFrame),this.checkEdgesEventsFrame=null),this.graph=e,this.bindGraphHandlers(),this.refresh())}},{key:"getMouseCaptor",value:function(){return this.mouseCaptor}},{key:"getTouchCaptor",value:function(){return this.touchCaptor}},{key:"getDimensions",value:function(){return{width:this.width,height:this.height}}},{key:"getGraphDimensions",value:function(){var e=this.customBBox||this.nodeExtent;return{width:e.x[1]-e.x[0]||1,height:e.y[1]-e.y[0]||1}}},{key:"getNodeDisplayData",value:function(e){var r=this.nodeDataCache[e];return r?Object.assign({},r):void 0}},{key:"getEdgeDisplayData",value:function(e){var r=this.edgeDataCache[e];return r?Object.assign({},r):void 0}},{key:"getNodeDisplayedLabels",value:function(){return new Set(this.displayedNodeLabels)}},{key:"getEdgeDisplayedLabels",value:function(){return new Set(this.displayedEdgeLabels)}},{key:"getSettings",value:function(){return q({},this.settings)}},{key:"getSetting",value:function(e){return this.settings[e]}},{key:"setSetting",value:function(e,r){var n=q({},this.settings);return this.settings[e]=r,Ye(this.settings),this.handleSettingsUpdate(n),this.scheduleRefresh(),this}},{key:"updateSetting",value:function(e,r){return this.setSetting(e,r(this.settings[e])),this}},{key:"setSettings",value:function(e){var r=q({},this.settings);return this.settings=q(q({},this.settings),e),Ye(this.settings),this.handleSettingsUpdate(r),this.scheduleRefresh(),this}},{key:"resize",value:function(e){var r=this.width,n=this.height;if(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,this.pixelRatio=vt(),this.width===0)if(this.settings.allowInvalidContainer)this.width=1;else throw new Error("Sigma: Container has no width. You can set the allowInvalidContainer setting to true to stop seeing this error.");if(this.height===0)if(this.settings.allowInvalidContainer)this.height=1;else throw new Error("Sigma: Container has no height. You can set the allowInvalidContainer setting to true to stop seeing this error.");if(!e&&r===this.width&&n===this.height)return this;for(var o in this.elements){var s=this.elements[o];s.style.width=this.width+"px",s.style.height=this.height+"px"}for(var l in this.canvasContexts)this.elements[l].setAttribute("width",this.width*this.pixelRatio+"px"),this.elements[l].setAttribute("height",this.height*this.pixelRatio+"px"),this.pixelRatio!==1&&this.canvasContexts[l].scale(this.pixelRatio,this.pixelRatio);for(var u in this.webGLContexts){this.elements[u].setAttribute("width",this.width*this.pixelRatio+"px"),this.elements[u].setAttribute("height",this.height*this.pixelRatio+"px");var c=this.webGLContexts[u];if(c.viewport(0,0,this.width*this.pixelRatio,this.height*this.pixelRatio),this.pickingLayers.has(u)){var d=this.textures[u];d&&c.deleteTexture(d)}}return this.emit("resize"),this}},{key:"clear",value:function(){return this.emit("beforeClear"),this.webGLContexts.nodes.bindFramebuffer(WebGLRenderingContext.FRAMEBUFFER,null),this.webGLContexts.nodes.clear(WebGLRenderingContext.COLOR_BUFFER_BIT),this.webGLContexts.edges.bindFramebuffer(WebGLRenderingContext.FRAMEBUFFER,null),this.webGLContexts.edges.clear(WebGLRenderingContext.COLOR_BUFFER_BIT),this.webGLContexts.hoverNodes.clear(WebGLRenderingContext.COLOR_BUFFER_BIT),this.canvasContexts.labels.clearRect(0,0,this.width,this.height),this.canvasContexts.hovers.clearRect(0,0,this.width,this.height),this.canvasContexts.edgeLabels.clearRect(0,0,this.width,this.height),this.emit("afterClear"),this}},{key:"refresh",value:function(e){var r=this,n=e?.skipIndexation!==void 0?e?.skipIndexation:!1,o=e?.schedule!==void 0?e.schedule:!1,s=!e||!e.partialGraph;if(s)this.clearEdgeIndices(),this.clearNodeIndices(),this.graph.forEachNode(function(x){return r.addNode(x)}),this.graph.forEachEdge(function(x){return r.addEdge(x)});else{for(var l,u,c=((l=e.partialGraph)===null||l===void 0?void 0:l.nodes)||[],d=0,g=c?.length||0;d<g;d++){var h=c[d];if(this.updateNode(h),n){var f=this.nodeProgramIndex[h];if(f===void 0)throw new Error('Sigma: node "'.concat(h,`" can't be repaint`));this.addNodeToProgram(h,this.nodeIndices[h],f)}}for(var p=(e==null||(u=e.partialGraph)===null||u===void 0?void 0:u.edges)||[],m=0,T=p.length;m<T;m++){var v=p[m];if(this.updateEdge(v),n){var E=this.edgeProgramIndex[v];if(E===void 0)throw new Error('Sigma: edge "'.concat(v,`" can't be repaint`));this.addEdgeToProgram(v,this.edgeIndices[v],E)}}}return(s||!n)&&(this.needToProcess=!0),o?this.scheduleRender():this.render(),this}},{key:"scheduleRender",value:function(){var e=this;return this.renderFrame||(this.renderFrame=requestAnimationFrame(function(){e.render()})),this}},{key:"scheduleRefresh",value:function(e){return this.refresh(q(q({},e),{},{schedule:!0}))}},{key:"getViewportZoomedState",value:function(e,r){var n=this.camera.getState(),o=n.ratio,s=n.angle,l=n.x,u=n.y,c=this.settings,d=c.minCameraRatio,g=c.maxCameraRatio;typeof g=="number"&&(r=Math.min(r,g)),typeof d=="number"&&(r=Math.max(r,d));var h=r/o,f={x:this.width/2,y:this.height/2},p=this.viewportToFramedGraph(e),m=this.viewportToFramedGraph(f);return{angle:s,x:(p.x-m.x)*(1-h)+l,y:(p.y-m.y)*(1-h)+u,ratio:r}}},{key:"viewRectangle",value:function(){var e=this.viewportToFramedGraph({x:0,y:0}),r=this.viewportToFramedGraph({x:this.width,y:0}),n=this.viewportToFramedGraph({x:0,y:this.height});return{x1:e.x,y1:e.y,x2:r.x,y2:r.y,height:r.y-n.y}}},{key:"framedGraphToViewport",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=!!r.cameraState||!!r.viewportDimensions||!!r.graphDimensions,o=r.matrix?r.matrix:n?we(r.cameraState||this.camera.getState(),r.viewportDimensions||this.getDimensions(),r.graphDimensions||this.getGraphDimensions(),r.padding||this.getStagePadding()):this.matrix,s=We(o,e);return{x:(1+s.x)*this.width/2,y:(1-s.y)*this.height/2}}},{key:"viewportToFramedGraph",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=!!r.cameraState||!!r.viewportDimensions||!r.graphDimensions,o=r.matrix?r.matrix:n?we(r.cameraState||this.camera.getState(),r.viewportDimensions||this.getDimensions(),r.graphDimensions||this.getGraphDimensions(),r.padding||this.getStagePadding(),!0):this.invMatrix,s=We(o,{x:e.x/this.width*2-1,y:1-e.y/this.height*2});return isNaN(s.x)&&(s.x=0),isNaN(s.y)&&(s.y=0),s}},{key:"viewportToGraph",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.normalizationFunction.inverse(this.viewportToFramedGraph(e,r))}},{key:"graphToViewport",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.framedGraphToViewport(this.normalizationFunction(e),r)}},{key:"getGraphToViewportRatio",value:function(){var e={x:0,y:0},r={x:1,y:1},n=Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2)),o=this.graphToViewport(e),s=this.graphToViewport(r),l=Math.sqrt(Math.pow(o.x-s.x,2)+Math.pow(o.y-s.y,2));return l/n}},{key:"getBBox",value:function(){return this.nodeExtent}},{key:"getCustomBBox",value:function(){return this.customBBox}},{key:"setCustomBBox",value:function(e){return this.customBBox=e,this.scheduleRender(),this}},{key:"kill",value:function(){this.emit("kill"),this.removeAllListeners(),this.unbindCameraHandlers(),window.removeEventListener("resize",this.activeListeners.handleResize),this.mouseCaptor.kill(),this.touchCaptor.kill(),this.unbindGraphHandlers(),this.clearIndices(),this.clearState(),this.nodeDataCache={},this.edgeDataCache={},this.highlightedNodes.clear(),this.renderFrame&&(cancelAnimationFrame(this.renderFrame),this.renderFrame=null),this.renderHighlightedNodesFrame&&(cancelAnimationFrame(this.renderHighlightedNodesFrame),this.renderHighlightedNodesFrame=null);for(var e=this.container;e.firstChild;)e.removeChild(e.firstChild);this.canvasContexts={},this.webGLContexts={},this.elements={};for(var r in this.nodePrograms)this.nodePrograms[r].kill();for(var n in this.nodeHoverPrograms)this.nodeHoverPrograms[n].kill();for(var o in this.edgePrograms)this.edgePrograms[o].kill();this.nodePrograms={},this.nodeHoverPrograms={},this.edgePrograms={};for(var s in this.elements)this.killLayer(s)}},{key:"scaleSize",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.camera.ratio;return e/this.settings.zoomToSizeRatioFunction(r)*(this.getSetting("itemSizesReference")==="positions"?r*this.graphToViewportRatio:1)}},{key:"getCanvases",value:function(){var e={};for(var r in this.elements)this.elements[r]instanceof HTMLCanvasElement&&(e[r]=this.elements[r]);return e}}])}(Be);var Bi=[{id:"efficient",label:"Efficient",size:20,color:"green",qualityType:"property",page:"/tag-efficient"},{id:"flexible",label:"Flexible",size:20,color:"green",qualityType:"property",page:"/tag-flexible"},{id:"operable",label:"Operable",size:20,color:"green",qualityType:"property",page:"/tag-operable"},{id:"reliable",label:"Reliable",size:20,color:"green",qualityType:"property",page:"/tag-reliable"},{id:"safe",label:"Safe",size:20,color:"green",qualityType:"property",page:"/tag-safe"},{id:"secure",label:"Secure",size:20,color:"green",qualityType:"property",page:"/tag-secure"},{id:"suitable",label:"Suitable",size:20,color:"green",qualityType:"property",page:"/tag-suitable"},{id:"usable",label:"Usable",size:20,color:"green",qualityType:"property",page:"/tag-usable"}];var Hi=[{id:"access-control",label:"Access Control",size:10,color:"blue",qualityType:"quality",page:"/qualities/access-control"},{id:"access-control-is-enforced",label:"Access control is enforced",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/access-control-is-enforced"},{id:"access-control-via-sso",label:"Access Control via SSO",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/access-control-via-sso"},{id:"access-find-function-quickly",label:"Access find function in three seconds",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/access-find-function-quickly"},{id:"accessibility",label:"Accessibility",size:10,color:"blue",qualityType:"quality",page:"/qualities/accessibility"},{id:"accessible-user-interface",label:"Accessible User Interface",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/accessible-user-interface"},{id:"accountability",label:"Accountability",size:10,color:"blue",qualityType:"quality",page:"/qualities/accountability"},{id:"accuracy",label:"Accuracy",size:10,color:"blue",qualityType:"quality",page:"/qualities/accuracy"},{id:"accurate-estimate-of-insurance-rate",label:"Accurate estimate of insurance contract rate",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/accurate-estimate-of-insurance-rate"},{id:"adaptability",label:"Adaptability",size:10,color:"blue",qualityType:"quality",page:"/qualities/adaptability"},{id:"add-new-product",label:"Add new product under 60 minutes",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/add-new-product"},{id:"affordability",label:"Affordability",size:10,color:"blue",qualityType:"quality",page:"/qualities/affordability"},{id:"affordable-crm",label:"Affordable CRM (customer relationship management)",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/affordable-crm"},{id:"agility",label:"Agility",size:10,color:"blue",qualityType:"quality",page:"/qualities/agility"},{id:"analysability",label:"Analysability",size:10,color:"blue",qualityType:"quality",page:"/qualities/analysability"},{id:"anticipated-workplace-environment",label:"Anticipated Workplace Environment",size:10,color:"blue",qualityType:"quality",page:"/qualities/anticipated-workplace-environment"},{id:"appearance",label:"Appearance",size:10,color:"blue",qualityType:"quality",page:"/qualities/appearance"},{id:"appearance-requirements",label:"Appearance of mobile UI",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/appearance-requirements"},{id:"appropriateness-recognizability",label:"Appropriateness recognizability",size:10,color:"blue",qualityType:"quality",page:"/qualities/appropriateness-recognizability"},{id:"assess-impact-of-proposed-change",label:"Assess impact of proposed change",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/assess-impact-of-proposed-change"},{id:"attractiveness",label:"Attractiveness",size:10,color:"blue",qualityType:"quality",page:"/qualities/attractiveness"},{id:"auditability",label:"Auditability",size:10,color:"blue",qualityType:"quality",page:"/qualities/auditability"},{id:"authenticity",label:"Authenticity",size:10,color:"blue",qualityType:"quality",page:"/qualities/authenticity"},{id:"authenticity-of-digital-document",label:"Authenticity of a digital document",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/authenticity-of-digital-document"},{id:"autonomy",label:"Autonomy",size:10,color:"blue",qualityType:"quality",page:"/qualities/autonomy"},{id:"availability",label:"Availability",size:10,color:"blue",qualityType:"quality",page:"/qualities/availability"},{id:"available-7-24-99",label:"Available 7x24 with 99% uptime",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/available-7-24-99"},{id:"avoid-common-vulnerabilities",label:"Avoid common vulnerabilities",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/avoid-common-vulnerabilities"},{id:"backup-patient-monitoring-sensor",label:"Backup patient monitoring sensor takes over",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/backup-patient-monitoring-sensor"},{id:"backward-compatibility",label:"Backward compatibility",size:10,color:"blue",qualityType:"quality",page:"/qualities/backward-compatibility"},{id:"budget-constraint-library-update",label:"Budget constrained library update",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/budget-constraint-library-update"},{id:"budget-constraint",label:"Budget constraint",size:10,color:"blue",qualityType:"quality",page:"/qualities/budget-constraint"},{id:"capacity",label:"Capacity",size:10,color:"blue",qualityType:"quality",page:"/qualities/capacity"},{id:"capacity-to-process-sensor-inputs",label:"Capacity to process 1000 sensor inputs per minute",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/capacity-to-process-sensor-inputs"},{id:"carbon-emission-efficiency",label:"Carbon Emission Efficiency",size:10,color:"blue",qualityType:"quality",page:"/qualities/carbon-emission-efficiency"},{id:"change-failure-rate",label:"Change failure rate",size:10,color:"blue",qualityType:"quality",page:"/qualities/change-failure-rate"},{id:"changeability",label:"Changeability",size:10,color:"blue",qualityType:"quality",page:"/qualities/changeability"},{id:"clarity",label:"Clarity",size:10,color:"blue",qualityType:"quality",page:"/qualities/clarity"},{id:"clarity-in-technical-documentation",label:"Clarity in technical documentation",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/clarity-in-technical-documentation"},{id:"co-existence",label:"Co-existence",size:10,color:"blue",qualityType:"quality",page:"/qualities/co-existence"},{id:"code-complexity",label:"Code Complexity",size:10,color:"blue",qualityType:"quality",page:"/qualities/code-complexity"},{id:"code-readability",label:"Code Readability",size:10,color:"blue",qualityType:"quality",page:"/qualities/code-readability"},{id:"coherence",label:"Coherence",size:10,color:"blue",qualityType:"quality",page:"/qualities/coherence"},{id:"cohesion",label:"Cohesion",size:10,color:"blue",qualityType:"quality",page:"/qualities/cohesion"},{id:"communicability",label:"Communicability",size:10,color:"blue",qualityType:"quality",page:"/qualities/communicability"},{id:"compatibility",label:"Compatibility",size:10,color:"blue",qualityType:"quality",page:"/qualities/compatibility"},{id:"compatible-with-5-battery-providers",label:"Compatible with 5 different battery providers",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/compatible-with-5-battery-providers"},{id:"compliance",label:"Compliance",size:10,color:"blue",qualityType:"quality",page:"/qualities/compliance"},{id:"compliance-with-ui-styleguide",label:"Compliance with UI styleguide",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/compliance-with-ui-styleguide"},{id:"compliance-to-wcag",label:"Compliance with WCA accessibility guidelines",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/compliance-to-wcag"},{id:"composability",label:"Composability",size:10,color:"blue",qualityType:"quality",page:"/qualities/composability"},{id:"conciseness",label:"Conciseness",size:10,color:"blue",qualityType:"quality",page:"/qualities/conciseness"},{id:"confidentiality",label:"Confidentiality",size:10,color:"blue",qualityType:"quality",page:"/qualities/confidentiality"},{id:"confidentiality-by-multitenance",label:"Confidentiality by multi-tenancy",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/confidentiality-by-multitenance"},{id:"configurability",label:"Configurability",size:10,color:"blue",qualityType:"quality",page:"/qualities/configurability"},{id:"configurable-ui-theme",label:"Configurable UI theme",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/configurable-ui-theme"},{id:"consistency",label:"Consistency",size:10,color:"blue",qualityType:"quality",page:"/qualities/consistency"},{id:"consistent-keyboard-shortcuts",label:"Consistent keyboard shortcuts",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/consistent-keyboard-shortcuts"},{id:"controllability",label:"Controllability",size:10,color:"blue",qualityType:"quality",page:"/qualities/controllability"},{id:"convenience",label:"Convenience",size:10,color:"blue",qualityType:"quality",page:"/qualities/convenience"},{id:"convenient-online-banking",label:"Convenient online banking",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/convenient-online-banking"},{id:"core-functions-on-mac-win-linux",label:"Core functions can be used on multiple OSs",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/core-functions-on-mac-win-linux"},{id:"correctness",label:"Correctness",size:10,color:"blue",qualityType:"quality",page:"/qualities/correctness"},{id:"cost",label:"Cost",size:10,color:"blue",qualityType:"quality",page:"/qualities/cost"},{id:"credibility",label:"Credibility",size:10,color:"blue",qualityType:"quality",page:"/qualities/credibility"},{id:"cultural-sensitivity-in-content",label:"Cultural Sensitivity in Content",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/cultural-sensitivity-in-content"},{id:"customizability",label:"Customizability",size:10,color:"blue",qualityType:"quality",page:"/qualities/customizability"},{id:"cyber-security",label:"Cyber Security",size:10,color:"blue",qualityType:"quality",page:"/qualities/cyber-security"},{id:"cycle-time",label:"Cycle time",size:10,color:"blue",qualityType:"quality",page:"/qualities/cycle-time"},{id:"data-throughput-for-visual-test-system",label:"Data Throughput for Visual Test System",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/data-throughput-for-visual-test-system"},{id:"dependability",label:"Dependability",size:10,color:"blue",qualityType:"quality",page:"/qualities/dependability"},{id:"deployability",label:"Deployability",size:10,color:"blue",qualityType:"quality",page:"/qualities/deployability"},{id:"deployment-frequency",label:"Deployment frequency",size:10,color:"blue",qualityType:"quality",page:"/qualities/deployment-frequency"},{id:"detailed-audit-log",label:"Detailed audit log",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/detailed-audit-log"},{id:"detect-inconsistent-user-input",label:"Detect inconsistent user input",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/detect-inconsistent-user-input"},{id:"devops-metrics",label:"Devops-Metrics",size:10,color:"blue",qualityType:"quality",page:"/qualities/devops-metrics"},{id:"display-data-based-on-context",label:"Display Data Based on Context",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/display-data-based-on-context"},{id:"DORA-metrics",label:"DORA Metrics",size:10,color:"blue",qualityType:"quality",page:"/qualities/DORA-metrics"},{id:"ease-of-use",label:"Ease of Use",size:10,color:"blue",qualityType:"quality",page:"/qualities/ease-of-use"},{id:"change-cloud-provider",label:"Easily change cloud provider",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/change-cloud-provider"},{id:"understandable-acceptance-tests",label:"Easily understandable acceptance test cases",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/understandable-acceptance-tests"},{id:"understandable-generated-code",label:"Easily understandable generated code",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/understandable-generated-code"},{id:"easy-ui",label:"Easy UI",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/easy-ui"},{id:"effectiveness",label:"Effectiveness",size:10,color:"blue",qualityType:"quality",page:"/qualities/effectiveness"},{id:"efficiency",label:"Efficiency",size:10,color:"blue",qualityType:"quality",page:"/qualities/efficiency"},{id:"luggage-routing",label:"Efficient change of business rules",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/luggage-routing"},{id:"efficient-generation-of-test-data",label:"Efficient generation of test data",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/efficient-generation-of-test-data"},{id:"efficient-save-function",label:"Efficient save function",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/efficient-save-function"},{id:"annual-tax-update",label:"Efficient update of annual accounting report",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/annual-tax-update"},{id:"elasticity",label:"Elasticity",size:10,color:"blue",qualityType:"quality",page:"/qualities/elasticity"},{id:"employee-attempts-to-modify-pay-rate",label:"Employee attempts to modify pay rate",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/employee-attempts-to-modify-pay-rate"},{id:"encrypted-storage",label:"Encrypted storage",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/encrypted-storage"},{id:"energy-efficiency",label:"Energy Efficiency",size:10,color:"blue",qualityType:"quality",page:"/qualities/energy-efficiency"},{id:"every-data-modification-is-logged",label:"Every data modification is logged",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/every-data-modification-is-logged"},{id:"expected-physical-environment",label:"Expected physical environment",size:10,color:"blue",qualityType:"quality",page:"/qualities/expected-physical-environment"},{id:"explainability",label:"Explainability",size:10,color:"blue",qualityType:"quality",page:"/qualities/explainability"},{id:"expressive-error-messages",label:"Expressive error messages",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/expressive-error-messages"},{id:"extensibility",label:"Extensibility",size:10,color:"blue",qualityType:"quality",page:"/qualities/extensibility"},{id:"fail-safe",label:"Fail safe",size:10,color:"blue",qualityType:"quality",page:"/qualities/fail-safe"},{id:"fast-accurate-sensor",label:"Fast and accurate sensor",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/fast-accurate-sensor"},{id:"fast-creation-of-sales-report",label:"Fast creation of sales report",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/fast-creation-of-sales-report"},{id:"fast-deployment",label:"Fast deployment",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/fast-deployment"},{id:"fast-rollout-of-changes",label:"Fast rollout of changes",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/fast-rollout-of-changes"},{id:"fast-startup-time",label:"Fast startup time (less than 90 sec)",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/fast-startup-time"},{id:"fault-isolation",label:"Fault isolation",size:10,color:"blue",qualityType:"quality",page:"/qualities/fault-isolation"},{id:"fault-tolerance",label:"Fault tolerance",size:10,color:"blue",qualityType:"quality",page:"/qualities/fault-tolerance"},{id:"faultlessness",label:"Faultlessness",size:10,color:"blue",qualityType:"quality",page:"/qualities/faultlessness"},{id:"features",label:"Features",size:10,color:"blue",qualityType:"quality",page:"/qualities/features"},{id:"flexibility",label:"Flexibility",size:10,color:"blue",qualityType:"quality",page:"/qualities/flexibility"},{id:"functional-appropriateness",label:"Functional Appropriateness",size:10,color:"blue",qualityType:"quality",page:"/qualities/functional-appropriateness"},{id:"functional-completeness",label:"Functional completeness",size:10,color:"blue",qualityType:"quality",page:"/qualities/functional-completeness"},{id:"functional-correctness",label:"Functional correctness",size:10,color:"blue",qualityType:"quality",page:"/qualities/functional-correctness"},{id:"functional-suitability",label:"Functional suitability",size:10,color:"blue",qualityType:"quality",page:"/qualities/functional-suitability"},{id:"functionality",label:"Functionality",size:10,color:"blue",qualityType:"quality",page:"/qualities/functionality"},{id:"global-explainability",label:"Global Explainability",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/global-explainability"},{id:"good-code-readability-score",label:"Good code readability score",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/good-code-readability-score"},{id:"graceful-degradation",label:"Graceful degradation",size:10,color:"blue",qualityType:"quality",page:"/qualities/graceful-degradation"},{id:"handle-sudden-increase-in-traffic",label:"Handle sudden increase in traffic",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/handle-sudden-increase-in-traffic"},{id:"hazard-warning",label:"Hazard warning",size:10,color:"blue",qualityType:"quality",page:"/qualities/hazard-warning"},{id:"high-availability",label:"High availability",size:10,color:"blue",qualityType:"quality",page:"/qualities/high-availability"},{id:"i18n",label:"i18n (Internationalization)",size:10,color:"blue",qualityType:"quality",page:"/qualities/i18n"},{id:"immunity",label:"Immunity",size:10,color:"blue",qualityType:"quality",page:"/qualities/immunity"},{id:"inclusive-user-testing",label:"Inclusive User Testing",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/inclusive-user-testing"},{id:"inclusivity",label:"Inclusivity",size:10,color:"blue",qualityType:"quality",page:"/qualities/inclusivity"},{id:"independence",label:"Independence",size:10,color:"blue",qualityType:"quality",page:"/qualities/independence"},{id:"independent-enhancement-of-subsystem",label:"Independent enhancement of subsystem",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/independent-enhancement-of-subsystem"},{id:"independent-replacement-of-subsystem",label:"Independent replacement of subsystem",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/independent-replacement-of-subsystem"},{id:"information-security",label:"Information Security",size:10,color:"blue",qualityType:"quality",page:"/qualities/information-security"},{id:"installability",label:"Installability",size:10,color:"blue",qualityType:"quality",page:"/qualities/installability"},{id:"integrity",label:"Integrity",size:10,color:"blue",qualityType:"quality",page:"/qualities/integrity"},{id:"interaction-capability",label:"Interaction capability",size:10,color:"blue",qualityType:"quality",page:"/qualities/interaction-capability"},{id:"internationalization",label:"Internationalization",size:10,color:"blue",qualityType:"quality",page:"/qualities/internationalization"},{id:"interoperability",label:"Interoperability",size:10,color:"blue",qualityType:"quality",page:"/qualities/interoperability"},{id:"interoperable-with-java-12",label:"Interoperable with Java 12",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/interoperable-with-java-12"},{id:"interruptable-backend-process",label:"Interruptable backend process",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/interruptable-backend-process"},{id:"intrusion-detection",label:"Intrusion Detection",size:10,color:"blue",qualityType:"quality",page:"/qualities/intrusion-detection"},{id:"intrusion-prevention",label:"Intrusion Prevention",size:10,color:"blue",qualityType:"quality",page:"/qualities/intrusion-prevention"},{id:"jitter",label:"Jitter",size:10,color:"blue",qualityType:"quality",page:"/qualities/jitter"},{id:"keep-data-on-error",label:"Keep data on error",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/keep-data-on-error"},{id:"latency",label:"Latency",size:10,color:"blue",qualityType:"quality",page:"/qualities/latency"},{id:"lead-time-for-changes",label:"Lead time for changes",size:10,color:"blue",qualityType:"quality",page:"/qualities/lead-time-for-changes"},{id:"learnability",label:"Learnability",size:10,color:"blue",qualityType:"quality",page:"/qualities/learnability"},{id:"legal-requirements",label:"Legal Requirements",size:10,color:"blue",qualityType:"quality",page:"/qualities/legal-requirements"},{id:"legibility",label:"Legibility",size:10,color:"blue",qualityType:"quality",page:"/qualities/legibility"},{id:"local-explainability",label:"Local Explainability",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/local-explainability"},{id:"localizability",label:"Localizability",size:10,color:"blue",qualityType:"quality",page:"/qualities/localizability"},{id:"localizable-to-n-languages",label:"Localizable to several languages",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/localizable-to-n-languages"},{id:"longevity",label:"Longevity",size:10,color:"blue",qualityType:"quality",page:"/qualities/longevity"},{id:"loose-coupling",label:"Loose Coupling",size:10,color:"blue",qualityType:"quality",page:"/qualities/loose-coupling"},{id:"low-change-failure-rate",label:"Low change-failure rate",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/low-change-failure-rate"},{id:"low-effort-deployment",label:"Low effort deployment",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/low-effort-deployment"},{id:"low-impact-diagnosis",label:"Low impact diagnosis",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/low-impact-diagnosis"},{id:"query-execution-management",label:"Low-overhead query execution measurement",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/query-execution-management"},{id:"maintainability",label:"Maintainability",size:10,color:"blue",qualityType:"quality",page:"/qualities/maintainability"},{id:"maintainable-checking-strategy",label:"Maintainable checking strategies",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/maintainable-checking-strategy"},{id:"mean-time-between-failures",label:"Mean time between failures",size:10,color:"blue",qualityType:"quality",page:"/qualities/mean-time-between-failures"},{id:"mean-time-to-recovery",label:"Mean time to recovery",size:10,color:"blue",qualityType:"quality",page:"/qualities/mean-time-to-recovery"},{id:"memory-usage",label:"Memory usage",size:10,color:"blue",qualityType:"quality",page:"/qualities/memory-usage"},{id:"minimize-jitter",label:"Minimize jitter in real-time data streaming",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/minimize-jitter"},{id:"modifiability",label:"Modifiability",size:10,color:"blue",qualityType:"quality",page:"/qualities/modifiability"},{id:"modular-system-for-data-analysis",label:"Modular System for Data Analysis",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/modular-system-for-data-analysis"},{id:"modularity",label:"Modularity",size:10,color:"blue",qualityType:"quality",page:"/qualities/modularity"},{id:"multilinguality-support",label:"Multilinguality Support",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/multilinguality-support"},{id:"near-instant-search-results",label:"Near instant search results",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/near-instant-search-results"},{id:"new-features-introduct-no-bugs",label:"New Features Introduce No Bugs",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/new-features-introduct-no-bugs"},{id:"learnability-find-article",label:"New users learn to find articles on their own",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/learnability-find-article"},{id:"non-repudiation",label:"Non-repudiation",size:10,color:"blue",qualityType:"quality",page:"/qualities/non-repudiation"},{id:"observability",label:"Observability",size:10,color:"blue",qualityType:"quality",page:"/qualities/observability"},{id:"only-authenticated-users-can-access",label:"Only authenticated users can access data",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/only-authenticated-users-can-access"},{id:"operability",label:"Operability",size:10,color:"blue",qualityType:"quality",page:"/qualities/operability"},{id:"operational-environment-requirements",label:"Operational and Environment Requirements",size:10,color:"blue",qualityType:"quality",page:"/qualities/operational-environment-requirements"},{id:"operational-constraint",label:"Operational constraint",size:10,color:"blue",qualityType:"quality",page:"/qualities/operational-constraint"},{id:"order-queue",label:"Order queue",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/order-queue"},{id:"parallel-data-modification",label:"Parallel Data Modification",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/parallel-data-modification"},{id:"patient-safety",label:"Patient Safety",size:10,color:"blue",qualityType:"quality",page:"/qualities/patient-safety"},{id:"performance",label:"Performance",size:10,color:"blue",qualityType:"quality",page:"/qualities/performance"},{id:"personalization",label:"Personalization",size:10,color:"blue",qualityType:"quality",page:"/qualities/personalization"},{id:"portability",label:"Portability",size:10,color:"blue",qualityType:"quality",page:"/qualities/portability"},{id:"portable-business-data-checker",label:"Portable Business Data Checker",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/portable-business-data-checker"},{id:"high-precision-calculation",label:"Precise calculation of gamma coefficient",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/high-precision-calculation"},{id:"preciseness",label:"Preciseness",size:10,color:"blue",qualityType:"quality",page:"/qualities/preciseness"},{id:"precision",label:"Precision",size:10,color:"blue",qualityType:"quality",page:"/qualities/precision"},{id:"precise-vehicle-orientation-gps",label:"Precision of vehicle's orientation",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/precise-vehicle-orientation-gps"},{id:"predictability",label:"Predictability",size:10,color:"blue",qualityType:"quality",page:"/qualities/predictability"},{id:"privacy",label:"Privacy",size:10,color:"blue",qualityType:"quality",page:"/qualities/privacy"},{id:"profitability",label:"Profitability",size:10,color:"blue",qualityType:"quality",page:"/qualities/profitability"},{id:"protect-data-by-security-procols",label:"Protect Data by Establishing Security Protocols",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/protect-data-by-security-procols"},{id:"quick-unit-tests",label:"Quick unit tests",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/quick-unit-tests"},{id:"quickly-locate-bugs",label:"Quickly locate bugs",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/quickly-locate-bugs"},{id:"readability",label:"Readability",size:10,color:"blue",qualityType:"quality",page:"/qualities/readability"},{id:"recognize-assistive-technology",label:"Recognize Assistive Technologies",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/recognize-assistive-technology"},{id:"recoverability",label:"Recoverability",size:10,color:"blue",qualityType:"quality",page:"/qualities/recoverability"},{id:"recovery-time",label:"Recovery time",size:10,color:"blue",qualityType:"quality",page:"/qualities/recovery-time"},{id:"reduce-energy-consumption-with-new-version",label:"Reduce energy consumption with every new version",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/reduce-energy-consumption-with-new-version"},{id:"releasability",label:"Releasability",size:10,color:"blue",qualityType:"quality",page:"/qualities/releasability"},{id:"reliability",label:"Reliability",size:10,color:"blue",qualityType:"quality",page:"/qualities/reliability"},{id:"reliable-backup-and-restore",label:"Reliable Backup and Restore",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/reliable-backup-and-restore"},{id:"reliable-erh-system",label:"Reliable ERH System",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/reliable-erh-system"},{id:"replaceability",label:"Replaceability",size:10,color:"blue",qualityType:"quality",page:"/qualities/replaceability"},{id:"reproducibility",label:"Reproducibility",size:10,color:"blue",qualityType:"quality",page:"/qualities/reproducibility"},{id:"resilience",label:"Resilience",size:10,color:"blue",qualityType:"quality",page:"/qualities/resilience"},{id:"resistance",label:"Resistance",size:10,color:"blue",qualityType:"quality",page:"/qualities/resistance"},{id:"resource-efficiency",label:"Resource efficiency",size:10,color:"blue",qualityType:"quality",page:"/qualities/resource-efficiency"},{id:"resource-utilization",label:"Resource utilization",size:10,color:"blue",qualityType:"quality",page:"/qualities/resource-utilization"},{id:"respond-to-15000-requests-per-workday",label:"Respond to 15000 requests per workday",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/respond-to-15000-requests-per-workday"},{id:"response-time",label:"Response Time",size:10,color:"blue",qualityType:"quality",page:"/qualities/response-time"},{id:"response-time-for-image-rendering",label:"Response time for image rendering",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/response-time-for-image-rendering"},{id:"responsiveness",label:"Responsiveness",size:10,color:"blue",qualityType:"quality",page:"/qualities/responsiveness"},{id:"restore-filter-after-log-in",label:"Restore Filter after Log In",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/restore-filter-after-log-in"},{id:"mttr-12h",label:"Restored to fully functional state 12h after complete failure",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/mttr-12h"},{id:"restricted-memory",label:"Restricted Memory",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/restricted-memory"},{id:"reusability",label:"Reusability",size:10,color:"blue",qualityType:"quality",page:"/qualities/reusability"},{id:"risk-identification",label:"Risk identification",size:10,color:"blue",qualityType:"quality",page:"/qualities/risk-identification"},{id:"robustness",label:"Robustness",size:10,color:"blue",qualityType:"quality",page:"/qualities/robustness"},{id:"rollout-new-feature",label:"Rollout of a new feature",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/rollout-new-feature"},{id:"safe-integration",label:"Safe integration",size:10,color:"blue",qualityType:"quality",page:"/qualities/safe-integration"},{id:"safety",label:"Safety",size:10,color:"blue",qualityType:"quality",page:"/qualities/safety"},{id:"carbon-efficiency-save",label:"Save at least 20% of carbon emissions with every new version",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/carbon-efficiency-save"},{id:"scalability",label:"Scalability",size:10,color:"blue",qualityType:"quality",page:"/qualities/scalability"},{id:"scale-up-in-2-minutes",label:"Scale up in 2 Minutes",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/scale-up-in-2-minutes"},{id:"securability",label:"Securability",size:10,color:"blue",qualityType:"quality",page:"/qualities/securability"},{id:"security",label:"Security",size:10,color:"blue",qualityType:"quality",page:"/qualities/security"},{id:"self-containedness",label:"Self-containedness",size:10,color:"blue",qualityType:"quality",page:"/qualities/self-containedness"},{id:"self-descriptiveness",label:"Self-descriptiveness",size:10,color:"blue",qualityType:"quality",page:"/qualities/self-descriptiveness"},{id:"server-fails-operation-without-downtime",label:"Server fails, system continues to operate without downtime",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/server-fails-operation-without-downtime"},{id:"shutdown-to-safe-state",label:"Severe errors are detected and the system shuts down into safe state",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/shutdown-to-safe-state"},{id:"simplicity",label:"Simplicity",size:10,color:"blue",qualityType:"quality",page:"/qualities/simplicity"},{id:"speed",label:"Speed",size:10,color:"blue",qualityType:"quality",page:"/qualities/speed"},{id:"speed-to-market",label:"Speed to Market",size:10,color:"blue",qualityType:"quality",page:"/qualities/speed-to-market"},{id:"stability",label:"Stability",size:10,color:"blue",qualityType:"quality",page:"/qualities/stability"},{id:"standard-compliance",label:"Standard Compliance",size:10,color:"blue",qualityType:"quality",page:"/qualities/standard-compliance"},{id:"startup-time",label:"Startup Time",size:10,color:"blue",qualityType:"quality",page:"/qualities/startup-time"},{id:"suitability",label:"Suitability",size:10,color:"blue",qualityType:"quality",page:"/qualities/suitability"},{id:"sustainability",label:"Sustainability",size:10,color:"blue",qualityType:"quality",page:"/qualities/sustainability"},{id:"long-running-without-reboot",label:"System can run >12h without re-booting the operating system",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/long-running-without-reboot"},{id:"system-runs-offline",label:"System runs offline",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/system-runs-offline"},{id:"test-coverage",label:"Test Coverage",size:10,color:"blue",qualityType:"quality",page:"/qualities/test-coverage"},{id:"test-with-path-coverage-30min",label:"Test with path coverage in 30min",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/test-with-path-coverage-30min"},{id:"testability",label:"Testability",size:10,color:"blue",qualityType:"quality",page:"/qualities/testability"},{id:"throughput",label:"Throughput",size:10,color:"blue",qualityType:"quality",page:"/qualities/throughput"},{id:"time-behaviour",label:"Time behaviour",size:10,color:"blue",qualityType:"quality",page:"/qualities/time-behaviour"},{id:"time-to-market",label:"Time to Market",size:10,color:"blue",qualityType:"quality",page:"/qualities/time-to-market"},{id:"timeliness",label:"Timeliness",size:10,color:"blue",qualityType:"quality",page:"/qualities/timeliness"},{id:"traceability",label:"Traceability",size:10,color:"blue",qualityType:"quality",page:"/qualities/traceability"},{id:"transparency",label:"Transparency",size:10,color:"blue",qualityType:"quality",page:"/qualities/transparency"},{id:"unavailability-max-2-minutes",label:"Unavailable for max 2 minutes",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/unavailability-max-2-minutes"},{id:"understandability",label:"Understandability",size:10,color:"blue",qualityType:"quality",page:"/qualities/understandability"},{id:"up-to-date-api",label:"Up to date API",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/up-to-date-api"},{id:"upgradeability",label:"Upgradeability",size:10,color:"blue",qualityType:"quality",page:"/qualities/upgradeability"},{id:"usability",label:"Usability",size:10,color:"blue",qualityType:"quality",page:"/qualities/usability"},{id:"usable-despite-color-blindness",label:"Usable Despite Color Blindness",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/usable-despite-color-blindness"},{id:"usable-on-factory-floor",label:"Usable on Factory Floor",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/usable-on-factory-floor"},{id:"usable-with-gloves",label:"Usable With Gloves",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/usable-with-gloves"},{id:"user-assistance",label:"User assistance",size:10,color:"blue",qualityType:"quality",page:"/qualities/user-assistance"},{id:"user-engagement",label:"User engagement",size:10,color:"blue",qualityType:"quality",page:"/qualities/user-engagement"},{id:"user-error-protection",label:"User error protection",size:10,color:"blue",qualityType:"quality",page:"/qualities/user-error-protection"},{id:"user-experience",label:"User experience",size:10,color:"blue",qualityType:"quality",page:"/qualities/user-experience"},{id:"user-interface-aesthetics",label:"User interface aesthetics",size:10,color:"blue",qualityType:"quality",page:"/qualities/user-interface-aesthetics"},{id:"user-interface-works-with-current-browsers",label:"User Interface can be used in Current Browsers",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/user-interface-works-with-current-browsers"},{id:"user-tries-primary-function",label:"User tries to achieve primary function",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/user-tries-primary-function"},{id:"accurate-vehicle-position-gps",label:"Vehicle's position validity influences accuracy",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/accurate-vehicle-position-gps"},{id:"versatility",label:"Versatility",size:10,color:"blue",qualityType:"quality",page:"/qualities/versatility"},{id:"vulnerability",label:"Vulnerability",size:10,color:"blue",qualityType:"quality",page:"/qualities/vulnerability"},{id:"withstand-ddos-attack",label:"Withstand DDoS Attack",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/withstand-ddos-attack"},{id:"zero-knowledge-data-storage",label:"Zero-knowledge data storage",size:5,color:"yellow",qualityType:"requirement",page:"/requirements/zero-knowledge-data-storage"}];var Wi=[{source:"access-control",target:"secure"},{source:"access-control",target:"security"},{source:"access-control",target:"accessibility"},{source:"access-control",target:"confidentiality"},{source:"access-control",target:"privacy"},{source:"access-control",target:"intrusion-detection"},{source:"access-control",target:"intrusion-prevention"},{source:"access-control-is-enforced",target:"access-control"},{source:"access-control-is-enforced",target:"auditability"},{source:"access-control-via-sso",target:"access-control"},{source:"access-control-via-sso",target:"auditability"},{source:"access-find-function-quickly",target:"usability"},{source:"access-find-function-quickly",target:"user-experience"},{source:"access-find-function-quickly",target:"ease-of-use"},{source:"access-find-function-quickly",target:"convenience"},{source:"access-find-function-quickly",target:"interaction-capability"},{source:"accessibility",target:"usable"},{source:"accessibility",target:"usability"},{source:"accessibility",target:"inclusivity"},{source:"accessibility",target:"interaction-capability"},{source:"accessible-user-interface",target:"usability"},{source:"accessible-user-interface",target:"inclusivity"},{source:"accessible-user-interface",target:"compliance"},{source:"accessible-user-interface",target:"accessibility"},{source:"accessible-user-interface",target:"interaction-capability"},{source:"accountability",target:"secure"},{source:"accountability",target:"authenticity"},{source:"accountability",target:"security"},{source:"accountability",target:"non-repudiation"},{source:"accuracy",target:"reliable"},{source:"accuracy",target:"usable"},{source:"accuracy",target:"correctness"},{source:"accuracy",target:"preciseness"},{source:"accurate-estimate-of-insurance-rate",target:"accuracy"},{source:"accurate-estimate-of-insurance-rate",target:"preciseness"},{source:"accurate-estimate-of-insurance-rate",target:"precision"},{source:"accurate-estimate-of-insurance-rate",target:"reliability"},{source:"accurate-estimate-of-insurance-rate",target:"functional-correctness"},{source:"accurate-estimate-of-insurance-rate",target:"interaction-capability"},{source:"accurate-vehicle-position-gps",target:"preciseness"},{source:"accurate-vehicle-position-gps",target:"precision"},{source:"accurate-vehicle-position-gps",target:"reliability"},{source:"accurate-vehicle-position-gps",target:"functional-correctness"},{source:"adaptability",target:"flexible"},{source:"adaptability",target:"usable"},{source:"adaptability",target:"changeability"},{source:"adaptability",target:"configurability"},{source:"adaptability",target:"maintainability"},{source:"adaptability",target:"flexibility"},{source:"adaptability",target:"usability"},{source:"adaptability",target:"scalability"},{source:"adaptability",target:"elasticity"},{source:"add-new-product",target:"efficiency"},{source:"add-new-product",target:"usability"},{source:"add-new-product",target:"extensibility"},{source:"affordability",target:"suitable"},{source:"affordability",target:"usable"},{source:"affordability",target:"efficient"},{source:"affordability",target:"budget-constraint"},{source:"affordability",target:"cost"},{source:"affordability",target:"changeability"},{source:"affordable-crm",target:"affordability"},{source:"affordable-crm",target:"cost"},{source:"affordable-crm",target:"budget-constraint"},{source:"affordable-crm",target:"profitability"},{source:"agility",target:"flexible"},{source:"agility",target:"flexibility"},{source:"agility",target:"changeability"},{source:"agility",target:"adaptability"},{source:"agility",target:"modifiability"},{source:"agility",target:"modularity"},{source:"analysability",target:"flexible"},{source:"analysability",target:"flexibility"},{source:"analysability",target:"maintainability"},{source:"analysability",target:"modifiability"},{source:"analysability",target:"testability"},{source:"annual-tax-update",target:"efficiency"},{source:"annual-tax-update",target:"maintainability"},{source:"annual-tax-update",target:"changeability"},{source:"anticipated-workplace-environment",target:"usable"},{source:"anticipated-workplace-environment",target:"functional-appropriateness"},{source:"appearance",target:"usable"},{source:"appearance",target:"ease-of-use"},{source:"appearance",target:"learnability"},{source:"appearance",target:"self-descriptiveness"},{source:"appearance",target:"user-interface-aesthetics"},{source:"appearance",target:"attractiveness"},{source:"appearance-requirements",target:"appearance"},{source:"appearance-requirements",target:"usability"},{source:"appearance-requirements",target:"consistency"},{source:"appearance-requirements",target:"user-interface-aesthetics"},{source:"appearance-requirements",target:"interaction-capability"},{source:"appropriateness-recognizability",target:"usable"},{source:"appropriateness-recognizability",target:"operable"},{source:"appropriateness-recognizability",target:"usability"},{source:"appropriateness-recognizability",target:"attractiveness"},{source:"appropriateness-recognizability",target:"operability"},{source:"appropriateness-recognizability",target:"user-error-protection"},{source:"appropriateness-recognizability",target:"user-engagement"},{source:"assess-impact-of-proposed-change",target:"analysability"},{source:"assess-impact-of-proposed-change",target:"reliability"},{source:"attractiveness",target:"usable"},{source:"attractiveness",target:"usability"},{source:"attractiveness",target:"clarity"},{source:"attractiveness",target:"user-interface-aesthetics"},{source:"attractiveness",target:"user-experience"},{source:"attractiveness",target:"user-assistance"},{source:"auditability",target:"operable"},{source:"auditability",target:"transparency"},{source:"auditability",target:"traceability"},{source:"auditability",target:"operability"},{source:"auditability",target:"observability"},{source:"auditability",target:"devops-metrics"},{source:"authenticity",target:"secure"},{source:"authenticity",target:"integrity"},{source:"authenticity",target:"security"},{source:"authenticity",target:"non-repudiation"},{source:"authenticity-of-digital-document",target:"authenticity"},{source:"authenticity-of-digital-document",target:"integrity"},{source:"autonomy",target:"operable"},{source:"autonomy",target:"suitable"},{source:"availability",target:"reliable"},{source:"availability",target:"usable"},{source:"availability",target:"high-availability"},{source:"availability",target:"robustness"},{source:"availability",target:"reliability"},{source:"availability",target:"usability"},{source:"availability",target:"fault-tolerance"},{source:"availability",target:"recoverability"},{source:"availability",target:"dependability"},{source:"availability",target:"faultlessness"},{source:"availability",target:"recovery-time"},{source:"available-7-24-99",target:"availability"},{source:"available-7-24-99",target:"high-availability"},{source:"available-7-24-99",target:"reliability"},{source:"available-7-24-99",target:"operability"},{source:"available-7-24-99",target:"user-error-protection"},{source:"available-7-24-99",target:"interaction-capability"},{source:"avoid-common-vulnerabilities",target:"vulnerability"},{source:"backup-patient-monitoring-sensor",target:"safety"},{source:"backup-patient-monitoring-sensor",target:"efficiency"},{source:"backup-patient-monitoring-sensor",target:"reliability"},{source:"backup-patient-monitoring-sensor",target:"patient-safety"},{source:"backward-compatibility",target:"usable"},{source:"backward-compatibility",target:"operable"},{source:"backward-compatibility",target:"reliable"},{source:"backward-compatibility",target:"portability"},{source:"backward-compatibility",target:"flexibility"},{source:"backward-compatibility",target:"compatibility"},{source:"budget-constraint",target:"suitable"},{source:"budget-constraint",target:"efficient"},{source:"budget-constraint",target:"affordability"},{source:"budget-constraint",target:"cost"},{source:"budget-constraint-library-update",target:"affordability"},{source:"budget-constraint-library-update",target:"cost"},{source:"budget-constraint-library-update",target:"budget-constraint"},{source:"budget-constraint-library-update",target:"time-to-market"},{source:"capacity",target:"efficient"},{source:"capacity",target:"reliable"},{source:"capacity",target:"efficiency"},{source:"capacity",target:"resource-efficiency"},{source:"capacity-to-process-sensor-inputs",target:"time-behaviour"},{source:"capacity-to-process-sensor-inputs",target:"speed"},{source:"capacity-to-process-sensor-inputs",target:"performance"},{source:"carbon-efficiency-save",target:"efficiency"},{source:"carbon-efficiency-save",target:"carbon-emission-efficiency"},{source:"carbon-efficiency-save",target:"energy-efficiency"},{source:"carbon-emission-efficiency",target:"efficient"},{source:"carbon-emission-efficiency",target:"sustainability"},{source:"carbon-emission-efficiency",target:"energy-efficiency"},{source:"change-cloud-provider",target:"flexibility"},{source:"change-cloud-provider",target:"maintainability"},{source:"change-cloud-provider",target:"adaptability"},{source:"change-failure-rate",target:"operable"},{source:"change-failure-rate",target:"controllability"},{source:"change-failure-rate",target:"operability"},{source:"change-failure-rate",target:"testability"},{source:"change-failure-rate",target:"analysability"},{source:"change-failure-rate",target:"deployability"},{source:"change-failure-rate",target:"devops-metrics"},{source:"changeability",target:"flexible"},{source:"changeability",target:"flexibility"},{source:"changeability",target:"adaptability"},{source:"changeability",target:"modifiability"},{source:"changeability",target:"configurability"},{source:"changeability",target:"modularity"},{source:"clarity",target:"usable"},{source:"clarity",target:"reliable"},{source:"clarity",target:"coherence"},{source:"clarity",target:"transparency"},{source:"clarity",target:"understandability"},{source:"clarity",target:"legibility"},{source:"clarity-in-technical-documentation",target:"clarity"},{source:"clarity-in-technical-documentation",target:"coherence"},{source:"clarity-in-technical-documentation",target:"understandability"},{source:"clarity-in-technical-documentation",target:"legibility"},{source:"co-existence",target:"flexible"},{source:"co-existence",target:"compatibility"},{source:"co-existence",target:"interoperability"},{source:"code-complexity",target:"efficient"},{source:"code-complexity",target:"understandability"},{source:"code-complexity",target:"legibility"},{source:"code-complexity",target:"clarity"},{source:"code-complexity",target:"conciseness"},{source:"code-complexity",target:"consistency"},{source:"code-complexity",target:"readability"},{source:"code-readability",target:"usable"},{source:"code-readability",target:"efficient"},{source:"code-readability",target:"understandability"},{source:"code-readability",target:"legibility"},{source:"code-readability",target:"clarity"},{source:"code-readability",target:"conciseness"},{source:"code-readability",target:"consistency"},{source:"code-readability",target:"readability"},{source:"coherence",target:"usable"},{source:"coherence",target:"efficient"},{source:"coherence",target:"consistency"},{source:"cohesion",target:"efficient"},{source:"cohesion",target:"flexible"},{source:"cohesion",target:"suitable"},{source:"cohesion",target:"coherence"},{source:"cohesion",target:"modularity"},{source:"communicability",target:"usable"},{source:"communicability",target:"usability"},{source:"communicability",target:"learnability"},{source:"communicability",target:"understandability"},{source:"communicability",target:"user-error-protection"},{source:"communicability",target:"ease-of-use"},{source:"compatibility",target:"usable"},{source:"compatibility",target:"operable"},{source:"compatibility",target:"reliable"},{source:"compatibility",target:"portability"},{source:"compatibility",target:"flexibility"},{source:"compatibility",target:"backward-compatibility"},{source:"compatible-with-5-battery-providers",target:"flexibility"},{source:"compatible-with-5-battery-providers",target:"adaptability"},{source:"compatible-with-5-battery-providers",target:"interoperability"},{source:"compatible-with-5-battery-providers",target:"compatibility"},{source:"compliance",target:"secure"},{source:"compliance",target:"safe"},{source:"compliance",target:"usable"},{source:"compliance",target:"reliable"},{source:"compliance",target:"efficient"},{source:"compliance",target:"suitable"},{source:"compliance",target:"security"},{source:"compliance",target:"safety"},{source:"compliance",target:"usability"},{source:"compliance",target:"reliability"},{source:"compliance",target:"efficiency"},{source:"compliance",target:"testability"},{source:"compliance-to-wcag",target:"accessibility"},{source:"compliance-to-wcag",target:"user-experience"},{source:"compliance-to-wcag",target:"user-assistance"},{source:"compliance-to-wcag",target:"interaction-capability"},{source:"compliance-with-ui-styleguide",target:"usability"},{source:"compliance-with-ui-styleguide",target:"user-experience"},{source:"compliance-with-ui-styleguide",target:"compliance"},{source:"compliance-with-ui-styleguide",target:"interaction-capability"},{source:"composability",target:"flexible"},{source:"composability",target:"modularity"},{source:"composability",target:"autonomy"},{source:"composability",target:"reusability"},{source:"composability",target:"interoperability"},{source:"conciseness",target:"usable"},{source:"conciseness",target:"efficient"},{source:"conciseness",target:"understandability"},{source:"confidentiality",target:"secure"},{source:"confidentiality",target:"integrity"},{source:"confidentiality",target:"accountability"},{source:"confidentiality-by-multitenance",target:"confidentiality"},{source:"confidentiality-by-multitenance",target:"security"},{source:"confidentiality-by-multitenance",target:"privacy"},{source:"configurability",target:"flexible"},{source:"configurability",target:"usable"},{source:"configurability",target:"flexibility"},{source:"configurability",target:"changeability"},{source:"configurability",target:"adaptability"},{source:"configurability",target:"modifiability"},{source:"configurability",target:"versatility"},{source:"configurable-ui-theme",target:"flexibility"},{source:"configurable-ui-theme",target:"changeability"},{source:"configurable-ui-theme",target:"adaptability"},{source:"configurable-ui-theme",target:"configurability"},{source:"configurable-ui-theme",target:"customizability"},{source:"consistency",target:"usable"},{source:"consistency",target:"efficient"},{source:"consistency",target:"understandability"},{source:"consistency",target:"coherence"},{source:"consistent-keyboard-shortcuts",target:"usability"},{source:"consistent-keyboard-shortcuts",target:"consistency"},{source:"consistent-keyboard-shortcuts",target:"user-experience"},{source:"consistent-keyboard-shortcuts",target:"user-assistance"},{source:"consistent-keyboard-shortcuts",target:"interaction-capability"},{source:"controllability",target:"usable"},{source:"controllability",target:"operable"},{source:"controllability",target:"usability"},{source:"convenience",target:"usable"},{source:"convenience",target:"usability"},{source:"convenience",target:"ease-of-use"},{source:"convenience",target:"user-assistance"},{source:"convenient-online-banking",target:"user-experience"},{source:"convenient-online-banking",target:"convenience"},{source:"convenient-online-banking",target:"interaction-capability"},{source:"convenient-online-banking",target:"clarity"},{source:"convenient-online-banking",target:"ease-of-use"},{source:"core-functions-on-mac-win-linux",target:"flexibility"},{source:"core-functions-on-mac-win-linux",target:"portability"},{source:"core-functions-on-mac-win-linux",target:"compatibility"},{source:"core-functions-on-mac-win-linux",target:"interaction-capability"},{source:"correctness",target:"usable"},{source:"correctness",target:"reliable"},{source:"correctness",target:"suitable"},{source:"correctness",target:"usability"},{source:"correctness",target:"functionality"},{source:"correctness",target:"functional-suitability"},{source:"correctness",target:"functional-correctness"},{source:"cost",target:"suitable"},{source:"cost",target:"efficient"},{source:"cost",target:"budget-constraint"},{source:"cost",target:"affordability"},{source:"credibility",target:"reliable"},{source:"credibility",target:"accountability"},{source:"credibility",target:"usability"},{source:"credibility",target:"user-engagement"},{source:"cultural-sensitivity-in-content",target:"usability"},{source:"cultural-sensitivity-in-content",target:"inclusivity"},{source:"cultural-sensitivity-in-content",target:"internationalization"},{source:"cultural-sensitivity-in-content",target:"interaction-capability"},{source:"customizability",target:"flexible"},{source:"customizability",target:"usable"},{source:"customizability",target:"configurability"},{source:"customizability",target:"flexibility"},{source:"customizability",target:"adaptability"},{source:"customizability",target:"changeability"},{source:"cyber-security",target:"secure"},{source:"cyber-security",target:"security"},{source:"cyber-security",target:"information-security"},{source:"cyber-security",target:"authenticity"},{source:"cyber-security",target:"confidentiality"},{source:"cycle-time",target:"operable"},{source:"cycle-time",target:"suitable"},{source:"cycle-time",target:"efficient"},{source:"cycle-time",target:"controllability"},{source:"cycle-time",target:"testability"},{source:"cycle-time",target:"deployability"},{source:"cycle-time",target:"devops-metrics"},{source:"cycle-time",target:"lead-time-for-changes"},{source:"data-throughput-for-visual-test-system",target:"throughput"},{source:"data-throughput-for-visual-test-system",target:"efficiency"},{source:"data-throughput-for-visual-test-system",target:"performance"},{source:"data-throughput-for-visual-test-system",target:"capacity"},{source:"dependability",target:"reliable"},{source:"dependability",target:"availability"},{source:"dependability",target:"robustness"},{source:"dependability",target:"fault-tolerance"},{source:"dependability",target:"reliability"},{source:"deployability",target:"operable"},{source:"deployability",target:"suitable"},{source:"deployability",target:"releasability"},{source:"deployability",target:"operability"},{source:"deployability",target:"testability"},{source:"deployability",target:"analysability"},{source:"deployability",target:"devops-metrics"},{source:"deployment-frequency",target:"operable"},{source:"deployment-frequency",target:"suitable"},{source:"deployment-frequency",target:"controllability"},{source:"deployment-frequency",target:"operability"},{source:"deployment-frequency",target:"testability"},{source:"deployment-frequency",target:"analysability"},{source:"deployment-frequency",target:"deployability"},{source:"deployment-frequency",target:"devops-metrics"},{source:"deployment-frequency",target:"releasability"},{source:"detailed-audit-log",target:"accountability"},{source:"detect-inconsistent-user-input",target:"usability"},{source:"detect-inconsistent-user-input",target:"consistency"},{source:"detect-inconsistent-user-input",target:"user-experience"},{source:"detect-inconsistent-user-input",target:"user-assistance"},{source:"detect-inconsistent-user-input",target:"interaction-capability"},{source:"devops-metrics",target:"operable"},{source:"devops-metrics",target:"controllability"},{source:"devops-metrics",target:"operability"},{source:"devops-metrics",target:"testability"},{source:"devops-metrics",target:"analysability"},{source:"devops-metrics",target:"deployability"},{source:"display-data-based-on-context",target:"adaptability"},{source:"display-data-based-on-context",target:"functional-appropriateness"},{source:"DORA-metrics",target:"operable"},{source:"DORA-metrics",target:"devops-metrics"},{source:"DORA-metrics",target:"deployability"},{source:"DORA-metrics",target:"deployment-frequency"},{source:"DORA-metrics",target:"operability"},{source:"ease-of-use",target:"operable"},{source:"ease-of-use",target:"usable"},{source:"ease-of-use",target:"attractiveness"},{source:"ease-of-use",target:"operability"},{source:"ease-of-use",target:"user-error-protection"},{source:"ease-of-use",target:"user-engagement"},{source:"ease-of-use",target:"user-experience"},{source:"ease-of-use",target:"user-interface-aesthetics"},{source:"ease-of-use",target:"user-assistance"},{source:"ease-of-use",target:"usability"},{source:"easy-ui",target:"ease-of-use"},{source:"easy-ui",target:"user-experience"},{source:"easy-ui",target:"usability"},{source:"easy-ui",target:"interaction-capability"},{source:"effectiveness",target:"efficient"},{source:"effectiveness",target:"efficiency"},{source:"efficiency",target:"efficient"},{source:"efficiency",target:"performance"},{source:"efficiency",target:"effectiveness"},{source:"efficient",target:"quality-root"},{source:"efficient-generation-of-test-data",target:"efficiency"},{source:"efficient-generation-of-test-data",target:"time-behaviour"},{source:"efficient-generation-of-test-data",target:"capacity"},{source:"efficient-save-function",target:"efficiency"},{source:"efficient-save-function",target:"time-behaviour"},{source:"efficient-save-function",target:"capacity"},{source:"elasticity",target:"flexible"},{source:"elasticity",target:"adaptability"},{source:"elasticity",target:"scalability"},{source:"elasticity",target:"flexibility"},{source:"employee-attempts-to-modify-pay-rate",target:"security"},{source:"employee-attempts-to-modify-pay-rate",target:"privacy"},{source:"employee-attempts-to-modify-pay-rate",target:"traceability"},{source:"employee-attempts-to-modify-pay-rate",target:"integrity"},{source:"encrypted-storage",target:"confidentiality"},{source:"encrypted-storage",target:"security"},{source:"encrypted-storage",target:"privacy"},{source:"energy-efficiency",target:"efficient"},{source:"energy-efficiency",target:"carbon-emission-efficiency"},{source:"energy-efficiency",target:"sustainability"},{source:"every-data-modification-is-logged",target:"security"},{source:"every-data-modification-is-logged",target:"privacy"},{source:"every-data-modification-is-logged",target:"traceability"},{source:"every-data-modification-is-logged",target:"recoverability"},{source:"expected-physical-environment",target:"suitable"},{source:"expected-physical-environment",target:"operable"},{source:"expected-physical-environment",target:"anticipated-workplace-environment"},{source:"explainability",target:"safe"},{source:"explainability",target:"suitable"},{source:"explainability",target:"accountability"},{source:"explainability",target:"analysability"},{source:"explainability",target:"clarity"},{source:"expressive-error-messages",target:"usability"},{source:"expressive-error-messages",target:"user-experience"},{source:"expressive-error-messages",target:"fault-isolation"},{source:"expressive-error-messages",target:"graceful-degradation"},{source:"expressive-error-messages",target:"hazard-warning"},{source:"expressive-error-messages",target:"user-assistance"},{source:"expressive-error-messages",target:"interaction-capability"},{source:"extensibility",target:"flexible"},{source:"extensibility",target:"adaptability"},{source:"extensibility",target:"modifiability"},{source:"extensibility",target:"changeability"},{source:"extensibility",target:"flexibility"},{source:"fail-safe",target:"safe"},{source:"fail-safe",target:"reliable"},{source:"fail-safe",target:"safety"},{source:"fail-safe",target:"robustness"},{source:"fast-accurate-sensor",target:"efficiency"},{source:"fast-accurate-sensor",target:"preciseness"},{source:"fast-accurate-sensor",target:"accuracy"},{source:"fast-creation-of-sales-report",target:"efficiency"},{source:"fast-creation-of-sales-report",target:"performance"},{source:"fast-creation-of-sales-report",target:"time-behaviour"},{source:"fast-creation-of-sales-report",target:"speed"},{source:"fast-creation-of-sales-report",target:"responsiveness"},{source:"fast-deployment",target:"time-behaviour"},{source:"fast-deployment",target:"operability"},{source:"fast-deployment",target:"deployment-frequency"},{source:"fast-deployment",target:"extensibility"},{source:"fast-deployment",target:"lead-time-for-changes"},{source:"fast-deployment",target:"cycle-time"},{source:"fast-rollout-of-changes",target:"efficiency"},{source:"fast-rollout-of-changes",target:"operability"},{source:"fast-rollout-of-changes",target:"speed"},{source:"fast-rollout-of-changes",target:"time-to-market"},{source:"fast-rollout-of-changes",target:"speed-to-market"},{source:"fast-startup-time",target:"time-behaviour"},{source:"fast-startup-time",target:"speed"},{source:"fast-startup-time",target:"performance"},{source:"fast-startup-time",target:"startup-time"},{source:"fast-startup-time",target:"elasticity"},{source:"fast-startup-time",target:"scalability"},{source:"fault-isolation",target:"safe"},{source:"fault-isolation",target:"reliable"},{source:"fault-isolation",target:"safety"},{source:"fault-isolation",target:"fail-safe"},{source:"fault-isolation",target:"fault-tolerance"},{source:"fault-isolation",target:"faultlessness"},{source:"fault-isolation",target:"risk-identification"},{source:"fault-isolation",target:"hazard-warning"},{source:"fault-tolerance",target:"reliable"},{source:"fault-tolerance",target:"usable"},{source:"fault-tolerance",target:"robustness"},{source:"fault-tolerance",target:"reliability"},{source:"fault-tolerance",target:"usability"},{source:"fault-tolerance",target:"availability"},{source:"fault-tolerance",target:"recoverability"},{source:"fault-tolerance",target:"faultlessness"},{source:"fault-tolerance",target:"graceful-degradation"},{source:"faultlessness",target:"reliable"},{source:"faultlessness",target:"usable"},{source:"faultlessness",target:"secure"},{source:"faultlessness",target:"dependability"},{source:"faultlessness",target:"reliability"},{source:"faultlessness",target:"availability"},{source:"features",target:"usable"},{source:"features",target:"functionality"},{source:"features",target:"functional-completeness"},{source:"features",target:"usability"},{source:"features",target:"functional-suitability"},{source:"flexibility",target:"flexible"},{source:"flexibility",target:"maintainability"},{source:"flexibility",target:"modularity"},{source:"flexibility",target:"adaptability"},{source:"flexibility",target:"configurability"},{source:"flexibility",target:"changeability"},{source:"flexibility",target:"agility"},{source:"flexible",target:"quality-root"},{source:"functional-appropriateness",target:"usable"},{source:"functional-appropriateness",target:"reliable"},{source:"functional-appropriateness",target:"suitable"},{source:"functional-appropriateness",target:"usability"},{source:"functional-appropriateness",target:"functionality"},{source:"functional-appropriateness",target:"functional-suitability"},{source:"functional-appropriateness",target:"suitability"},{source:"functional-completeness",target:"usable"},{source:"functional-completeness",target:"reliable"},{source:"functional-completeness",target:"suitable"},{source:"functional-completeness",target:"usability"},{source:"functional-completeness",target:"functionality"},{source:"functional-completeness",target:"functional-suitability"},{source:"functional-completeness",target:"correctness"},{source:"functional-correctness",target:"usable"},{source:"functional-correctness",target:"reliable"},{source:"functional-correctness",target:"suitable"},{source:"functional-correctness",target:"usability"},{source:"functional-correctness",target:"functionality"},{source:"functional-correctness",target:"functional-suitability"},{source:"functional-correctness",target:"correctness"},{source:"functional-suitability",target:"usable"},{source:"functional-suitability",target:"reliable"},{source:"functional-suitability",target:"suitable"},{source:"functional-suitability",target:"usability"},{source:"functional-suitability",target:"functionality"},{source:"functional-suitability",target:"functional-completeness"},{source:"functional-suitability",target:"suitability"},{source:"functionality",target:"usable"},{source:"functionality",target:"reliable"},{source:"functionality",target:"suitable"},{source:"functionality",target:"usability"},{source:"functionality",target:"functional-suitability"},{source:"functionality",target:"functional-correctness"},{source:"functionality",target:"functional-completeness"},{source:"global-explainability",target:"explainability"},{source:"good-code-readability-score",target:"readability"},{source:"good-code-readability-score",target:"legibility"},{source:"good-code-readability-score",target:"code-readability"},{source:"good-code-readability-score",target:"code-complexity"},{source:"graceful-degradation",target:"reliable"},{source:"graceful-degradation",target:"usable"},{source:"graceful-degradation",target:"robustness"},{source:"graceful-degradation",target:"reliability"},{source:"graceful-degradation",target:"usability"},{source:"graceful-degradation",target:"availability"},{source:"graceful-degradation",target:"recoverability"},{source:"graceful-degradation",target:"faultlessness"},{source:"graceful-degradation",target:"fault-tolerance"},{source:"handle-sudden-increase-in-traffic",target:"resilience"},{source:"handle-sudden-increase-in-traffic",target:"reliability"},{source:"handle-sudden-increase-in-traffic",target:"elasticity"},{source:"handle-sudden-increase-in-traffic",target:"scalability"},{source:"hazard-warning",target:"safe"},{source:"hazard-warning",target:"reliable"},{source:"hazard-warning",target:"safety"},{source:"hazard-warning",target:"robustness"},{source:"high-availability",target:"reliable"},{source:"high-availability",target:"usable"},{source:"high-availability",target:"availability"},{source:"high-availability",target:"robustness"},{source:"high-availability",target:"reliability"},{source:"high-availability",target:"usability"},{source:"high-availability",target:"fault-tolerance"},{source:"high-availability",target:"recoverability"},{source:"high-availability",target:"dependability"},{source:"high-availability",target:"faultlessness"},{source:"high-availability",target:"recovery-time"},{source:"high-precision-calculation",target:"reliability"},{source:"high-precision-calculation",target:"preciseness"},{source:"high-precision-calculation",target:"accuracy"},{source:"high-precision-calculation",target:"correctness"},{source:"i18n",target:"usable"},{source:"i18n",target:"usability"},{source:"i18n",target:"adaptability"},{source:"i18n",target:"configurability"},{source:"i18n",target:"ease-of-use"},{source:"i18n",target:"modifiability"},{source:"i18n",target:"user-assistance"},{source:"i18n",target:"user-experience"},{source:"immunity",target:"secure"},{source:"immunity",target:"reliable"},{source:"immunity",target:"vulnerability"},{source:"immunity",target:"intrusion-detection"},{source:"immunity",target:"intrusion-prevention"},{source:"inclusive-user-testing",target:"usability"},{source:"inclusive-user-testing",target:"inclusivity"},{source:"inclusive-user-testing",target:"interaction-capability"},{source:"inclusivity",target:"usable"},{source:"inclusivity",target:"usability"},{source:"inclusivity",target:"functionality"},{source:"inclusivity",target:"attractiveness"},{source:"inclusivity",target:"user-error-protection"},{source:"inclusivity",target:"ease-of-use"},{source:"independence",target:"flexible"},{source:"independence",target:"maintainability"},{source:"independence",target:"modularity"},{source:"independence",target:"adaptability"},{source:"independence",target:"configurability"},{source:"independence",target:"changeability"},{source:"independence",target:"agility"},{source:"independence",target:"flexibility"},{source:"independent-enhancement-of-subsystem",target:"efficiency"},{source:"independent-enhancement-of-subsystem",target:"maintainability"},{source:"independent-enhancement-of-subsystem",target:"changeability"},{source:"independent-enhancement-of-subsystem",target:"adaptability"},{source:"independent-enhancement-of-subsystem",target:"agility"},{source:"independent-replacement-of-subsystem",target:"adaptability"},{source:"independent-replacement-of-subsystem",target:"agility"},{source:"independent-replacement-of-subsystem",target:"changeability"},{source:"independent-replacement-of-subsystem",target:"efficiency"},{source:"independent-replacement-of-subsystem",target:"maintainability"},{source:"information-security",target:"secure"},{source:"information-security",target:"reliable"},{source:"information-security",target:"integrity"},{source:"information-security",target:"availability"},{source:"information-security",target:"non-repudiation"},{source:"information-security",target:"confidentiality"},{source:"information-security",target:"accountability"},{source:"information-security",target:"authenticity"},{source:"information-security",target:"resistance"},{source:"information-security",target:"cyber-security"},{source:"installability",target:"operable"},{source:"installability",target:"flexible"},{source:"installability",target:"maintainability"},{source:"installability",target:"analysability"},{source:"installability",target:"operability"},{source:"installability",target:"deployability"},{source:"integrity",target:"secure"},{source:"integrity",target:"confidentiality"},{source:"integrity",target:"security"},{source:"interaction-capability",target:"usable"},{source:"interaction-capability",target:"operable"},{source:"interaction-capability",target:"usability"},{source:"interaction-capability",target:"functionality"},{source:"interaction-capability",target:"inclusivity"},{source:"interaction-capability",target:"attractiveness"},{source:"interaction-capability",target:"operability"},{source:"interaction-capability",target:"user-error-protection"},{source:"interaction-capability",target:"user-engagement"},{source:"interaction-capability",target:"ease-of-use"},{source:"internationalization",target:"flexible"},{source:"internationalization",target:"usable"},{source:"internationalization",target:"localizability"},{source:"internationalization",target:"adaptability"},{source:"internationalization",target:"modifiability"},{source:"internationalization",target:"maintainability"},{source:"internationalization",target:"internationalization"},{source:"interoperability",target:"usable"},{source:"interoperability",target:"operable"},{source:"interoperability",target:"co-existence"},{source:"interoperability",target:"compatibility"},{source:"interoperable-with-java-12",target:"compatibility"},{source:"interoperable-with-java-12",target:"interoperability"},{source:"interoperable-with-java-12",target:"backward-compatibility"},{source:"interruptable-backend-process",target:"usability"},{source:"interruptable-backend-process",target:"user-experience"},{source:"interruptable-backend-process",target:"time-behaviour"},{source:"interruptable-backend-process",target:"interaction-capability"},{source:"intrusion-detection",target:"secure"},{source:"intrusion-detection",target:"intrusion-prevention"},{source:"intrusion-prevention",target:"secure"},{source:"intrusion-prevention",target:"intrusion-detection"},{source:"jitter",target:"efficient"},{source:"jitter",target:"performance"},{source:"jitter",target:"latency"},{source:"jitter",target:"predictability"},{source:"keep-data-on-error",target:"reliability"},{source:"keep-data-on-error",target:"robustness"},{source:"keep-data-on-error",target:"ease-of-use"},{source:"keep-data-on-error",target:"user-experience"},{source:"keep-data-on-error",target:"interaction-capability"},{source:"latency",target:"efficient"},{source:"latency",target:"usable"},{source:"latency",target:"operable"},{source:"latency",target:"performance"},{source:"latency",target:"time-behaviour"},{source:"lead-time-for-changes",target:"operable"},{source:"lead-time-for-changes",target:"controllability"},{source:"lead-time-for-changes",target:"operability"},{source:"lead-time-for-changes",target:"testability"},{source:"lead-time-for-changes",target:"deployability"},{source:"learnability",target:"usable"},{source:"learnability",target:"operable"},{source:"learnability",target:"usability"},{source:"learnability",target:"user-error-protection"},{source:"learnability",target:"user-engagement"},{source:"learnability",target:"conciseness"},{source:"learnability",target:"understandability"},{source:"learnability-find-article",target:"usability"},{source:"learnability-find-article",target:"user-experience"},{source:"legal-requirements",target:"usable"},{source:"legal-requirements",target:"operable"},{source:"legal-requirements",target:"accountability"},{source:"legal-requirements",target:"adaptability"},{source:"legal-requirements",target:"operational-constraint"},{source:"legal-requirements",target:"correctness"},{source:"legibility",target:"usable"},{source:"legibility",target:"usability"},{source:"legibility",target:"understandability"},{source:"local-explainability",target:"explainability"},{source:"localizability",target:"flexible"},{source:"localizability",target:"usable"},{source:"localizability",target:"localizability"},{source:"localizability",target:"adaptability"},{source:"localizability",target:"modifiability"},{source:"localizability",target:"maintainability"},{source:"localizability",target:"internationalization"},{source:"localizable-to-n-languages",target:"flexibility"},{source:"localizable-to-n-languages",target:"maintainability"},{source:"localizable-to-n-languages",target:"modifiability"},{source:"localizable-to-n-languages",target:"adaptability"},{source:"localizable-to-n-languages",target:"accessibility"},{source:"localizable-to-n-languages",target:"localizability"},{source:"localizable-to-n-languages",target:"internationalization"},{source:"long-running-without-reboot",target:"mean-time-between-failures"},{source:"long-running-without-reboot",target:"stability"},{source:"long-running-without-reboot",target:"reliability"},{source:"long-running-without-reboot",target:"availability"},{source:"long-running-without-reboot",target:"high-availability"},{source:"longevity",target:"reliable"},{source:"longevity",target:"flexible"},{source:"longevity",target:"reliability"},{source:"longevity",target:"adaptability"},{source:"longevity",target:"modifiability"},{source:"loose-coupling",target:"efficient"},{source:"loose-coupling",target:"flexible"},{source:"loose-coupling",target:"suitable"},{source:"loose-coupling",target:"coherence"},{source:"loose-coupling",target:"modularity"},{source:"loose-coupling",target:"cohesion"},{source:"low-change-failure-rate",target:"change-failure-rate"},{source:"low-change-failure-rate",target:"reliability"},{source:"low-effort-deployment",target:"compatibility"},{source:"low-effort-deployment",target:"interoperability"},{source:"low-effort-deployment",target:"portability"},{source:"low-impact-diagnosis",target:"efficiency"},{source:"low-impact-diagnosis",target:"time-behaviour"},{source:"low-impact-diagnosis",target:"resource-efficiency"},{source:"luggage-routing",target:"flexibility"},{source:"luggage-routing",target:"changeability"},{source:"luggage-routing",target:"adaptability"},{source:"luggage-routing",target:"configurability"},{source:"maintainability",target:"flexible"},{source:"maintainability",target:"flexibility"},{source:"maintainability",target:"adaptability"},{source:"maintainability",target:"changeability"},{source:"maintainability",target:"configurability"},{source:"maintainability",target:"modularity"},{source:"maintainable-checking-strategy",target:"efficiency"},{source:"maintainable-checking-strategy",target:"maintainability"},{source:"mean-time-between-failures",target:"operable"},{source:"mean-time-between-failures",target:"controllability"},{source:"mean-time-between-failures",target:"operability"},{source:"mean-time-between-failures",target:"testability"},{source:"mean-time-between-failures",target:"analysability"},{source:"mean-time-between-failures",target:"devops-metrics"},{source:"mean-time-between-failures",target:"mean-time-to-recovery"},{source:"mean-time-to-recovery",target:"operable"},{source:"mean-time-to-recovery",target:"suitable"},{source:"mean-time-to-recovery",target:"controllability"},{source:"mean-time-to-recovery",target:"operability"},{source:"mean-time-to-recovery",target:"testability"},{source:"mean-time-to-recovery",target:"analysability"},{source:"mean-time-to-recovery",target:"deployability"},{source:"mean-time-to-recovery",target:"devops-metrics"},{source:"memory-usage",target:"efficient"},{source:"memory-usage",target:"efficiency"},{source:"memory-usage",target:"capacity"},{source:"memory-usage",target:"time-behaviour"},{source:"memory-usage",target:"resource-utilization"},{source:"minimize-jitter",target:"jitter"},{source:"minimize-jitter",target:"predictability"},{source:"minimize-jitter",target:"latency"},{source:"modifiability",target:"flexible"},{source:"modifiability",target:"flexibility"},{source:"modifiability",target:"adaptability"},{source:"modifiability",target:"changeability"},{source:"modifiability",target:"configurability"},{source:"modular-system-for-data-analysis",target:"composability"},{source:"modular-system-for-data-analysis",target:"modularity"},{source:"modular-system-for-data-analysis",target:"stability"},{source:"modularity",target:"flexible"},{source:"modularity",target:"flexibility"},{source:"modularity",target:"adaptability"},{source:"modularity",target:"changeability"},{source:"modularity",target:"configurability"},{source:"modularity",target:"maintainability"},{source:"modularity",target:"modifiability"},{source:"modularity",target:"composability"},{source:"mttr-12h",target:"availability"},{source:"mttr-12h",target:"high-availability"},{source:"mttr-12h",target:"reliability"},{source:"mttr-12h",target:"operability"},{source:"mttr-12h",target:"mean-time-to-recovery"},{source:"mttr-12h",target:"interaction-capability"},{source:"multilinguality-support",target:"usability"},{source:"multilinguality-support",target:"inclusivity"},{source:"multilinguality-support",target:"accessibility"},{source:"multilinguality-support",target:"interaction-capability"},{source:"near-instant-search-results",target:"efficiency"},{source:"near-instant-search-results",target:"performance"},{source:"near-instant-search-results",target:"time-behaviour"},{source:"near-instant-search-results",target:"speed"},{source:"near-instant-search-results",target:"interaction-capability"},{source:"new-features-introduct-no-bugs",target:"predictability"},{source:"new-features-introduct-no-bugs",target:"reliability"},{source:"new-features-introduct-no-bugs",target:"changeability"},{source:"non-repudiation",target:"secure"},{source:"non-repudiation",target:"integrity"},{source:"non-repudiation",target:"authenticity"},{source:"non-repudiation",target:"security"},{source:"non-repudiation",target:"accountability"},{source:"observability",target:"operable"},{source:"observability",target:"analysability"},{source:"observability",target:"testability"},{source:"only-authenticated-users-can-access",target:"confidentiality"},{source:"only-authenticated-users-can-access",target:"security"},{source:"only-authenticated-users-can-access",target:"privacy"},{source:"operability",target:"usable"},{source:"operability",target:"operable"},{source:"operability",target:"usability"},{source:"operability",target:"user-error-protection"},{source:"operability",target:"controllability"},{source:"operability",target:"robustness"},{source:"operable",target:"quality-root"},{source:"operational-constraint",target:"safe"},{source:"operational-constraint",target:"reliable"},{source:"operational-constraint",target:"availability"},{source:"operational-constraint",target:"robustness"},{source:"operational-constraint",target:"flexibility"},{source:"operational-constraint",target:"safety"},{source:"operational-environment-requirements",target:"operable"},{source:"operational-environment-requirements",target:"expected-physical-environment"},{source:"operational-environment-requirements",target:"operational-constraint"},{source:"order-queue",target:"fault-tolerance"},{source:"order-queue",target:"recoverability"},{source:"parallel-data-modification",target:"performance"},{source:"patient-safety",target:"safe"},{source:"patient-safety",target:"reliable"},{source:"patient-safety",target:"secure"},{source:"patient-safety",target:"safety"},{source:"patient-safety",target:"robustness"},{source:"performance",target:"efficient"},{source:"performance",target:"efficiency"},{source:"performance",target:"resource-efficiency"},{source:"performance",target:"speed"},{source:"personalization",target:"flexible"},{source:"personalization",target:"customizability"},{source:"portability",target:"flexible"},{source:"portability",target:"operable"},{source:"portability",target:"compatibility"},{source:"portability",target:"flexibility"},{source:"portability",target:"installability"},{source:"portability",target:"interoperability"},{source:"portability",target:"maintainability"},{source:"portability",target:"configurability"},{source:"portability",target:"replaceability"},{source:"portable-business-data-checker",target:"portability"},{source:"portable-business-data-checker",target:"adaptability"},{source:"portable-business-data-checker",target:"flexibility"},{source:"precise-vehicle-orientation-gps",target:"accuracy"},{source:"precise-vehicle-orientation-gps",target:"preciseness"},{source:"precise-vehicle-orientation-gps",target:"precision"},{source:"precise-vehicle-orientation-gps",target:"reliability"},{source:"precise-vehicle-orientation-gps",target:"functional-correctness"},{source:"preciseness",target:"reliable"},{source:"preciseness",target:"usable"},{source:"preciseness",target:"correctness"},{source:"preciseness",target:"accuracy"},{source:"precision",target:"reliable"},{source:"precision",target:"usable"},{source:"precision",target:"correctness"},{source:"precision",target:"accuracy"},{source:"precision",target:"preciseness"},{source:"predictability",target:"reliable"},{source:"predictability",target:"reliability"},{source:"predictability",target:"correctness"},{source:"privacy",target:"secure"},{source:"privacy",target:"security"},{source:"privacy",target:"confidentiality"},{source:"profitability",target:"efficient"},{source:"profitability",target:"time-to-market"},{source:"profitability",target:"budget-constraint"},{source:"profitability",target:"cost"},{source:"profitability",target:"affordability"},{source:"protect-data-by-security-procols",target:"safety"},{source:"protect-data-by-security-procols",target:"cyber-security"},{source:"protect-data-by-security-procols",target:"security"},{source:"protect-data-by-security-procols",target:"information-security"},{source:"protect-data-by-security-procols",target:"patient-safety"},{source:"query-execution-management",target:"efficiency"},{source:"query-execution-management",target:"time-behaviour"},{source:"query-execution-management",target:"memory-usage"},{source:"query-execution-management",target:"resource-efficiency"},{source:"query-execution-management",target:"resource-utilization"},{source:"quick-unit-tests",target:"testability"},{source:"quickly-locate-bugs",target:"efficiency"},{source:"quickly-locate-bugs",target:"maintainability"},{source:"readability",target:"usable"},{source:"readability",target:"usability"},{source:"readability",target:"understandability"},{source:"readability",target:"legibility"},{source:"readability",target:"code-readability"},{source:"recognize-assistive-technology",target:"usability"},{source:"recognize-assistive-technology",target:"inclusivity"},{source:"recognize-assistive-technology",target:"accessibility"},{source:"recognize-assistive-technology",target:"interaction-capability"},{source:"recoverability",target:"reliable"},{source:"recoverability",target:"usable"},{source:"recoverability",target:"robustness"},{source:"recoverability",target:"reliability"},{source:"recoverability",target:"usability"},{source:"recoverability",target:"availability"},{source:"recoverability",target:"faultlessness"},{source:"recoverability",target:"fault-tolerance"},{source:"recovery-time",target:"reliable"},{source:"recovery-time",target:"recoverability"},{source:"recovery-time",target:"fault-tolerance"},{source:"recovery-time",target:"availability"},{source:"recovery-time",target:"resilience"},{source:"recovery-time",target:"high-availability"},{source:"reduce-energy-consumption-with-new-version",target:"sustainability"},{source:"reduce-energy-consumption-with-new-version",target:"carbon-emission-efficiency"},{source:"reduce-energy-consumption-with-new-version",target:"energy-efficiency"},{source:"releasability",target:"operable"},{source:"releasability",target:"efficient"},{source:"releasability",target:"operability"},{source:"releasability",target:"deployability"},{source:"releasability",target:"deployment-frequency"},{source:"reliability",target:"reliable"},{source:"reliability",target:"availability"},{source:"reliability",target:"robustness"},{source:"reliability",target:"fault-tolerance"},{source:"reliability",target:"dependability"},{source:"reliability",target:"resilience"},{source:"reliable",target:"quality-root"},{source:"reliable-backup-and-restore",target:"patient-safety"},{source:"reliable-backup-and-restore",target:"safety"},{source:"reliable-backup-and-restore",target:"reliability"},{source:"reliable-backup-and-restore",target:"availability"},{source:"reliable-erh-system",target:"patient-safety"},{source:"reliable-erh-system",target:"safety"},{source:"reliable-erh-system",target:"reliability"},{source:"reliable-erh-system",target:"efficiency"},{source:"reliable-erh-system",target:"availability"},{source:"replaceability",target:"operable"},{source:"replaceability",target:"flexible"},{source:"replaceability",target:"installability"},{source:"replaceability",target:"analysability"},{source:"replaceability",target:"operability"},{source:"replaceability",target:"deployability"},{source:"reproducibility",target:"usable"},{source:"reproducibility",target:"consistency"},{source:"reproducibility",target:"understandability"},{source:"resilience",target:"reliable"},{source:"resilience",target:"secure"},{source:"resilience",target:"availability"},{source:"resistance",target:"secure"},{source:"resistance",target:"integrity"},{source:"resistance",target:"security"},{source:"resistance",target:"dependability"},{source:"resistance",target:"fault-tolerance"},{source:"resistance",target:"recoverability"},{source:"resource-efficiency",target:"efficient"},{source:"resource-efficiency",target:"efficiency"},{source:"resource-efficiency",target:"resource-utilization"},{source:"resource-efficiency",target:"performance"},{source:"resource-utilization",target:"efficient"},{source:"resource-utilization",target:"efficiency"},{source:"resource-utilization",target:"resource-efficiency"},{source:"resource-utilization",target:"speed"},{source:"resource-utilization",target:"performance"},{source:"resource-utilization",target:"time-behaviour"},{source:"resource-utilization",target:"memory-usage"},{source:"respond-to-15000-requests-per-workday",target:"capacity"},{source:"respond-to-15000-requests-per-workday",target:"resource-efficiency"},{source:"response-time",target:"efficient"},{source:"response-time",target:"performance"},{source:"response-time",target:"speed"},{source:"response-time",target:"time-behaviour"},{source:"response-time-for-image-rendering",target:"response-time"},{source:"response-time-for-image-rendering",target:"efficiency"},{source:"response-time-for-image-rendering",target:"performance"},{source:"response-time-for-image-rendering",target:"time-behaviour"},{source:"response-time-for-image-rendering",target:"speed"},{source:"response-time-for-image-rendering",target:"responsiveness"},{source:"responsiveness",target:"usable"},{source:"responsiveness",target:"efficient"},{source:"responsiveness",target:"response-time"},{source:"responsiveness",target:"usability"},{source:"responsiveness",target:"user-experience"},{source:"restore-filter-after-log-in",target:"functional-appropriateness"},{source:"restricted-memory",target:"efficiency"},{source:"restricted-memory",target:"resource-efficiency"},{source:"restricted-memory",target:"memory-usage"},{source:"reusability",target:"flexible"},{source:"reusability",target:"flexibility"},{source:"reusability",target:"adaptability"},{source:"reusability",target:"changeability"},{source:"reusability",target:"configurability"},{source:"reusability",target:"maintainability"},{source:"reusability",target:"modifiability"},{source:"risk-identification",target:"safe"},{source:"risk-identification",target:"reliable"},{source:"risk-identification",target:"safety"},{source:"risk-identification",target:"analysability"},{source:"robustness",target:"reliable"},{source:"robustness",target:"resilience"},{source:"robustness",target:"dependability"},{source:"robustness",target:"reliability"},{source:"rollout-new-feature",target:"agility"},{source:"rollout-new-feature",target:"changeability"},{source:"rollout-new-feature",target:"maintainability"},{source:"safe",target:"quality-root"},{source:"safe-integration",target:"safe"},{source:"safe-integration",target:"reliable"},{source:"safe-integration",target:"safety"},{source:"safe-integration",target:"robustness"},{source:"safety",target:"safe"},{source:"safety",target:"reliable"},{source:"safety",target:"secure"},{source:"safety",target:"availability"},{source:"safety",target:"robustness"},{source:"scalability",target:"flexible"},{source:"scalability",target:"adaptability"},{source:"scalability",target:"elasticity"},{source:"scalability",target:"performance"},{source:"scale-up-in-2-minutes",target:"elasticity"},{source:"scale-up-in-2-minutes",target:"scalability"},{source:"scale-up-in-2-minutes",target:"performance"},{source:"securability",target:"secure"},{source:"securability",target:"security"},{source:"secure",target:"quality-root"},{source:"security",target:"secure"},{source:"security",target:"reliable"},{source:"security",target:"integrity"},{source:"security",target:"availability"},{source:"security",target:"non-repudiation"},{source:"security",target:"confidentiality"},{source:"security",target:"accountability"},{source:"security",target:"authenticity"},{source:"security",target:"resistance"},{source:"self-containedness",target:"flexible"},{source:"self-containedness",target:"flexibility"},{source:"self-containedness",target:"adaptability"},{source:"self-containedness",target:"changeability"},{source:"self-containedness",target:"configurability"},{source:"self-containedness",target:"maintainability"},{source:"self-containedness",target:"modifiability"},{source:"self-containedness",target:"modularity"},{source:"self-descriptiveness",target:"usable"},{source:"self-descriptiveness",target:"usability"},{source:"self-descriptiveness",target:"user-assistance"},{source:"self-descriptiveness",target:"user-experience"},{source:"self-descriptiveness",target:"learnability"},{source:"self-descriptiveness",target:"conciseness"},{source:"server-fails-operation-without-downtime",target:"reliability"},{source:"server-fails-operation-without-downtime",target:"availability"},{source:"server-fails-operation-without-downtime",target:"high-availability"},{source:"server-fails-operation-without-downtime",target:"fault-tolerance"},{source:"server-fails-operation-without-downtime",target:"stability"},{source:"shutdown-to-safe-state",target:"dependability"},{source:"shutdown-to-safe-state",target:"safety"},{source:"shutdown-to-safe-state",target:"operability"},{source:"shutdown-to-safe-state",target:"fail-safe"},{source:"shutdown-to-safe-state",target:"reliability"},{source:"simplicity",target:"efficient"},{source:"simplicity",target:"usable"},{source:"simplicity",target:"efficiency"},{source:"simplicity",target:"modularity"},{source:"speed",target:"efficient"},{source:"speed",target:"efficiency"},{source:"speed",target:"performance"},{source:"speed",target:"performance"},{source:"speed",target:"time-behaviour"},{source:"speed-to-market",target:"efficient"},{source:"speed-to-market",target:"flexibility"},{source:"speed-to-market",target:"efficiency"},{source:"speed-to-market",target:"deployment-frequency"},{source:"speed-to-market",target:"extensibility"},{source:"speed-to-market",target:"lead-time-for-changes"},{source:"speed-to-market",target:"cycle-time"},{source:"stability",target:"reliable"},{source:"stability",target:"reliability"},{source:"stability",target:"adaptability"},{source:"stability",target:"changeability"},{source:"standard-compliance",target:"secure"},{source:"standard-compliance",target:"safe"},{source:"standard-compliance",target:"usable"},{source:"standard-compliance",target:"reliable"},{source:"standard-compliance",target:"efficient"},{source:"standard-compliance",target:"suitable"},{source:"standard-compliance",target:"compliance"},{source:"startup-time",target:"efficient"},{source:"startup-time",target:"efficiency"},{source:"startup-time",target:"performance"},{source:"startup-time",target:"performance"},{source:"startup-time",target:"time-behaviour"},{source:"suitability",target:"usable"},{source:"suitability",target:"reliable"},{source:"suitability",target:"suitable"},{source:"suitability",target:"usability"},{source:"suitability",target:"functionality"},{source:"suitability",target:"functional-completeness"},{source:"suitable",target:"quality-root"},{source:"sustainability",target:"efficient"},{source:"sustainability",target:"reliable"},{source:"sustainability",target:"energy-efficiency"},{source:"sustainability",target:"carbon-emission-efficiency"},{source:"system-runs-offline",target:"reliability"},{source:"system-runs-offline",target:"autonomy"},{source:"test-coverage",target:"suitable"},{source:"test-coverage",target:"flexible"},{source:"test-coverage",target:"maintainability"},{source:"test-coverage",target:"flexibility"},{source:"test-coverage",target:"modifiability"},{source:"test-coverage",target:"analysability"},{source:"test-coverage",target:"testability"},{source:"test-with-path-coverage-30min",target:"testability"},{source:"test-with-path-coverage-30min",target:"risk-identification"},{source:"test-with-path-coverage-30min",target:"cycle-time"},{source:"testability",target:"suitable"},{source:"testability",target:"flexible"},{source:"testability",target:"maintainability"},{source:"testability",target:"flexibility"},{source:"testability",target:"modifiability"},{source:"testability",target:"analysability"},{source:"throughput",target:"efficient"},{source:"throughput",target:"performance"},{source:"throughput",target:"efficiency"},{source:"throughput",target:"speed"},{source:"time-behaviour",target:"efficient"},{source:"time-behaviour",target:"efficiency"},{source:"time-behaviour",target:"resource-efficiency"},{source:"time-behaviour",target:"speed"},{source:"time-behaviour",target:"performance"},{source:"time-to-market",target:"efficient"},{source:"time-to-market",target:"flexibility"},{source:"time-to-market",target:"efficiency"},{source:"time-to-market",target:"deployment-frequency"},{source:"time-to-market",target:"extensibility"},{source:"time-to-market",target:"lead-time-for-changes"},{source:"time-to-market",target:"cycle-time"},{source:"timeliness",target:"efficient"},{source:"timeliness",target:"efficiency"},{source:"timeliness",target:"performance"},{source:"timeliness",target:"response-time"},{source:"timeliness",target:"speed"},{source:"traceability",target:"reliable"},{source:"traceability",target:"operable"},{source:"traceability",target:"devops-metrics"},{source:"traceability",target:"operability"},{source:"traceability",target:"testability"},{source:"transparency",target:"reliable"},{source:"transparency",target:"clarity"},{source:"transparency",target:"understandability"},{source:"transparency",target:"usability"},{source:"unavailability-max-2-minutes",target:"availability"},{source:"unavailability-max-2-minutes",target:"reliability"},{source:"understandability",target:"usable"},{source:"understandability",target:"operable"},{source:"understandability",target:"usability"},{source:"understandability",target:"self-descriptiveness"},{source:"understandability",target:"user-assistance"},{source:"understandability",target:"user-experience"},{source:"understandability",target:"learnability"},{source:"understandability",target:"conciseness"},{source:"understandable-acceptance-tests",target:"efficiency"},{source:"understandable-acceptance-tests",target:"maintainability"},{source:"understandable-acceptance-tests",target:"suitability"},{source:"understandable-acceptance-tests",target:"consistency"},{source:"understandable-acceptance-tests",target:"interaction-capability"},{source:"understandable-generated-code",target:"legibility"},{source:"understandable-generated-code",target:"code-readability"},{source:"understandable-generated-code",target:"readability"},{source:"understandable-generated-code",target:"maintainability"},{source:"understandable-generated-code",target:"understandability"},{source:"understandable-generated-code",target:"interaction-capability"},{source:"up-to-date-api",target:"reliability"},{source:"up-to-date-api",target:"accuracy"},{source:"up-to-date-api",target:"correctness"},{source:"upgradeability",target:"flexible"},{source:"upgradeability",target:"operable"},{source:"upgradeability",target:"flexibility"},{source:"upgradeability",target:"operability"},{source:"upgradeability",target:"predictability"},{source:"upgradeability",target:"releasability"},{source:"upgradeability",target:"installability"},{source:"usability",target:"usable"},{source:"usability",target:"operable"},{source:"usability",target:"functionality"},{source:"usability",target:"attractiveness"},{source:"usability",target:"operability"},{source:"usability",target:"user-error-protection"},{source:"usability",target:"user-engagement"},{source:"usability",target:"ease-of-use"},{source:"usability",target:"inclusivity"},{source:"usable",target:"quality-root"},{source:"usable-despite-color-blindness",target:"usability"},{source:"usable-despite-color-blindness",target:"user-experience"},{source:"usable-despite-color-blindness",target:"compliance"},{source:"usable-despite-color-blindness",target:"accessibility"},{source:"usable-despite-color-blindness",target:"inclusivity"},{source:"usable-despite-color-blindness",target:"interaction-capability"},{source:"usable-on-factory-floor",target:"anticipated-workplace-environment"},{source:"usable-on-factory-floor",target:"usability"},{source:"usable-on-factory-floor",target:"interaction-capability"},{source:"usable-with-gloves",target:"usability"},{source:"usable-with-gloves",target:"user-experience"},{source:"usable-with-gloves",target:"compliance"},{source:"usable-with-gloves",target:"interaction-capability"},{source:"user-assistance",target:"usable"},{source:"user-assistance",target:"usability"},{source:"user-assistance",target:"user-error-protection"},{source:"user-assistance",target:"user-engagement"},{source:"user-engagement",target:"usable"},{source:"user-engagement",target:"usability"},{source:"user-error-protection",target:"usable"},{source:"user-error-protection",target:"operable"},{source:"user-error-protection",target:"usability"},{source:"user-error-protection",target:"operability"},{source:"user-error-protection",target:"robustness"},{source:"user-experience",target:"usable"},{source:"user-experience",target:"usability"},{source:"user-experience",target:"user-interface-aesthetics"},{source:"user-experience",target:"user-error-protection"},{source:"user-experience",target:"accessibility"},{source:"user-interface-aesthetics",target:"usable"},{source:"user-interface-aesthetics",target:"usability"},{source:"user-interface-works-with-current-browsers",target:"flexibility"},{source:"user-interface-works-with-current-browsers",target:"portability"},{source:"user-interface-works-with-current-browsers",target:"compatibility"},{source:"user-interface-works-with-current-browsers",target:"interoperability"},{source:"user-interface-works-with-current-browsers",target:"interaction-capability"},{source:"user-tries-primary-function",target:"functional-appropriateness"},{source:"user-tries-primary-function",target:"functional-completeness"},{source:"user-tries-primary-function",target:"user-experience"},{source:"user-tries-primary-function",target:"appropriateness-recognizability"},{source:"user-tries-primary-function",target:"interaction-capability"},{source:"versatility",target:"flexible"},{source:"versatility",target:"suitable"},{source:"versatility",target:"flexibility"},{source:"versatility",target:"adaptability"},{source:"vulnerability",target:"secure"},{source:"vulnerability",target:"reliable"},{source:"vulnerability",target:"reliability"},{source:"vulnerability",target:"availability"},{source:"vulnerability",target:"fault-tolerance"},{source:"vulnerability",target:"immunity"},{source:"withstand-ddos-attack",target:"resilience"},{source:"withstand-ddos-attack",target:"reliability"},{source:"withstand-ddos-attack",target:"availability"},{source:"withstand-ddos-attack",target:"high-availability"},{source:"withstand-ddos-attack",target:"recoverability"},{source:"withstand-ddos-attack",target:"intrusion-detection"},{source:"withstand-ddos-attack",target:"resistance"},{source:"zero-knowledge-data-storage",target:"confidentiality"},{source:"zero-knowledge-data-storage",target:"security"},{source:"zero-knowledge-data-storage",target:"privacy"}];function ji(a,t,i,e){a.addNode("quality-root",{label:t,size:i,x:0,y:0,color:e})}function xt(a,t){t.forEach(i=>a.addNode(i.id,{label:i.label,size:i.size,color:i.color,qualityType:i.qualityType,page:i.page}))}function Vi(a,t){t.forEach(i=>a.addEdge(i.source,i.target))}function Yi(a,t){switch(a.getNodeAttribute(t,"qualityType")){case"property":return"green";case"quality":return"blue";default:return"orange"}}function Ki(a,t,i=150){a.updateNodeAttributes(t,u=>({...u,x:0,y:0,hierarchyLevel:1}));let e=a.inNeighbors(t).filter(u=>a.getNodeAttribute(u,"qualityType")==="property"),r=2*Math.PI/e.length;e.forEach((u,c)=>{let d=c*r,g=i*Math.cos(d),h=i*Math.sin(d);a.updateNodeAttributes(u,f=>({...f,x:g,y:h,angle:d,hierarchyLevel:2}))});let n=new Set,o=new Map;e.forEach(u=>{a.inNeighbors(u).forEach(c=>{a.getNodeAttribute(c,"qualityType")==="quality"&&(n.add(c),o.has(c)||o.set(c,[]),o.get(c).push(u))})});let s=new Map;if(o.forEach((u,c)=>{let d=u.length;s.has(d)||s.set(d,[]),s.get(d).push({id:c,connections:u})}),s.has(1)){let u=s.get(1),c=new Map;u.forEach(({id:d,connections:g})=>{let h=g[0];c.has(h)||c.set(h,[]),c.get(h).push(d)}),c.forEach((d,g)=>{let h=a.getNodeAttribute(g,"x"),f=a.getNodeAttribute(g,"y"),p=a.getNodeAttribute(g,"angle"),m=i*1,T=Math.PI/1.5/(d.length+1);d.forEach((v,E)=>{let x=p-Math.PI/4+(E+1)*T,z=h+m*Math.cos(x),A=f+m*Math.sin(x);a.updateNodeAttributes(v,k=>({...k,x:z,y:A,hierarchyLevel:3}))})})}for(let u=2;u<=e.length;u++)s.has(u)&&s.get(u).forEach(({id:d,connections:g})=>{let h=0,f=0;g.forEach(T=>{h+=a.getNodeAttribute(T,"x"),f+=a.getNodeAttribute(T,"y")}),h/=g.length,f/=g.length;let p=Math.sqrt(h*h+f*f),m=p+i*.8;if(p>0){let T=m/p;h*=T,f*=T}a.updateNodeAttributes(d,T=>({...T,x:h,y:f,hierarchyLevel:3}))});let l=new Set;if(n.forEach(u=>{a.inNeighbors(u).forEach(c=>{a.getNodeAttribute(c,"qualityType")==="requirement"&&l.add(c)})}),l.size>0){let u=new Map;l.forEach(c=>{let d=a.outNeighbors(c).filter(g=>a.getNodeAttribute(g,"qualityType")==="quality");if(d.length>0){let g=d[0];u.has(g)||u.set(g,[]),u.get(g).push(c)}}),u.forEach((c,d)=>{let g=a.getNodeAttribute(d,"x"),h=a.getNodeAttribute(d,"y"),f=Math.atan2(h,g),p=i*.7,m=Math.PI/(c.length+1);c.forEach((T,v)=>{let E=f+Math.PI-m*(c.length/2)+m*(v+1),x=g+p*Math.cos(E),z=h+p*Math.sin(E);a.updateNodeAttributes(T,A=>({...A,x,y:z,hierarchyLevel:4}))})})}Ln(a,30)}function Ln(a,t){let e=[];a.forEachNode((r,n)=>{let o=n.qualityType,s=t;o==="quality"&&(s=t*1.5),e.push({id:r,x:n.x,y:n.y,level:n.hierarchyLevel||1,fixed:r==="quality-root",qualityType:o,minDist:s})});for(let r=0;r<50;r++){let n=!1;for(let o=0;o<e.length;o++){if(e[o].fixed)continue;let s=0,l=0;for(let g=0;g<e.length;g++){if(o===g)continue;let h=e[o].x-e[g].x,f=e[o].y-e[g].y,p=Math.sqrt(h*h+f*f),m=Math.max(e[o].minDist,e[g].minDist);if(p>0&&p<m){let T=.1;e[o].qualityType==="quality"&&(T=.15);let v=(m-p)/p;s+=h*v*T,l+=f*v*T,n=!0}}(s!==0||l!==0)&&(e[o].x+=s,e[o].y+=l);let u=e[o],c=Math.sqrt(u.x*u.x+u.y*u.y),d=(u.level-1)*t*3;if(Math.abs(c-d)>t*.5){let g=Math.atan2(u.y,u.x);e[o].x=d*Math.cos(g),e[o].y=d*Math.sin(g)}}if(!n)break}e.forEach(({id:r,x:n,y:o})=>{a.updateNodeAttributes(r,s=>({...s,x:n,y:o}))})}var Zi=(a,t)=>{a!=="quality-root"&&(t.getContainer().style.cursor="pointer")},Xi=a=>a.getContainer().style.cursor="default",Nn=(a,t)=>{a.on("enterNode",i=>{let e=i.node;Zi(e,a),t.getNodeAttribute(e,"qualityType")==="property"&&t.forEachEdge((r,n,o,s)=>{let l=t.getNodeAttribute(o,"qualityType")==="property";s===e?(t.updateNodeAttribute(o,"hidden",()=>!1),t.updateEdgeAttribute(r,"hidden",()=>!1)):l||t.updateEdgeAttribute(r,"hidden",()=>!0)}),a.refresh()}),a.on("leaveNode",()=>{Xi(a),t.forEachNode(i=>{let{qualityType:e,hidden:r}=t.getNodeAttributes(i);e==="quality"&&!r&&t.updateNodeAttribute(i,"hidden",()=>!0)}),a.refresh()})},Dn=(a,t)=>{a.on("enterNode",i=>{let e=i.node;Zi(e,a),t.forEachEdge((r,n,o,s)=>{let l=o===e||s===e;t.updateEdgeAttribute(r,"color",()=>l?"red":"#E0E0E0")}),t.forEachNode(r=>{let n=t.hasEdge(e,r)||t.hasEdge(r,e);t.updateNodeAttribute(r,"color",()=>n?t.getNodeAttribute(r,"color"):"#CCCCCC")})}),a.on("leaveNode",()=>{Xi(a),t.forEachEdge(i=>{t.updateEdgeAttribute(i,"color",()=>Ee.defaultEdgeColor)}),t.forEachNode(i=>{t.updateNodeAttribute(i,"color",()=>Yi(t,i))})})},Qi=(a,t)=>{let i=a.getAttribute("name");t.on("doubleClickNode",e=>{e.node!=="quality-root"&&(window.location.href=a.getNodeAttribute(e.node,"page"))}),i==="home"?Nn(t,a):Dn(t,a)};var Gn=(a,t,i)=>{if(!a||a.trim()===""){t.forEachNode(n=>{t.setNodeAttribute(n,"hidden",!1)}),t.forEachEdge(n=>{t.setEdgeAttribute(n,"hidden",!1)}),i.refresh();return}let e=a.toLowerCase(),r=new Set;t.forEachNode(n=>{let s=t.getNodeAttribute(n,"label").toLowerCase().includes(e);t.setNodeAttribute(n,"hidden",!s),s&&r.add(n)}),t.forEachEdge((n,o,s,l)=>{let u=r.has(s)||r.has(l);t.setEdgeAttribute(n,"hidden",!u),u&&(t.setNodeAttribute(s,"hidden",!1),t.setNodeAttribute(l,"hidden",!1))}),t.updateNodeAttribute("quality-root","hidden",()=>!1),i.refresh()},Ji=(a,t)=>{let i=document.getElementById("full-q-graph-filter__input"),e=document.getElementById("full-q-graph-filter__btn");if(!i){console.error("Filter input element not found");return}if(!e){console.error("Filter button element not found");return}let r=()=>Gn(i.value,a,t);e.addEventListener("click",()=>r()),i.addEventListener("keyup",n=>{(n.key==="Enter"||n.keyCode===13)&&r()})};var Z=new ye;Z.setAttribute("name","fullpage");Z.setAttribute("qualityType","q42");try{ji(Z,"Quality",35,"orange"),xt(Z,Bi),xt(Z,Hi),Vi(Z,Wi)}catch(a){console.error("Could not render graph",{cause:a})}Ki(Z,"quality-root",250);var er=new $i(Z,document.getElementById("full-q-graph-container"),{allowInvalidContainer:!0,autoRescale:!0,autoCenter:!0});Qi(Z,er);Ji(Z,er);})();
//# sourceMappingURL=main.js.map
